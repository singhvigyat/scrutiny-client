function Mp(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in e)){const r=Object.getOwnPropertyDescriptor(a,i);r&&Object.defineProperty(e,i,r.get?r:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Bp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Lp(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var i=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,i.get?i:{enumerable:!0,get:function(){return e[a]}})}),n}var Bf={exports:{}},_l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p=Symbol.for("react.transitional.element"),qp=Symbol.for("react.fragment");function Lf(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:$p,type:e,key:a,ref:t!==void 0?t:null,props:n}}_l.Fragment=qp;_l.jsx=Lf;_l.jsxs=Lf;Bf.exports=_l;var g=Bf.exports,$f={exports:{}},G={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ac=Symbol.for("react.transitional.element"),Hp=Symbol.for("react.portal"),Gp=Symbol.for("react.fragment"),Vp=Symbol.for("react.strict_mode"),Kp=Symbol.for("react.profiler"),Yp=Symbol.for("react.consumer"),Qp=Symbol.for("react.context"),Jp=Symbol.for("react.forward_ref"),Pp=Symbol.for("react.suspense"),Xp=Symbol.for("react.memo"),qf=Symbol.for("react.lazy"),Ip=Symbol.for("react.activity"),Ad=Symbol.iterator;function Zp(e){return e===null||typeof e!="object"?null:(e=Ad&&e[Ad]||e["@@iterator"],typeof e=="function"?e:null)}var Hf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gf=Object.assign,Vf={};function bi(e,t,n){this.props=e,this.context=t,this.refs=Vf,this.updater=n||Hf}bi.prototype.isReactComponent={};bi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Kf(){}Kf.prototype=bi.prototype;function ic(e,t,n){this.props=e,this.context=t,this.refs=Vf,this.updater=n||Hf}var rc=ic.prototype=new Kf;rc.constructor=ic;Gf(rc,bi.prototype);rc.isPureReactComponent=!0;var Od=Array.isArray;function Ko(){}var de={H:null,A:null,T:null,S:null},Yf=Object.prototype.hasOwnProperty;function sc(e,t,n){var a=n.ref;return{$$typeof:ac,type:e,key:t,ref:a!==void 0?a:null,props:n}}function Wp(e,t){return sc(e.type,t,e.props)}function lc(e){return typeof e=="object"&&e!==null&&e.$$typeof===ac}function Fp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var jd=/\/+/g;function Jl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Fp(""+e.key):t.toString(36)}function ev(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Ko,Ko):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Ma(e,t,n,a,i){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(r){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ac:case Hp:s=!0;break;case qf:return s=e._init,Ma(s(e._payload),t,n,a,i)}}if(s)return i=i(e),s=a===""?"."+Jl(e,0):a,Od(i)?(n="",s!=null&&(n=s.replace(jd,"$&/")+"/"),Ma(i,t,n,"",function(u){return u})):i!=null&&(lc(i)&&(i=Wp(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(jd,"$&/")+"/")+s)),t.push(i)),1;s=0;var l=a===""?".":a+":";if(Od(e))for(var o=0;o<e.length;o++)a=e[o],r=l+Jl(a,o),s+=Ma(a,t,n,r,i);else if(o=Zp(e),typeof o=="function")for(e=o.call(e),o=0;!(a=e.next()).done;)a=a.value,r=l+Jl(a,o++),s+=Ma(a,t,n,r,i);else if(r==="object"){if(typeof e.then=="function")return Ma(ev(e),t,n,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Xr(e,t,n){if(e==null)return e;var a=[],i=0;return Ma(e,a,"","",function(r){return t.call(n,r,i++)}),a}function tv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kd=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},nv={map:Xr,forEach:function(e,t,n){Xr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xr(e,function(){t++}),t},toArray:function(e){return Xr(e,function(t){return t})||[]},only:function(e){if(!lc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Activity=Ip;G.Children=nv;G.Component=bi;G.Fragment=Gp;G.Profiler=Kp;G.PureComponent=ic;G.StrictMode=Vp;G.Suspense=Pp;G.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de;G.__COMPILER_RUNTIME={__proto__:null,c:function(e){return de.H.useMemoCache(e)}};G.cache=function(e){return function(){return e.apply(null,arguments)}};G.cacheSignal=function(){return null};G.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=Gf({},e.props),i=e.key;if(t!=null)for(r in t.key!==void 0&&(i=""+t.key),t)!Yf.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(a[r]=t[r]);var r=arguments.length-2;if(r===1)a.children=n;else if(1<r){for(var s=Array(r),l=0;l<r;l++)s[l]=arguments[l+2];a.children=s}return sc(e.type,i,a)};G.createContext=function(e){return e={$$typeof:Qp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Yp,_context:e},e};G.createElement=function(e,t,n){var a,i={},r=null;if(t!=null)for(a in t.key!==void 0&&(r=""+t.key),t)Yf.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(i[a]=t[a]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),o=0;o<s;o++)l[o]=arguments[o+2];i.children=l}if(e&&e.defaultProps)for(a in s=e.defaultProps,s)i[a]===void 0&&(i[a]=s[a]);return sc(e,r,i)};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:Jp,render:e}};G.isValidElement=lc;G.lazy=function(e){return{$$typeof:qf,_payload:{_status:-1,_result:e},_init:tv}};G.memo=function(e,t){return{$$typeof:Xp,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=de.T,n={};de.T=n;try{var a=e(),i=de.S;i!==null&&i(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(Ko,kd)}catch(r){kd(r)}finally{t!==null&&n.types!==null&&(t.types=n.types),de.T=t}};G.unstable_useCacheRefresh=function(){return de.H.useCacheRefresh()};G.use=function(e){return de.H.use(e)};G.useActionState=function(e,t,n){return de.H.useActionState(e,t,n)};G.useCallback=function(e,t){return de.H.useCallback(e,t)};G.useContext=function(e){return de.H.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e,t){return de.H.useDeferredValue(e,t)};G.useEffect=function(e,t){return de.H.useEffect(e,t)};G.useEffectEvent=function(e){return de.H.useEffectEvent(e)};G.useId=function(){return de.H.useId()};G.useImperativeHandle=function(e,t,n){return de.H.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return de.H.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return de.H.useLayoutEffect(e,t)};G.useMemo=function(e,t){return de.H.useMemo(e,t)};G.useOptimistic=function(e,t){return de.H.useOptimistic(e,t)};G.useReducer=function(e,t,n){return de.H.useReducer(e,t,n)};G.useRef=function(e){return de.H.useRef(e)};G.useState=function(e){return de.H.useState(e)};G.useSyncExternalStore=function(e,t,n){return de.H.useSyncExternalStore(e,t,n)};G.useTransition=function(){return de.H.useTransition()};G.version="19.2.0";$f.exports=G;var S=$f.exports;const Qf=Bp(S);var Jf={exports:{}},wl={},Pf={exports:{}},Xf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,q){var $=N.length;N.push(q);e:for(;0<$;){var ae=$-1>>>1,Te=N[ae];if(0<i(Te,q))N[ae]=q,N[$]=Te,$=ae;else break e}}function n(N){return N.length===0?null:N[0]}function a(N){if(N.length===0)return null;var q=N[0],$=N.pop();if($!==q){N[0]=$;e:for(var ae=0,Te=N.length,Xn=Te>>>1;ae<Xn;){var Ea=2*(ae+1)-1,Ta=N[Ea],Jt=Ea+1,Bt=N[Jt];if(0>i(Ta,$))Jt<Te&&0>i(Bt,Ta)?(N[ae]=Bt,N[Jt]=$,ae=Jt):(N[ae]=Ta,N[Ea]=$,ae=Ea);else if(Jt<Te&&0>i(Bt,$))N[ae]=Bt,N[Jt]=$,ae=Jt;else break e}}return q}function i(N,q){var $=N.sortIndex-q.sortIndex;return $!==0?$:N.id-q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var o=[],u=[],c=1,d=null,h=3,f=!1,v=!1,_=!1,b=!1,p=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function w(N){for(var q=n(u);q!==null;){if(q.callback===null)a(u);else if(q.startTime<=N)a(u),q.sortIndex=q.expirationTime,t(o,q);else break;q=n(u)}}function T(N){if(_=!1,w(N),!v)if(n(o)!==null)v=!0,A||(A=!0,ee());else{var q=n(u);q!==null&&Z(T,q.startTime-N)}}var A=!1,E=-1,j=5,x=-1;function k(){return b?!0:!(e.unstable_now()-x<j)}function M(){if(b=!1,A){var N=e.unstable_now();x=N;var q=!0;try{e:{v=!1,_&&(_=!1,m(E),E=-1),f=!0;var $=h;try{t:{for(w(N),d=n(o);d!==null&&!(d.expirationTime>N&&k());){var ae=d.callback;if(typeof ae=="function"){d.callback=null,h=d.priorityLevel;var Te=ae(d.expirationTime<=N);if(N=e.unstable_now(),typeof Te=="function"){d.callback=Te,w(N),q=!0;break t}d===n(o)&&a(o),w(N)}else a(o);d=n(o)}if(d!==null)q=!0;else{var Xn=n(u);Xn!==null&&Z(T,Xn.startTime-N),q=!1}}break e}finally{d=null,h=$,f=!1}q=void 0}}finally{q?ee():A=!1}}}var ee;if(typeof y=="function")ee=function(){y(M)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Ce=we.port2;we.port1.onmessage=M,ee=function(){Ce.postMessage(null)}}else ee=function(){p(M,0)};function Z(N,q){E=p(function(){N(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(N){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var $=h;h=q;try{return N()}finally{h=$}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(N,q){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var $=h;h=N;try{return q()}finally{h=$}},e.unstable_scheduleCallback=function(N,q,$){var ae=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ae+$:ae):$=ae,N){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=$+Te,N={id:c++,callback:q,priorityLevel:N,startTime:$,expirationTime:Te,sortIndex:-1},$>ae?(N.sortIndex=$,t(u,N),n(o)===null&&N===n(u)&&(_?(m(E),E=-1):_=!0,Z(T,$-ae))):(N.sortIndex=Te,t(o,N),v||f||(v=!0,A||(A=!0,ee()))),N},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(N){var q=h;return function(){var $=h;h=q;try{return N.apply(this,arguments)}finally{h=$}}}})(Xf);Pf.exports=Xf;var av=Pf.exports,If={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv=S;function Zf(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function pn(){}var Ie={d:{f:pn,r:function(){throw Error(Zf(522))},D:pn,C:pn,L:pn,m:pn,X:pn,S:pn,M:pn},p:0,findDOMNode:null},rv=Symbol.for("react.portal");function sv(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rv,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var Fi=iv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Sl(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ie;Ze.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Zf(299));return sv(e,t,null,n)};Ze.flushSync=function(e){var t=Fi.T,n=Ie.p;try{if(Fi.T=null,Ie.p=2,e)return e()}finally{Fi.T=t,Ie.p=n,Ie.d.f()}};Ze.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ie.d.C(e,t))};Ze.prefetchDNS=function(e){typeof e=="string"&&Ie.d.D(e)};Ze.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=Sl(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,r=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Ie.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:i,fetchPriority:r}):n==="script"&&Ie.d.X(e,{crossOrigin:a,integrity:i,fetchPriority:r,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ze.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Sl(t.as,t.crossOrigin);Ie.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ie.d.M(e)};Ze.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=Sl(n,t.crossOrigin);Ie.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ze.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Sl(t.as,t.crossOrigin);Ie.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ie.d.m(e)};Ze.requestFormReset=function(e){Ie.d.r(e)};Ze.unstable_batchedUpdates=function(e,t){return e(t)};Ze.useFormState=function(e,t,n){return Fi.H.useFormState(e,t,n)};Ze.useFormStatus=function(){return Fi.H.useHostTransitionStatus()};Ze.version="19.2.0";function Wf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wf)}catch(e){console.error(e)}}Wf(),If.exports=Ze;var lv=If.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var De=av,Ff=S,ov=lv;function O(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function em(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ur(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function tm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nm(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rd(e){if(Ur(e)!==e)throw Error(O(188))}function uv(e){var t=e.alternate;if(!t){if(t=Ur(e),t===null)throw Error(O(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return Rd(i),e;if(r===a)return Rd(i),t;r=r.sibling}throw Error(O(188))}if(n.return!==a.return)n=i,a=r;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,a=r;break}if(l===a){s=!0,a=i,n=r;break}l=l.sibling}if(!s){for(l=r.child;l;){if(l===n){s=!0,n=r,a=i;break}if(l===a){s=!0,a=r,n=i;break}l=l.sibling}if(!s)throw Error(O(189))}}if(n.alternate!==a)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?e:t}function am(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=am(e),t!==null)return t;e=e.sibling}return null}var he=Object.assign,cv=Symbol.for("react.element"),Ir=Symbol.for("react.transitional.element"),Qi=Symbol.for("react.portal"),Ha=Symbol.for("react.fragment"),im=Symbol.for("react.strict_mode"),Yo=Symbol.for("react.profiler"),rm=Symbol.for("react.consumer"),nn=Symbol.for("react.context"),oc=Symbol.for("react.forward_ref"),Qo=Symbol.for("react.suspense"),Jo=Symbol.for("react.suspense_list"),uc=Symbol.for("react.memo"),_n=Symbol.for("react.lazy"),Po=Symbol.for("react.activity"),dv=Symbol.for("react.memo_cache_sentinel"),Nd=Symbol.iterator;function Bi(e){return e===null||typeof e!="object"?null:(e=Nd&&e[Nd]||e["@@iterator"],typeof e=="function"?e:null)}var hv=Symbol.for("react.client.reference");function Xo(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===hv?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ha:return"Fragment";case Yo:return"Profiler";case im:return"StrictMode";case Qo:return"Suspense";case Jo:return"SuspenseList";case Po:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Qi:return"Portal";case nn:return e.displayName||"Context";case rm:return(e._context.displayName||"Context")+".Consumer";case oc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case uc:return t=e.displayName||null,t!==null?t:Xo(e.type)||"Memo";case _n:t=e._payload,e=e._init;try{return Xo(e(t))}catch{}}return null}var Ji=Array.isArray,L=Ff.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=ov.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ua={pending:!1,data:null,method:null,action:null},Io=[],Ga=-1;function Vt(e){return{current:e}}function $e(e){0>Ga||(e.current=Io[Ga],Io[Ga]=null,Ga--)}function le(e,t){Ga++,Io[Ga]=e.current,e.current=t}var Gt=Vt(null),gr=Vt(null),Cn=Vt(null),Ls=Vt(null);function $s(e,t){switch(le(Cn,t),le(gr,e),le(Gt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Bh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Bh(t),e=T0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$e(Gt),le(Gt,e)}function li(){$e(Gt),$e(gr),$e(Cn)}function Zo(e){e.memoizedState!==null&&le(Ls,e);var t=Gt.current,n=T0(t,e.type);t!==n&&(le(gr,e),le(Gt,n))}function qs(e){gr.current===e&&($e(Gt),$e(gr)),Ls.current===e&&($e(Ls),Ar._currentValue=ua)}var Pl,Cd;function ea(e){if(Pl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Pl=t&&t[1]||"",Cd=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pl+e+Cd}var Xl=!1;function Il(e,t){if(!e||Xl)return"";Xl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(f){var h=f}Reflect.construct(e,[],d)}else{try{d.call()}catch(f){h=f}e.call(d.prototype)}}else{try{throw Error()}catch(f){h=f}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(f){if(f&&h&&typeof f.stack=="string")return[f.stack,h.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=a.DetermineComponentFrameRoot(),s=r[0],l=r[1];if(s&&l){var o=s.split(`
`),u=l.split(`
`);for(i=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(a===o.length||i===u.length)for(a=o.length-1,i=u.length-1;1<=a&&0<=i&&o[a]!==u[i];)i--;for(;1<=a&&0<=i;a--,i--)if(o[a]!==u[i]){if(a!==1||i!==1)do if(a--,i--,0>i||o[a]!==u[i]){var c=`
`+o[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=i);break}}}finally{Xl=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ea(n):""}function fv(e,t){switch(e.tag){case 26:case 27:case 5:return ea(e.type);case 16:return ea("Lazy");case 13:return e.child!==t&&t!==null?ea("Suspense Fallback"):ea("Suspense");case 19:return ea("SuspenseList");case 0:case 15:return Il(e.type,!1);case 11:return Il(e.type.render,!1);case 1:return Il(e.type,!0);case 31:return ea("Activity");default:return""}}function Ud(e){try{var t="",n=null;do t+=fv(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Wo=Object.prototype.hasOwnProperty,cc=De.unstable_scheduleCallback,Zl=De.unstable_cancelCallback,mv=De.unstable_shouldYield,gv=De.unstable_requestPaint,ht=De.unstable_now,yv=De.unstable_getCurrentPriorityLevel,sm=De.unstable_ImmediatePriority,lm=De.unstable_UserBlockingPriority,Hs=De.unstable_NormalPriority,pv=De.unstable_LowPriority,om=De.unstable_IdlePriority,vv=De.log,bv=De.unstable_setDisableYieldValue,zr=null,ft=null;function On(e){if(typeof vv=="function"&&bv(e),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(zr,e)}catch{}}var mt=Math.clz32?Math.clz32:Sv,_v=Math.log,wv=Math.LN2;function Sv(e){return e>>>=0,e===0?32:31-(_v(e)/wv|0)|0}var Zr=256,Wr=262144,Fr=4194304;function ta(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xl(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var i=0,r=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var l=a&134217727;return l!==0?(a=l&~r,a!==0?i=ta(a):(s&=l,s!==0?i=ta(s):n||(n=l&~e,n!==0&&(i=ta(n))))):(l=a&~r,l!==0?i=ta(l):s!==0?i=ta(s):n||(n=a&~e,n!==0&&(i=ta(n)))),i===0?0:t!==0&&t!==i&&!(t&r)&&(r=i&-i,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:i}function Dr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function xv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function um(){var e=Fr;return Fr<<=1,!(Fr&62914560)&&(Fr=4194304),e}function Wl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Mr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ev(e,t,n,a,i,r){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var c=31-mt(n),d=1<<c;l[c]=0,o[c]=-1;var h=u[c];if(h!==null)for(u[c]=null,c=0;c<h.length;c++){var f=h[c];f!==null&&(f.lane&=-536870913)}n&=~d}a!==0&&cm(e,a,0),r!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=r&~(s&~t))}function cm(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-mt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function dm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-mt(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}function hm(e,t){var n=t&-t;return n=n&42?1:dc(n),n&(e.suspendedLanes|t)?0:n}function dc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function hc(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function fm(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:M0(e.type))}function zd(e,t){var n=I.p;try{return I.p=e,t()}finally{I.p=n}}var Qn=Math.random().toString(36).slice(2),Ve="__reactFiber$"+Qn,at="__reactProps$"+Qn,_i="__reactContainer$"+Qn,Fo="__reactEvents$"+Qn,Tv="__reactListeners$"+Qn,Av="__reactHandles$"+Qn,Dd="__reactResources$"+Qn,Br="__reactMarker$"+Qn;function fc(e){delete e[Ve],delete e[at],delete e[Fo],delete e[Tv],delete e[Av]}function Va(e){var t=e[Ve];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_i]||n[Ve]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Gh(e);e!==null;){if(n=e[Ve])return n;e=Gh(e)}return t}e=n,n=e.parentNode}return null}function wi(e){if(e=e[Ve]||e[_i]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Pi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(O(33))}function Fa(e){var t=e[Dd];return t||(t=e[Dd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Le(e){e[Br]=!0}var mm=new Set,gm={};function ba(e,t){oi(e,t),oi(e+"Capture",t)}function oi(e,t){for(gm[e]=t,e=0;e<t.length;e++)mm.add(t[e])}var Ov=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Md={},Bd={};function jv(e){return Wo.call(Bd,e)?!0:Wo.call(Md,e)?!1:Ov.test(e)?Bd[e]=!0:(Md[e]=!0,!1)}function ws(e,t,n){if(jv(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function es(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Pt(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function _t(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ym(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kv(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,r.call(this,s)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function eu(e){if(!e._valueTracker){var t=ym(e)?"checked":"value";e._valueTracker=kv(e,t,""+e[t])}}function pm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=ym(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Gs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rv=/[\n"\\]/g;function xt(e){return e.replace(Rv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function tu(e,t,n,a,i,r,s,l){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+_t(t)):e.value!==""+_t(t)&&(e.value=""+_t(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?nu(e,s,_t(t)):n!=null?nu(e,s,_t(n)):a!=null&&e.removeAttribute("value"),i==null&&r!=null&&(e.defaultChecked=!!r),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+_t(l):e.removeAttribute("name")}function vm(e,t,n,a,i,r,s,l){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){eu(e);return}n=n!=null?""+_t(n):"",t=t!=null?""+_t(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}a=a??i,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=l?e.checked:!!a,e.defaultChecked=!!a,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),eu(e)}function nu(e,t,n){t==="number"&&Gs(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ei(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+_t(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function bm(e,t,n){if(t!=null&&(t=""+_t(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+_t(n):""}function _m(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(O(92));if(Ji(a)){if(1<a.length)throw Error(O(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=_t(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),eu(e)}function ui(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Nv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ld(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Nv.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function wm(e,t,n){if(t!=null&&typeof t!="object")throw Error(O(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var i in t)a=t[i],t.hasOwnProperty(i)&&n[i]!==a&&Ld(e,i,a)}else for(var r in t)t.hasOwnProperty(r)&&Ld(e,r,t[r])}function mc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ss(e){return Uv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function an(){}var au=null;function gc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ka=null,ti=null;function $d(e){var t=wi(e);if(t&&(e=t.stateNode)){var n=e[at]||null;e:switch(e=t.stateNode,t.type){case"input":if(tu(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+xt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=a[at]||null;if(!i)throw Error(O(90));tu(a,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&pm(a)}break e;case"textarea":bm(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ei(e,!!n.multiple,t,!1)}}}var Fl=!1;function Sm(e,t,n){if(Fl)return e(t,n);Fl=!0;try{var a=e(t);return a}finally{if(Fl=!1,(Ka!==null||ti!==null)&&(Dl(),Ka&&(t=Ka,e=ti,ti=Ka=null,$d(t),e)))for(t=0;t<e.length;t++)$d(e[t])}}function yr(e,t){var n=e.stateNode;if(n===null)return null;var a=n[at]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(O(231,t,typeof n));return n}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),iu=!1;if(cn)try{var Li={};Object.defineProperty(Li,"passive",{get:function(){iu=!0}}),window.addEventListener("test",Li,Li),window.removeEventListener("test",Li,Li)}catch{iu=!1}var jn=null,yc=null,xs=null;function xm(){if(xs)return xs;var e,t=yc,n=t.length,a,i="value"in jn?jn.value:jn.textContent,r=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(a=1;a<=s&&t[n-a]===i[r-a];a++);return xs=i.slice(e,1<a?1-a:void 0)}function Es(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ts(){return!0}function qd(){return!1}function it(e){function t(n,a,i,r,s){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=r,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?ts:qd,this.isPropagationStopped=qd,this}return he(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),t}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},El=it(_a),Lr=he({},_a,{view:0,detail:0}),zv=it(Lr),eo,to,$i,Tl=he({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$i&&($i&&e.type==="mousemove"?(eo=e.screenX-$i.screenX,to=e.screenY-$i.screenY):to=eo=0,$i=e),eo)},movementY:function(e){return"movementY"in e?e.movementY:to}}),Hd=it(Tl),Dv=he({},Tl,{dataTransfer:0}),Mv=it(Dv),Bv=he({},Lr,{relatedTarget:0}),no=it(Bv),Lv=he({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),$v=it(Lv),qv=he({},_a,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hv=it(qv),Gv=he({},_a,{data:0}),Gd=it(Gv),Vv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yv[e])?!!t[e]:!1}function pc(){return Qv}var Jv=he({},Lr,{key:function(e){if(e.key){var t=Vv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pc,charCode:function(e){return e.type==="keypress"?Es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pv=it(Jv),Xv=he({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vd=it(Xv),Iv=he({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pc}),Zv=it(Iv),Wv=he({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fv=it(Wv),eb=he({},Tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tb=it(eb),nb=he({},_a,{newState:0,oldState:0}),ab=it(nb),ib=[9,13,27,32],vc=cn&&"CompositionEvent"in window,er=null;cn&&"documentMode"in document&&(er=document.documentMode);var rb=cn&&"TextEvent"in window&&!er,Em=cn&&(!vc||er&&8<er&&11>=er),Kd=" ",Yd=!1;function Tm(e,t){switch(e){case"keyup":return ib.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Am(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ya=!1;function sb(e,t){switch(e){case"compositionend":return Am(t);case"keypress":return t.which!==32?null:(Yd=!0,Kd);case"textInput":return e=t.data,e===Kd&&Yd?null:e;default:return null}}function lb(e,t){if(Ya)return e==="compositionend"||!vc&&Tm(e,t)?(e=xm(),xs=yc=jn=null,Ya=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Em&&t.locale!=="ko"?null:t.data;default:return null}}var ob={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ob[e.type]:t==="textarea"}function Om(e,t,n,a){Ka?ti?ti.push(a):ti=[a]:Ka=a,t=sl(t,"onChange"),0<t.length&&(n=new El("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var tr=null,pr=null;function ub(e){S0(e,0)}function Al(e){var t=Pi(e);if(pm(t))return e}function Jd(e,t){if(e==="change")return t}var jm=!1;if(cn){var ao;if(cn){var io="oninput"in document;if(!io){var Pd=document.createElement("div");Pd.setAttribute("oninput","return;"),io=typeof Pd.oninput=="function"}ao=io}else ao=!1;jm=ao&&(!document.documentMode||9<document.documentMode)}function Xd(){tr&&(tr.detachEvent("onpropertychange",km),pr=tr=null)}function km(e){if(e.propertyName==="value"&&Al(pr)){var t=[];Om(t,pr,e,gc(e)),Sm(ub,t)}}function cb(e,t,n){e==="focusin"?(Xd(),tr=t,pr=n,tr.attachEvent("onpropertychange",km)):e==="focusout"&&Xd()}function db(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Al(pr)}function hb(e,t){if(e==="click")return Al(t)}function fb(e,t){if(e==="input"||e==="change")return Al(t)}function mb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yt=typeof Object.is=="function"?Object.is:mb;function vr(e,t){if(yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Wo.call(t,i)||!yt(e[i],t[i]))return!1}return!0}function Id(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zd(e,t){var n=Id(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Id(n)}}function Rm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Gs(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Gs(e.document)}return t}function bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var gb=cn&&"documentMode"in document&&11>=document.documentMode,Qa=null,ru=null,nr=null,su=!1;function Wd(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;su||Qa==null||Qa!==Gs(a)||(a=Qa,"selectionStart"in a&&bc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),nr&&vr(nr,a)||(nr=a,a=sl(ru,"onSelect"),0<a.length&&(t=new El("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Qa)))}function Zn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ja={animationend:Zn("Animation","AnimationEnd"),animationiteration:Zn("Animation","AnimationIteration"),animationstart:Zn("Animation","AnimationStart"),transitionrun:Zn("Transition","TransitionRun"),transitionstart:Zn("Transition","TransitionStart"),transitioncancel:Zn("Transition","TransitionCancel"),transitionend:Zn("Transition","TransitionEnd")},ro={},Cm={};cn&&(Cm=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function wa(e){if(ro[e])return ro[e];if(!Ja[e])return e;var t=Ja[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Cm)return ro[e]=t[n];return e}var Um=wa("animationend"),zm=wa("animationiteration"),Dm=wa("animationstart"),yb=wa("transitionrun"),pb=wa("transitionstart"),vb=wa("transitioncancel"),Mm=wa("transitionend"),Bm=new Map,lu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lu.push("scrollEnd");function Dt(e,t){Bm.set(e,t),ba(t,[e])}var Vs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},vt=[],Pa=0,_c=0;function Ol(){for(var e=Pa,t=_c=Pa=0;t<e;){var n=vt[t];vt[t++]=null;var a=vt[t];vt[t++]=null;var i=vt[t];vt[t++]=null;var r=vt[t];if(vt[t++]=null,a!==null&&i!==null){var s=a.pending;s===null?i.next=i:(i.next=s.next,s.next=i),a.pending=i}r!==0&&Lm(n,i,r)}}function jl(e,t,n,a){vt[Pa++]=e,vt[Pa++]=t,vt[Pa++]=n,vt[Pa++]=a,_c|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function wc(e,t,n,a){return jl(e,t,n,a),Ks(e)}function Sa(e,t){return jl(e,null,null,t),Ks(e)}function Lm(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var i=!1,r=e.return;r!==null;)r.childLanes|=n,a=r.alternate,a!==null&&(a.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(i=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,i&&t!==null&&(i=31-mt(n),e=r.hiddenUpdates,a=e[i],a===null?e[i]=[t]:a.push(t),t.lane=n|536870912),r):null}function Ks(e){if(50<dr)throw dr=0,ju=null,Error(O(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Xa={};function bb(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,n,a){return new bb(e,t,n,a)}function Sc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sn(e,t){var n=e.alternate;return n===null?(n=ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function $m(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ts(e,t,n,a,i,r){var s=0;if(a=e,typeof e=="function")Sc(e)&&(s=1);else if(typeof e=="string")s=E_(e,n,Gt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Po:return e=ot(31,n,t,i),e.elementType=Po,e.lanes=r,e;case Ha:return ca(n.children,i,r,t);case im:s=8,i|=24;break;case Yo:return e=ot(12,n,t,i|2),e.elementType=Yo,e.lanes=r,e;case Qo:return e=ot(13,n,t,i),e.elementType=Qo,e.lanes=r,e;case Jo:return e=ot(19,n,t,i),e.elementType=Jo,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nn:s=10;break e;case rm:s=9;break e;case oc:s=11;break e;case uc:s=14;break e;case _n:s=16,a=null;break e}s=29,n=Error(O(130,e===null?"null":typeof e,"")),a=null}return t=ot(s,n,t,i),t.elementType=e,t.type=a,t.lanes=r,t}function ca(e,t,n,a){return e=ot(7,e,a,t),e.lanes=n,e}function so(e,t,n){return e=ot(6,e,null,t),e.lanes=n,e}function qm(e){var t=ot(18,null,null,0);return t.stateNode=e,t}function lo(e,t,n){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Fd=new WeakMap;function Et(e,t){if(typeof e=="object"&&e!==null){var n=Fd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Ud(t)},Fd.set(e,t),t)}return{value:e,source:t,stack:Ud(t)}}var Ia=[],Za=0,Ys=null,br=0,wt=[],St=0,Hn=null,$t=1,qt="";function en(e,t){Ia[Za++]=br,Ia[Za++]=Ys,Ys=e,br=t}function Hm(e,t,n){wt[St++]=$t,wt[St++]=qt,wt[St++]=Hn,Hn=e;var a=$t;e=qt;var i=32-mt(a)-1;a&=~(1<<i),n+=1;var r=32-mt(t)+i;if(30<r){var s=i-i%5;r=(a&(1<<s)-1).toString(32),a>>=s,i-=s,$t=1<<32-mt(t)+i|n<<i|a,qt=r+e}else $t=1<<r|n<<i|a,qt=e}function xc(e){e.return!==null&&(en(e,1),Hm(e,1,0))}function Ec(e){for(;e===Ys;)Ys=Ia[--Za],Ia[Za]=null,br=Ia[--Za],Ia[Za]=null;for(;e===Hn;)Hn=wt[--St],wt[St]=null,qt=wt[--St],wt[St]=null,$t=wt[--St],wt[St]=null}function Gm(e,t){wt[St++]=$t,wt[St++]=qt,wt[St++]=Hn,$t=t.id,qt=t.overflow,Hn=e}var Ke=null,ce=null,P=!1,Un=null,Tt=!1,ou=Error(O(519));function Gn(e){var t=Error(O(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _r(Et(t,e)),ou}function eh(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Ve]=e,t[at]=a,n){case"dialog":K("cancel",t),K("close",t);break;case"iframe":case"object":case"embed":K("load",t);break;case"video":case"audio":for(n=0;n<Er.length;n++)K(Er[n],t);break;case"source":K("error",t);break;case"img":case"image":case"link":K("error",t),K("load",t);break;case"details":K("toggle",t);break;case"input":K("invalid",t),vm(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":K("invalid",t);break;case"textarea":K("invalid",t),_m(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||E0(t.textContent,n)?(a.popover!=null&&(K("beforetoggle",t),K("toggle",t)),a.onScroll!=null&&K("scroll",t),a.onScrollEnd!=null&&K("scrollend",t),a.onClick!=null&&(t.onclick=an),t=!0):t=!1,t||Gn(e,!0)}function th(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:Tt=!1;return;case 27:case 3:Tt=!0;return;default:Ke=Ke.return}}function ja(e){if(e!==Ke)return!1;if(!P)return th(e),P=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Uu(e.type,e.memoizedProps)),n=!n),n&&ce&&Gn(e),th(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));ce=Hh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));ce=Hh(e)}else t===27?(t=ce,Jn(e.type)?(e=Bu,Bu=null,ce=e):ce=t):ce=Ke?jt(e.stateNode.nextSibling):null;return!0}function ma(){ce=Ke=null,P=!1}function oo(){var e=Un;return e!==null&&(tt===null?tt=e:tt.push.apply(tt,e),Un=null),e}function _r(e){Un===null?Un=[e]:Un.push(e)}var uu=Vt(null),xa=null,rn=null;function Sn(e,t,n){le(uu,t._currentValue),t._currentValue=n}function ln(e){e._currentValue=uu.current,$e(uu)}function cu(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function du(e,t,n,a){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var r=i.dependencies;if(r!==null){var s=i.child;r=r.firstContext;e:for(;r!==null;){var l=r;r=i;for(var o=0;o<t.length;o++)if(l.context===t[o]){r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),cu(r.return,n,e),a||(s=null);break e}r=l.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(O(341));s.lanes|=n,r=s.alternate,r!==null&&(r.lanes|=n),cu(s,n,e),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function Si(e,t,n,a){e=null;for(var i=t,r=!1;i!==null;){if(!r){if(i.flags&524288)r=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(O(387));if(s=s.memoizedProps,s!==null){var l=i.type;yt(i.pendingProps.value,s.value)||(e!==null?e.push(l):e=[l])}}else if(i===Ls.current){if(s=i.alternate,s===null)throw Error(O(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Ar):e=[Ar])}i=i.return}e!==null&&du(t,e,n,a),t.flags|=262144}function Qs(e){for(e=e.firstContext;e!==null;){if(!yt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ga(e){xa=e,rn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ye(e){return Vm(xa,e)}function ns(e,t){return xa===null&&ga(e),Vm(e,t)}function Vm(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},rn===null){if(e===null)throw Error(O(308));rn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else rn=rn.next=t;return n}var _b=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},wb=De.unstable_scheduleCallback,Sb=De.unstable_NormalPriority,ke={$$typeof:nn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tc(){return{controller:new _b,data:new Map,refCount:0}}function $r(e){e.refCount--,e.refCount===0&&wb(Sb,function(){e.controller.abort()})}var ar=null,hu=0,ci=0,ni=null;function xb(e,t){if(ar===null){var n=ar=[];hu=0,ci=Ic(),ni={status:"pending",value:void 0,then:function(a){n.push(a)}}}return hu++,t.then(nh,nh),t}function nh(){if(--hu===0&&ar!==null){ni!==null&&(ni.status="fulfilled");var e=ar;ar=null,ci=0,ni=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Eb(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(a.status="rejected",a.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),a}var ah=L.S;L.S=function(e,t){a0=ht(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&xb(e,t),ah!==null&&ah(e,t)};var da=Vt(null);function Ac(){var e=da.current;return e!==null?e:ie.pooledCache}function As(e,t){t===null?le(da,da.current):le(da,t.pool)}function Km(){var e=Ac();return e===null?null:{parent:ke._currentValue,pool:e}}var xi=Error(O(460)),Oc=Error(O(474)),kl=Error(O(542)),Js={then:function(){}};function ih(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ym(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(an,an),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sh(e),e;default:if(typeof t.status=="string")t.then(an,an);else{if(e=ie,e!==null&&100<e.shellSuspendCounter)throw Error(O(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=a}},function(a){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sh(e),e}throw ha=t,xi}}function na(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ha=n,xi):n}}var ha=null;function rh(){if(ha===null)throw Error(O(459));var e=ha;return ha=null,e}function sh(e){if(e===xi||e===kl)throw Error(O(483))}var ai=null,wr=0;function as(e){var t=wr;return wr+=1,ai===null&&(ai=[]),Ym(ai,e,t)}function qi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function is(e,t){throw t.$$typeof===cv?Error(O(525)):(e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Qm(e){function t(p,m){if(e){var y=p.deletions;y===null?(p.deletions=[m],p.flags|=16):y.push(m)}}function n(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function a(p){for(var m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(p,m){return p=sn(p,m),p.index=0,p.sibling=null,p}function r(p,m,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<m?(p.flags|=67108866,m):y):(p.flags|=67108866,m)):(p.flags|=1048576,m)}function s(p){return e&&p.alternate===null&&(p.flags|=67108866),p}function l(p,m,y,w){return m===null||m.tag!==6?(m=so(y,p.mode,w),m.return=p,m):(m=i(m,y),m.return=p,m)}function o(p,m,y,w){var T=y.type;return T===Ha?c(p,m,y.props.children,w,y.key):m!==null&&(m.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===_n&&na(T)===m.type)?(m=i(m,y.props),qi(m,y),m.return=p,m):(m=Ts(y.type,y.key,y.props,null,p.mode,w),qi(m,y),m.return=p,m)}function u(p,m,y,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=lo(y,p.mode,w),m.return=p,m):(m=i(m,y.children||[]),m.return=p,m)}function c(p,m,y,w,T){return m===null||m.tag!==7?(m=ca(y,p.mode,w,T),m.return=p,m):(m=i(m,y),m.return=p,m)}function d(p,m,y){if(typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint")return m=so(""+m,p.mode,y),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ir:return y=Ts(m.type,m.key,m.props,null,p.mode,y),qi(y,m),y.return=p,y;case Qi:return m=lo(m,p.mode,y),m.return=p,m;case _n:return m=na(m),d(p,m,y)}if(Ji(m)||Bi(m))return m=ca(m,p.mode,y,null),m.return=p,m;if(typeof m.then=="function")return d(p,as(m),y);if(m.$$typeof===nn)return d(p,ns(p,m),y);is(p,m)}return null}function h(p,m,y,w){var T=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return T!==null?null:l(p,m,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ir:return y.key===T?o(p,m,y,w):null;case Qi:return y.key===T?u(p,m,y,w):null;case _n:return y=na(y),h(p,m,y,w)}if(Ji(y)||Bi(y))return T!==null?null:c(p,m,y,w,null);if(typeof y.then=="function")return h(p,m,as(y),w);if(y.$$typeof===nn)return h(p,m,ns(p,y),w);is(p,y)}return null}function f(p,m,y,w,T){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return p=p.get(y)||null,l(m,p,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ir:return p=p.get(w.key===null?y:w.key)||null,o(m,p,w,T);case Qi:return p=p.get(w.key===null?y:w.key)||null,u(m,p,w,T);case _n:return w=na(w),f(p,m,y,w,T)}if(Ji(w)||Bi(w))return p=p.get(y)||null,c(m,p,w,T,null);if(typeof w.then=="function")return f(p,m,y,as(w),T);if(w.$$typeof===nn)return f(p,m,y,ns(m,w),T);is(m,w)}return null}function v(p,m,y,w){for(var T=null,A=null,E=m,j=m=0,x=null;E!==null&&j<y.length;j++){E.index>j?(x=E,E=null):x=E.sibling;var k=h(p,E,y[j],w);if(k===null){E===null&&(E=x);break}e&&E&&k.alternate===null&&t(p,E),m=r(k,m,j),A===null?T=k:A.sibling=k,A=k,E=x}if(j===y.length)return n(p,E),P&&en(p,j),T;if(E===null){for(;j<y.length;j++)E=d(p,y[j],w),E!==null&&(m=r(E,m,j),A===null?T=E:A.sibling=E,A=E);return P&&en(p,j),T}for(E=a(E);j<y.length;j++)x=f(E,p,j,y[j],w),x!==null&&(e&&x.alternate!==null&&E.delete(x.key===null?j:x.key),m=r(x,m,j),A===null?T=x:A.sibling=x,A=x);return e&&E.forEach(function(M){return t(p,M)}),P&&en(p,j),T}function _(p,m,y,w){if(y==null)throw Error(O(151));for(var T=null,A=null,E=m,j=m=0,x=null,k=y.next();E!==null&&!k.done;j++,k=y.next()){E.index>j?(x=E,E=null):x=E.sibling;var M=h(p,E,k.value,w);if(M===null){E===null&&(E=x);break}e&&E&&M.alternate===null&&t(p,E),m=r(M,m,j),A===null?T=M:A.sibling=M,A=M,E=x}if(k.done)return n(p,E),P&&en(p,j),T;if(E===null){for(;!k.done;j++,k=y.next())k=d(p,k.value,w),k!==null&&(m=r(k,m,j),A===null?T=k:A.sibling=k,A=k);return P&&en(p,j),T}for(E=a(E);!k.done;j++,k=y.next())k=f(E,p,j,k.value,w),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?j:k.key),m=r(k,m,j),A===null?T=k:A.sibling=k,A=k);return e&&E.forEach(function(ee){return t(p,ee)}),P&&en(p,j),T}function b(p,m,y,w){if(typeof y=="object"&&y!==null&&y.type===Ha&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ir:e:{for(var T=y.key;m!==null;){if(m.key===T){if(T=y.type,T===Ha){if(m.tag===7){n(p,m.sibling),w=i(m,y.props.children),w.return=p,p=w;break e}}else if(m.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===_n&&na(T)===m.type){n(p,m.sibling),w=i(m,y.props),qi(w,y),w.return=p,p=w;break e}n(p,m);break}else t(p,m);m=m.sibling}y.type===Ha?(w=ca(y.props.children,p.mode,w,y.key),w.return=p,p=w):(w=Ts(y.type,y.key,y.props,null,p.mode,w),qi(w,y),w.return=p,p=w)}return s(p);case Qi:e:{for(T=y.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(p,m.sibling),w=i(m,y.children||[]),w.return=p,p=w;break e}else{n(p,m);break}else t(p,m);m=m.sibling}w=lo(y,p.mode,w),w.return=p,p=w}return s(p);case _n:return y=na(y),b(p,m,y,w)}if(Ji(y))return v(p,m,y,w);if(Bi(y)){if(T=Bi(y),typeof T!="function")throw Error(O(150));return y=T.call(y),_(p,m,y,w)}if(typeof y.then=="function")return b(p,m,as(y),w);if(y.$$typeof===nn)return b(p,m,ns(p,y),w);is(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,m!==null&&m.tag===6?(n(p,m.sibling),w=i(m,y),w.return=p,p=w):(n(p,m),w=so(y,p.mode,w),w.return=p,p=w),s(p)):n(p,m)}return function(p,m,y,w){try{wr=0;var T=b(p,m,y,w);return ai=null,T}catch(E){if(E===xi||E===kl)throw E;var A=ot(29,E,null,p.mode);return A.lanes=w,A.return=p,A}finally{}}}var ya=Qm(!0),Jm=Qm(!1),wn=!1;function jc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Dn(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,X&2){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,t=Ks(e),Lm(e,null,n),t}return jl(e,a,t,n),Ks(e)}function ir(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,dm(e,n)}}function uo(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?i=r=s:r=r.next=s,n=n.next}while(n!==null);r===null?i=r=t:r=r.next=t}else i=r=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var mu=!1;function rr(){if(mu){var e=ni;if(e!==null)throw e}}function sr(e,t,n,a){mu=!1;var i=e.updateQueue;wn=!1;var r=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var o=l,u=o.next;o.next=null,s===null?r=u:s.next=u,s=o;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=o))}if(r!==null){var d=i.baseState;s=0,c=u=o=null,l=r;do{var h=l.lane&-536870913,f=h!==l.lane;if(f?(J&h)===h:(a&h)===h){h!==0&&h===ci&&(mu=!0),c!==null&&(c=c.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var v=e,_=l;h=t;var b=n;switch(_.tag){case 1:if(v=_.payload,typeof v=="function"){d=v.call(b,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,h=typeof v=="function"?v.call(b,d,h):v,h==null)break e;d=he({},d,h);break e;case 2:wn=!0}}h=l.callback,h!==null&&(e.flags|=64,f&&(e.flags|=8192),f=i.callbacks,f===null?i.callbacks=[h]:f.push(h))}else f={lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=f,o=d):c=c.next=f,s|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);c===null&&(o=d),i.baseState=o,i.firstBaseUpdate=u,i.lastBaseUpdate=c,r===null&&(i.shared.lanes=0),Kn|=s,e.lanes=s,e.memoizedState=d}}function Pm(e,t){if(typeof e!="function")throw Error(O(191,e));e.call(t)}function Xm(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Pm(n[e],t)}var di=Vt(null),Ps=Vt(0);function lh(e,t){e=mn,le(Ps,e),le(di,t),mn=e|t.baseLanes}function gu(){le(Ps,mn),le(di,di.current)}function kc(){mn=Ps.current,$e(di),$e(Ps)}var pt=Vt(null),Ot=null;function xn(e){var t=e.alternate;le(xe,xe.current&1),le(pt,e),Ot===null&&(t===null||di.current!==null||t.memoizedState!==null)&&(Ot=e)}function yu(e){le(xe,xe.current),le(pt,e),Ot===null&&(Ot=e)}function Im(e){e.tag===22?(le(xe,xe.current),le(pt,e),Ot===null&&(Ot=e)):En()}function En(){le(xe,xe.current),le(pt,pt.current)}function lt(e){$e(pt),Ot===e&&(Ot=null),$e(xe)}var xe=Vt(0);function Xs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Du(n)||Mu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dn=0,V=null,ne=null,Oe=null,Is=!1,ii=!1,pa=!1,Zs=0,Sr=0,ri=null,Tb=0;function be(){throw Error(O(321))}function Rc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yt(e[n],t[n]))return!1;return!0}function Nc(e,t,n,a,i,r){return dn=r,V=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?Og:Gc,pa=!1,r=n(a,i),pa=!1,ii&&(r=Wm(t,n,a,i)),Zm(e),r}function Zm(e){L.H=xr;var t=ne!==null&&ne.next!==null;if(dn=0,Oe=ne=V=null,Is=!1,Sr=0,ri=null,t)throw Error(O(300));e===null||Ne||(e=e.dependencies,e!==null&&Qs(e)&&(Ne=!0))}function Wm(e,t,n,a){V=e;var i=0;do{if(ii&&(ri=null),Sr=0,ii=!1,25<=i)throw Error(O(301));if(i+=1,Oe=ne=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}L.H=jg,r=t(n,a)}while(ii);return r}function Ab(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?qr(t):t,e=e.useState()[0],(ne!==null?ne.memoizedState:null)!==e&&(V.flags|=1024),t}function Cc(){var e=Zs!==0;return Zs=0,e}function Uc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function zc(e){if(Is){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Is=!1}dn=0,Oe=ne=V=null,ii=!1,Sr=Zs=0,ri=null}function Pe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?V.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function Ee(){if(ne===null){var e=V.alternate;e=e!==null?e.memoizedState:null}else e=ne.next;var t=Oe===null?V.memoizedState:Oe.next;if(t!==null)Oe=t,ne=e;else{if(e===null)throw V.alternate===null?Error(O(467)):Error(O(310));ne=e,e={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},Oe===null?V.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function Rl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qr(e){var t=Sr;return Sr+=1,ri===null&&(ri=[]),e=Ym(ri,e,t),t=V,(Oe===null?t.memoizedState:Oe.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?Og:Gc),e}function Nl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qr(e);if(e.$$typeof===nn)return Ye(e)}throw Error(O(438,String(e)))}function Dc(e){var t=null,n=V.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=V.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Rl(),V.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=dv;return t.index++,n}function hn(e,t){return typeof t=="function"?t(e):t}function Os(e){var t=Ee();return Mc(t,ne,e)}function Mc(e,t,n){var a=e.queue;if(a===null)throw Error(O(311));a.lastRenderedReducer=n;var i=e.baseQueue,r=a.pending;if(r!==null){if(i!==null){var s=i.next;i.next=r.next,r.next=s}t.baseQueue=i=r,a.pending=null}if(r=e.baseState,i===null)e.memoizedState=r;else{t=i.next;var l=s=null,o=null,u=t,c=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(J&d)===d:(dn&d)===d){var h=u.revertLane;if(h===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===ci&&(c=!0);else if((dn&h)===h){u=u.next,h===ci&&(c=!0);continue}else d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=d,s=r):o=o.next=d,V.lanes|=h,Kn|=h;d=u.action,pa&&n(r,d),r=u.hasEagerState?u.eagerState:n(r,d)}else h={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=h,s=r):o=o.next=h,V.lanes|=d,Kn|=d;u=u.next}while(u!==null&&u!==t);if(o===null?s=r:o.next=l,!yt(r,e.memoizedState)&&(Ne=!0,c&&(n=ni,n!==null)))throw n;e.memoizedState=r,e.baseState=s,e.baseQueue=o,a.lastRenderedState=r}return i===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function co(e){var t=Ee(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,r=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do r=e(r,s.action),s=s.next;while(s!==i);yt(r,t.memoizedState)||(Ne=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,a]}function Fm(e,t,n){var a=V,i=Ee(),r=P;if(r){if(n===void 0)throw Error(O(407));n=n()}else n=t();var s=!yt((ne||i).memoizedState,n);if(s&&(i.memoizedState=n,Ne=!0),i=i.queue,Bc(ng.bind(null,a,i,e),[e]),i.getSnapshot!==t||s||Oe!==null&&Oe.memoizedState.tag&1){if(a.flags|=2048,hi(9,{destroy:void 0},tg.bind(null,a,i,n,t),null),ie===null)throw Error(O(349));r||dn&127||eg(a,t,n)}return n}function eg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=V.updateQueue,t===null?(t=Rl(),V.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function tg(e,t,n,a){t.value=n,t.getSnapshot=a,ag(t)&&ig(e)}function ng(e,t,n){return n(function(){ag(t)&&ig(e)})}function ag(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yt(e,n)}catch{return!0}}function ig(e){var t=Sa(e,2);t!==null&&nt(t,e,2)}function pu(e){var t=Pe();if(typeof e=="function"){var n=e;if(e=n(),pa){On(!0);try{n()}finally{On(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:e},t}function rg(e,t,n,a){return e.baseState=n,Mc(e,ne,typeof a=="function"?a:hn)}function Ob(e,t,n,a,i){if(Ul(e))throw Error(O(485));if(e=t.action,e!==null){var r={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){r.listeners.push(s)}};L.T!==null?n(!0):r.isTransition=!1,a(r),n=t.pending,n===null?(r.next=t.pending=r,sg(t,r)):(r.next=n.next,t.pending=n.next=r)}}function sg(e,t){var n=t.action,a=t.payload,i=e.state;if(t.isTransition){var r=L.T,s={};L.T=s;try{var l=n(i,a),o=L.S;o!==null&&o(s,l),oh(e,t,l)}catch(u){vu(e,t,u)}finally{r!==null&&s.types!==null&&(r.types=s.types),L.T=r}}else try{r=n(i,a),oh(e,t,r)}catch(u){vu(e,t,u)}}function oh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){uh(e,t,a)},function(a){return vu(e,t,a)}):uh(e,t,n)}function uh(e,t,n){t.status="fulfilled",t.value=n,lg(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,sg(e,n)))}function vu(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,lg(t),t=t.next;while(t!==a)}e.action=null}function lg(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function og(e,t){return t}function ch(e,t){if(P){var n=ie.formState;if(n!==null){e:{var a=V;if(P){if(ce){t:{for(var i=ce,r=Tt;i.nodeType!==8;){if(!r){i=null;break t}if(i=jt(i.nextSibling),i===null){i=null;break t}}r=i.data,i=r==="F!"||r==="F"?i:null}if(i){ce=jt(i.nextSibling),a=i.data==="F!";break e}}Gn(a)}a=!1}a&&(t=n[0])}}return n=Pe(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:og,lastRenderedState:t},n.queue=a,n=Eg.bind(null,V,a),a.dispatch=n,a=pu(!1),r=Hc.bind(null,V,!1,a.queue),a=Pe(),i={state:t,dispatch:null,action:e,pending:null},a.queue=i,n=Ob.bind(null,V,i,r,n),i.dispatch=n,a.memoizedState=e,[t,n,!1]}function dh(e){var t=Ee();return ug(t,ne,e)}function ug(e,t,n){if(t=Mc(e,t,og)[0],e=Os(hn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=qr(t)}catch(s){throw s===xi?kl:s}else a=t;t=Ee();var i=t.queue,r=i.dispatch;return n!==t.memoizedState&&(V.flags|=2048,hi(9,{destroy:void 0},jb.bind(null,i,n),null)),[a,r,e]}function jb(e,t){e.action=t}function hh(e){var t=Ee(),n=ne;if(n!==null)return ug(t,n,e);Ee(),t=t.memoizedState,n=Ee();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function hi(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=V.updateQueue,t===null&&(t=Rl(),V.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function cg(){return Ee().memoizedState}function js(e,t,n,a){var i=Pe();V.flags|=e,i.memoizedState=hi(1|t,{destroy:void 0},n,a===void 0?null:a)}function Cl(e,t,n,a){var i=Ee();a=a===void 0?null:a;var r=i.memoizedState.inst;ne!==null&&a!==null&&Rc(a,ne.memoizedState.deps)?i.memoizedState=hi(t,r,n,a):(V.flags|=e,i.memoizedState=hi(1|t,r,n,a))}function fh(e,t){js(8390656,8,e,t)}function Bc(e,t){Cl(2048,8,e,t)}function kb(e){V.flags|=4;var t=V.updateQueue;if(t===null)t=Rl(),V.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function dg(e){var t=Ee().memoizedState;return kb({ref:t,nextImpl:e}),function(){if(X&2)throw Error(O(440));return t.impl.apply(void 0,arguments)}}function hg(e,t){return Cl(4,2,e,t)}function fg(e,t){return Cl(4,4,e,t)}function mg(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gg(e,t,n){n=n!=null?n.concat([e]):null,Cl(4,4,mg.bind(null,t,e),n)}function Lc(){}function yg(e,t){var n=Ee();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&Rc(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function pg(e,t){var n=Ee();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&Rc(t,a[1]))return a[0];if(a=e(),pa){On(!0);try{e()}finally{On(!1)}}return n.memoizedState=[a,t],a}function $c(e,t,n){return n===void 0||dn&1073741824&&!(J&261930)?e.memoizedState=t:(e.memoizedState=n,e=r0(),V.lanes|=e,Kn|=e,n)}function vg(e,t,n,a){return yt(n,t)?n:di.current!==null?(e=$c(e,n,a),yt(e,t)||(Ne=!0),e):!(dn&42)||dn&1073741824&&!(J&261930)?(Ne=!0,e.memoizedState=n):(e=r0(),V.lanes|=e,Kn|=e,t)}function bg(e,t,n,a,i){var r=I.p;I.p=r!==0&&8>r?r:8;var s=L.T,l={};L.T=l,Hc(e,!1,t,n);try{var o=i(),u=L.S;if(u!==null&&u(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var c=Eb(o,a);lr(e,t,c,gt(e))}else lr(e,t,a,gt(e))}catch(d){lr(e,t,{then:function(){},status:"rejected",reason:d},gt())}finally{I.p=r,s!==null&&l.types!==null&&(s.types=l.types),L.T=s}}function Rb(){}function bu(e,t,n,a){if(e.tag!==5)throw Error(O(476));var i=_g(e).queue;bg(e,i,t,ua,n===null?Rb:function(){return wg(e),n(a)})}function _g(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ua,baseState:ua,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:ua},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function wg(e){var t=_g(e);t.next===null&&(t=e.alternate.memoizedState),lr(e,t.next.queue,{},gt())}function qc(){return Ye(Ar)}function Sg(){return Ee().memoizedState}function xg(){return Ee().memoizedState}function Nb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=gt();e=zn(n);var a=Dn(t,e,n);a!==null&&(nt(a,t,n),ir(a,t,n)),t={cache:Tc()},e.payload=t;return}t=t.return}}function Cb(e,t,n){var a=gt();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ul(e)?Tg(t,n):(n=wc(e,t,n,a),n!==null&&(nt(n,e,a),Ag(n,t,a)))}function Eg(e,t,n){var a=gt();lr(e,t,n,a)}function lr(e,t,n,a){var i={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ul(e))Tg(t,i);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var s=t.lastRenderedState,l=r(s,n);if(i.hasEagerState=!0,i.eagerState=l,yt(l,s))return jl(e,t,i,0),ie===null&&Ol(),!1}catch{}finally{}if(n=wc(e,t,i,a),n!==null)return nt(n,e,a),Ag(n,t,a),!0}return!1}function Hc(e,t,n,a){if(a={lane:2,revertLane:Ic(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ul(e)){if(t)throw Error(O(479))}else t=wc(e,n,a,2),t!==null&&nt(t,e,2)}function Ul(e){var t=e.alternate;return e===V||t!==null&&t===V}function Tg(e,t){ii=Is=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ag(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,dm(e,n)}}var xr={readContext:Ye,use:Nl,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be};xr.useEffectEvent=be;var Og={readContext:Ye,use:Nl,useCallback:function(e,t){return Pe().memoizedState=[e,t===void 0?null:t],e},useContext:Ye,useEffect:fh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,js(4194308,4,mg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return js(4194308,4,e,t)},useInsertionEffect:function(e,t){js(4,2,e,t)},useMemo:function(e,t){var n=Pe();t=t===void 0?null:t;var a=e();if(pa){On(!0);try{e()}finally{On(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=Pe();if(n!==void 0){var i=n(t);if(pa){On(!0);try{n(t)}finally{On(!1)}}}else i=t;return a.memoizedState=a.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},a.queue=e,e=e.dispatch=Cb.bind(null,V,e),[a.memoizedState,e]},useRef:function(e){var t=Pe();return e={current:e},t.memoizedState=e},useState:function(e){e=pu(e);var t=e.queue,n=Eg.bind(null,V,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Lc,useDeferredValue:function(e,t){var n=Pe();return $c(n,e,t)},useTransition:function(){var e=pu(!1);return e=bg.bind(null,V,e.queue,!0,!1),Pe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=V,i=Pe();if(P){if(n===void 0)throw Error(O(407));n=n()}else{if(n=t(),ie===null)throw Error(O(349));J&127||eg(a,t,n)}i.memoizedState=n;var r={value:n,getSnapshot:t};return i.queue=r,fh(ng.bind(null,a,r,e),[e]),a.flags|=2048,hi(9,{destroy:void 0},tg.bind(null,a,r,n,t),null),n},useId:function(){var e=Pe(),t=ie.identifierPrefix;if(P){var n=qt,a=$t;n=(a&~(1<<32-mt(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Zs++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Tb++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:qc,useFormState:ch,useActionState:ch,useOptimistic:function(e){var t=Pe();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Hc.bind(null,V,!0,n),n.dispatch=t,[e,t]},useMemoCache:Dc,useCacheRefresh:function(){return Pe().memoizedState=Nb.bind(null,V)},useEffectEvent:function(e){var t=Pe(),n={impl:e};return t.memoizedState=n,function(){if(X&2)throw Error(O(440));return n.impl.apply(void 0,arguments)}}},Gc={readContext:Ye,use:Nl,useCallback:yg,useContext:Ye,useEffect:Bc,useImperativeHandle:gg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:pg,useReducer:Os,useRef:cg,useState:function(){return Os(hn)},useDebugValue:Lc,useDeferredValue:function(e,t){var n=Ee();return vg(n,ne.memoizedState,e,t)},useTransition:function(){var e=Os(hn)[0],t=Ee().memoizedState;return[typeof e=="boolean"?e:qr(e),t]},useSyncExternalStore:Fm,useId:Sg,useHostTransitionStatus:qc,useFormState:dh,useActionState:dh,useOptimistic:function(e,t){var n=Ee();return rg(n,ne,e,t)},useMemoCache:Dc,useCacheRefresh:xg};Gc.useEffectEvent=dg;var jg={readContext:Ye,use:Nl,useCallback:yg,useContext:Ye,useEffect:Bc,useImperativeHandle:gg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:pg,useReducer:co,useRef:cg,useState:function(){return co(hn)},useDebugValue:Lc,useDeferredValue:function(e,t){var n=Ee();return ne===null?$c(n,e,t):vg(n,ne.memoizedState,e,t)},useTransition:function(){var e=co(hn)[0],t=Ee().memoizedState;return[typeof e=="boolean"?e:qr(e),t]},useSyncExternalStore:Fm,useId:Sg,useHostTransitionStatus:qc,useFormState:hh,useActionState:hh,useOptimistic:function(e,t){var n=Ee();return ne!==null?rg(n,ne,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Dc,useCacheRefresh:xg};jg.useEffectEvent=dg;function ho(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:he({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var _u={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=gt(),i=zn(a);i.payload=t,n!=null&&(i.callback=n),t=Dn(e,i,a),t!==null&&(nt(t,e,a),ir(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=gt(),i=zn(a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Dn(e,i,a),t!==null&&(nt(t,e,a),ir(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gt(),a=zn(n);a.tag=2,t!=null&&(a.callback=t),t=Dn(e,a,n),t!==null&&(nt(t,e,n),ir(t,e,n))}};function mh(e,t,n,a,i,r,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,r,s):t.prototype&&t.prototype.isPureReactComponent?!vr(n,a)||!vr(i,r):!0}function gh(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&_u.enqueueReplaceState(t,t.state,null)}function va(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=he({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function kg(e){Vs(e)}function Rg(e){console.error(e)}function Ng(e){Vs(e)}function Ws(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function yh(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function wu(e,t,n){return n=zn(n),n.tag=3,n.payload={element:null},n.callback=function(){Ws(e,t)},n}function Cg(e){return e=zn(e),e.tag=3,e}function Ug(e,t,n,a){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=a.value;e.payload=function(){return i(r)},e.callback=function(){yh(t,n,a)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){yh(t,n,a),typeof i!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var l=a.stack;this.componentDidCatch(a.value,{componentStack:l!==null?l:""})})}function Ub(e,t,n,a,i){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Si(t,n,i,!0),n=pt.current,n!==null){switch(n.tag){case 31:case 13:return Ot===null?al():n.alternate===null&&_e===0&&(_e=3),n.flags&=-257,n.flags|=65536,n.lanes=i,a===Js?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),xo(e,a,i)),!1;case 22:return n.flags|=65536,a===Js?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),xo(e,a,i)),!1}throw Error(O(435,n.tag))}return xo(e,a,i),al(),!1}if(P)return t=pt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,a!==ou&&(e=Error(O(422),{cause:a}),_r(Et(e,n)))):(a!==ou&&(t=Error(O(423),{cause:a}),_r(Et(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,a=Et(a,n),i=wu(e.stateNode,a,i),uo(e,i),_e!==4&&(_e=2)),!1;var r=Error(O(520),{cause:a});if(r=Et(r,n),cr===null?cr=[r]:cr.push(r),_e!==4&&(_e=2),t===null)return!0;a=Et(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=wu(n.stateNode,a,e),uo(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Mn===null||!Mn.has(r))))return n.flags|=65536,i&=-i,n.lanes|=i,i=Cg(i),Ug(i,e,n,a),uo(n,i),!1}n=n.return}while(n!==null);return!1}var Vc=Error(O(461)),Ne=!1;function Ge(e,t,n,a){t.child=e===null?Jm(t,null,n,a):ya(t,e.child,n,a)}function ph(e,t,n,a,i){n=n.render;var r=t.ref;if("ref"in a){var s={};for(var l in a)l!=="ref"&&(s[l]=a[l])}else s=a;return ga(t),a=Nc(e,t,n,s,r,i),l=Cc(),e!==null&&!Ne?(Uc(e,t,i),fn(e,t,i)):(P&&l&&xc(t),t.flags|=1,Ge(e,t,a,i),t.child)}function vh(e,t,n,a,i){if(e===null){var r=n.type;return typeof r=="function"&&!Sc(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,zg(e,t,r,a,i)):(e=Ts(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Kc(e,i)){var s=r.memoizedProps;if(n=n.compare,n=n!==null?n:vr,n(s,a)&&e.ref===t.ref)return fn(e,t,i)}return t.flags|=1,e=sn(r,a),e.ref=t.ref,e.return=t,t.child=e}function zg(e,t,n,a,i){if(e!==null){var r=e.memoizedProps;if(vr(r,a)&&e.ref===t.ref)if(Ne=!1,t.pendingProps=a=r,Kc(e,i))e.flags&131072&&(Ne=!0);else return t.lanes=e.lanes,fn(e,t,i)}return Su(e,t,n,a,i)}function Dg(e,t,n,a){var i=a.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(r=r!==null?r.baseLanes|n:n,e!==null){for(a=t.child=e.child,i=0;a!==null;)i=i|a.lanes|a.childLanes,a=a.sibling;a=i&~r}else a=0,t.child=null;return bh(e,t,r,n,a)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&As(t,r!==null?r.cachePool:null),r!==null?lh(t,r):gu(),Im(t);else return a=t.lanes=536870912,bh(e,t,r!==null?r.baseLanes|n:n,n,a)}else r!==null?(As(t,r.cachePool),lh(t,r),En(),t.memoizedState=null):(e!==null&&As(t,null),gu(),En());return Ge(e,t,i,n),t.child}function Xi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function bh(e,t,n,a,i){var r=Ac();return r=r===null?null:{parent:ke._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&As(t,null),gu(),Im(t),e!==null&&Si(e,t,a,!0),t.childLanes=i,null}function ks(e,t){return t=Fs({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function _h(e,t,n){return ya(t,e.child,null,n),e=ks(t,t.pendingProps),e.flags|=2,lt(t),t.memoizedState=null,e}function zb(e,t,n){var a=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(P){if(a.mode==="hidden")return e=ks(t,a),t.lanes=536870912,Xi(null,e);if(yu(t),(e=ce)?(e=O0(e,Tt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Hn!==null?{id:$t,overflow:qt}:null,retryLane:536870912,hydrationErrors:null},n=qm(e),n.return=t,t.child=n,Ke=t,ce=null)):e=null,e===null)throw Gn(t);return t.lanes=536870912,null}return ks(t,a)}var r=e.memoizedState;if(r!==null){var s=r.dehydrated;if(yu(t),i)if(t.flags&256)t.flags&=-257,t=_h(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(O(558));else if(Ne||Si(e,t,n,!1),i=(n&e.childLanes)!==0,Ne||i){if(a=ie,a!==null&&(s=hm(a,n),s!==0&&s!==r.retryLane))throw r.retryLane=s,Sa(e,s),nt(a,e,s),Vc;al(),t=_h(e,t,n)}else e=r.treeContext,ce=jt(s.nextSibling),Ke=t,P=!0,Un=null,Tt=!1,e!==null&&Gm(t,e),t=ks(t,a),t.flags|=4096;return t}return e=sn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Rs(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(O(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Su(e,t,n,a,i){return ga(t),n=Nc(e,t,n,a,void 0,i),a=Cc(),e!==null&&!Ne?(Uc(e,t,i),fn(e,t,i)):(P&&a&&xc(t),t.flags|=1,Ge(e,t,n,i),t.child)}function wh(e,t,n,a,i,r){return ga(t),t.updateQueue=null,n=Wm(t,a,n,i),Zm(e),a=Cc(),e!==null&&!Ne?(Uc(e,t,r),fn(e,t,r)):(P&&a&&xc(t),t.flags|=1,Ge(e,t,n,r),t.child)}function Sh(e,t,n,a,i){if(ga(t),t.stateNode===null){var r=Xa,s=n.contextType;typeof s=="object"&&s!==null&&(r=Ye(s)),r=new n(a,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=_u,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=a,r.state=t.memoizedState,r.refs={},jc(t),s=n.contextType,r.context=typeof s=="object"&&s!==null?Ye(s):Xa,r.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(ho(t,n,s,a),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(s=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),s!==r.state&&_u.enqueueReplaceState(r,r.state,null),sr(t,a,r,i),rr(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){r=t.stateNode;var l=t.memoizedProps,o=va(n,l);r.props=o;var u=r.context,c=n.contextType;s=Xa,typeof c=="object"&&c!==null&&(s=Ye(c));var d=n.getDerivedStateFromProps;c=typeof d=="function"||typeof r.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,c||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(l||u!==s)&&gh(t,r,a,s),wn=!1;var h=t.memoizedState;r.state=h,sr(t,a,r,i),rr(),u=t.memoizedState,l||h!==u||wn?(typeof d=="function"&&(ho(t,n,d,a),u=t.memoizedState),(o=wn||mh(t,n,o,a,h,u,s))?(c||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=u),r.props=a,r.state=u,r.context=s,a=o):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,fu(e,t),s=t.memoizedProps,c=va(n,s),r.props=c,d=t.pendingProps,h=r.context,u=n.contextType,o=Xa,typeof u=="object"&&u!==null&&(o=Ye(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(s!==d||h!==o)&&gh(t,r,a,o),wn=!1,h=t.memoizedState,r.state=h,sr(t,a,r,i),rr();var f=t.memoizedState;s!==d||h!==f||wn||e!==null&&e.dependencies!==null&&Qs(e.dependencies)?(typeof l=="function"&&(ho(t,n,l,a),f=t.memoizedState),(c=wn||mh(t,n,c,a,h,f,o)||e!==null&&e.dependencies!==null&&Qs(e.dependencies))?(u||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(a,f,o),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(a,f,o)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=f),r.props=a,r.state=f,r.context=o,a=c):(typeof r.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return r=a,Rs(e,t),a=(t.flags&128)!==0,r||a?(r=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&a?(t.child=ya(t,e.child,null,i),t.child=ya(t,null,n,i)):Ge(e,t,n,i),t.memoizedState=r.state,e=t.child):e=fn(e,t,i),e}function xh(e,t,n,a){return ma(),t.flags|=256,Ge(e,t,n,a),t.child}var fo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mo(e){return{baseLanes:e,cachePool:Km()}}function go(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=dt),e}function Mg(e,t,n){var a=t.pendingProps,i=!1,r=(t.flags&128)!==0,s;if((s=r)||(s=e!==null&&e.memoizedState===null?!1:(xe.current&2)!==0),s&&(i=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(P){if(i?xn(t):En(),(e=ce)?(e=O0(e,Tt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Hn!==null?{id:$t,overflow:qt}:null,retryLane:536870912,hydrationErrors:null},n=qm(e),n.return=t,t.child=n,Ke=t,ce=null)):e=null,e===null)throw Gn(t);return Mu(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,i?(En(),i=t.mode,l=Fs({mode:"hidden",children:l},i),a=ca(a,i,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,a=t.child,a.memoizedState=mo(n),a.childLanes=go(e,s,n),t.memoizedState=fo,Xi(null,a)):(xn(t),xu(t,l))}var o=e.memoizedState;if(o!==null&&(l=o.dehydrated,l!==null)){if(r)t.flags&256?(xn(t),t.flags&=-257,t=yo(e,t,n)):t.memoizedState!==null?(En(),t.child=e.child,t.flags|=128,t=null):(En(),l=a.fallback,i=t.mode,a=Fs({mode:"visible",children:a.children},i),l=ca(l,i,n,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,ya(t,e.child,null,n),a=t.child,a.memoizedState=mo(n),a.childLanes=go(e,s,n),t.memoizedState=fo,t=Xi(null,a));else if(xn(t),Mu(l)){if(s=l.nextSibling&&l.nextSibling.dataset,s)var u=s.dgst;s=u,a=Error(O(419)),a.stack="",a.digest=s,_r({value:a,source:null,stack:null}),t=yo(e,t,n)}else if(Ne||Si(e,t,n,!1),s=(n&e.childLanes)!==0,Ne||s){if(s=ie,s!==null&&(a=hm(s,n),a!==0&&a!==o.retryLane))throw o.retryLane=a,Sa(e,a),nt(s,e,a),Vc;Du(l)||al(),t=yo(e,t,n)}else Du(l)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,ce=jt(l.nextSibling),Ke=t,P=!0,Un=null,Tt=!1,e!==null&&Gm(t,e),t=xu(t,a.children),t.flags|=4096);return t}return i?(En(),l=a.fallback,i=t.mode,o=e.child,u=o.sibling,a=sn(o,{mode:"hidden",children:a.children}),a.subtreeFlags=o.subtreeFlags&65011712,u!==null?l=sn(u,l):(l=ca(l,i,n,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,Xi(null,a),a=t.child,l=e.child.memoizedState,l===null?l=mo(n):(i=l.cachePool,i!==null?(o=ke._currentValue,i=i.parent!==o?{parent:o,pool:o}:i):i=Km(),l={baseLanes:l.baseLanes|n,cachePool:i}),a.memoizedState=l,a.childLanes=go(e,s,n),t.memoizedState=fo,Xi(e.child,a)):(xn(t),n=e.child,e=n.sibling,n=sn(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function xu(e,t){return t=Fs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Fs(e,t){return e=ot(22,e,null,t),e.lanes=0,e}function yo(e,t,n){return ya(t,e.child,null,n),e=xu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Eh(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),cu(e.return,t,n)}function po(e,t,n,a,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i,treeForkCount:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=i,s.treeForkCount=r)}function Bg(e,t,n){var a=t.pendingProps,i=a.revealOrder,r=a.tail;a=a.children;var s=xe.current,l=(s&2)!==0;if(l?(s=s&1|2,t.flags|=128):s&=1,le(xe,s),Ge(e,t,a,n),a=P?br:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Eh(e,n,t);else if(e.tag===19)Eh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Xs(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),po(t,!1,i,n,r,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Xs(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}po(t,!0,n,null,r,a);break;case"together":po(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function fn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kn|=t.lanes,!(n&t.childLanes))if(e!==null){if(Si(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,n=sn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=sn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Kc(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Qs(e)))}function Db(e,t,n){switch(t.tag){case 3:$s(t,t.stateNode.containerInfo),Sn(t,ke,e.memoizedState.cache),ma();break;case 27:case 5:Zo(t);break;case 4:$s(t,t.stateNode.containerInfo);break;case 10:Sn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,yu(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(xn(t),t.flags|=128,null):n&t.child.childLanes?Mg(e,t,n):(xn(t),e=fn(e,t,n),e!==null?e.sibling:null);xn(t);break;case 19:var i=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Si(e,t,n,!1),a=(n&t.childLanes)!==0),i){if(a)return Bg(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),le(xe,xe.current),a)break;return null;case 22:return t.lanes=0,Dg(e,t,n,t.pendingProps);case 24:Sn(t,ke,e.memoizedState.cache)}return fn(e,t,n)}function Lg(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ne=!0;else{if(!Kc(e,n)&&!(t.flags&128))return Ne=!1,Db(e,t,n);Ne=!!(e.flags&131072)}else Ne=!1,P&&t.flags&1048576&&Hm(t,br,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=na(t.elementType),t.type=e,typeof e=="function")Sc(e)?(a=va(e,a),t.tag=1,t=Sh(null,t,e,a,n)):(t.tag=0,t=Su(null,t,e,a,n));else{if(e!=null){var i=e.$$typeof;if(i===oc){t.tag=11,t=ph(null,t,e,a,n);break e}else if(i===uc){t.tag=14,t=vh(null,t,e,a,n);break e}}throw t=Xo(e)||e,Error(O(306,t,""))}}return t;case 0:return Su(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,i=va(a,t.pendingProps),Sh(e,t,a,i,n);case 3:e:{if($s(t,t.stateNode.containerInfo),e===null)throw Error(O(387));a=t.pendingProps;var r=t.memoizedState;i=r.element,fu(e,t),sr(t,a,null,n);var s=t.memoizedState;if(a=s.cache,Sn(t,ke,a),a!==r.cache&&du(t,[ke],n,!0),rr(),a=s.element,r.isDehydrated)if(r={element:a,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=xh(e,t,a,n);break e}else if(a!==i){i=Et(Error(O(424)),t),_r(i),t=xh(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ce=jt(e.firstChild),Ke=t,P=!0,Un=null,Tt=!0,n=Jm(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ma(),a===i){t=fn(e,t,n);break e}Ge(e,t,a,n)}t=t.child}return t;case 26:return Rs(e,t),e===null?(n=Kh(t.type,null,t.pendingProps,null))?t.memoizedState=n:P||(n=t.type,e=t.pendingProps,a=ll(Cn.current).createElement(n),a[Ve]=t,a[at]=e,Qe(a,n,e),Le(a),t.stateNode=a):t.memoizedState=Kh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Zo(t),e===null&&P&&(a=t.stateNode=j0(t.type,t.pendingProps,Cn.current),Ke=t,Tt=!0,i=ce,Jn(t.type)?(Bu=i,ce=jt(a.firstChild)):ce=i),Ge(e,t,t.pendingProps.children,n),Rs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&P&&((i=a=ce)&&(a=d_(a,t.type,t.pendingProps,Tt),a!==null?(t.stateNode=a,Ke=t,ce=jt(a.firstChild),Tt=!1,i=!0):i=!1),i||Gn(t)),Zo(t),i=t.type,r=t.pendingProps,s=e!==null?e.memoizedProps:null,a=r.children,Uu(i,r)?a=null:s!==null&&Uu(i,s)&&(t.flags|=32),t.memoizedState!==null&&(i=Nc(e,t,Ab,null,null,n),Ar._currentValue=i),Rs(e,t),Ge(e,t,a,n),t.child;case 6:return e===null&&P&&((e=n=ce)&&(n=h_(n,t.pendingProps,Tt),n!==null?(t.stateNode=n,Ke=t,ce=null,e=!0):e=!1),e||Gn(t)),null;case 13:return Mg(e,t,n);case 4:return $s(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ya(t,null,a,n):Ge(e,t,a,n),t.child;case 11:return ph(e,t,t.type,t.pendingProps,n);case 7:return Ge(e,t,t.pendingProps,n),t.child;case 8:return Ge(e,t,t.pendingProps.children,n),t.child;case 12:return Ge(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,Sn(t,t.type,a.value),Ge(e,t,a.children,n),t.child;case 9:return i=t.type._context,a=t.pendingProps.children,ga(t),i=Ye(i),a=a(i),t.flags|=1,Ge(e,t,a,n),t.child;case 14:return vh(e,t,t.type,t.pendingProps,n);case 15:return zg(e,t,t.type,t.pendingProps,n);case 19:return Bg(e,t,n);case 31:return zb(e,t,n);case 22:return Dg(e,t,n,t.pendingProps);case 24:return ga(t),a=Ye(ke),e===null?(i=Ac(),i===null&&(i=ie,r=Tc(),i.pooledCache=r,r.refCount++,r!==null&&(i.pooledCacheLanes|=n),i=r),t.memoizedState={parent:a,cache:i},jc(t),Sn(t,ke,i)):(e.lanes&n&&(fu(e,t),sr(t,null,null,n),rr()),i=e.memoizedState,r=t.memoizedState,i.parent!==a?(i={parent:a,cache:a},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Sn(t,ke,a)):(a=r.cache,Sn(t,ke,a),a!==i.cache&&du(t,[ke],n,!0))),Ge(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(O(156,t.tag))}function Xt(e){e.flags|=4}function vo(e,t,n,a,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(o0())e.flags|=8192;else throw ha=Js,Oc}else e.flags&=-16777217}function Th(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!N0(t))if(o0())e.flags|=8192;else throw ha=Js,Oc}function rs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?um():536870912,e.lanes|=t,fi|=t)}function Hi(e,t){if(!P)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&65011712,a|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Mb(e,t,n){var a=t.pendingProps;switch(Ec(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(t),null;case 1:return oe(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ln(ke),li(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ja(t)?Xt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,oo())),oe(t),null;case 26:var i=t.type,r=t.memoizedState;return e===null?(Xt(t),r!==null?(oe(t),Th(t,r)):(oe(t),vo(t,i,null,a,n))):r?r!==e.memoizedState?(Xt(t),oe(t),Th(t,r)):(oe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Xt(t),oe(t),vo(t,i,e,a,n)),null;case 27:if(qs(t),n=Cn.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Xt(t);else{if(!a){if(t.stateNode===null)throw Error(O(166));return oe(t),null}e=Gt.current,ja(t)?eh(t):(e=j0(i,a,n),t.stateNode=e,Xt(t))}return oe(t),null;case 5:if(qs(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Xt(t);else{if(!a){if(t.stateNode===null)throw Error(O(166));return oe(t),null}if(r=Gt.current,ja(t))eh(t);else{var s=ll(Cn.current);switch(r){case 1:r=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:r=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":r=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":r=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":r=s.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof a.is=="string"?s.createElement("select",{is:a.is}):s.createElement("select"),a.multiple?r.multiple=!0:a.size&&(r.size=a.size);break;default:r=typeof a.is=="string"?s.createElement(i,{is:a.is}):s.createElement(i)}}r[Ve]=t,r[at]=a;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)r.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=r;e:switch(Qe(r,i,a),i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Xt(t)}}return oe(t),vo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Xt(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(O(166));if(e=Cn.current,ja(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,i=Ke,i!==null)switch(i.tag){case 27:case 5:a=i.memoizedProps}e[Ve]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||E0(e.nodeValue,n)),e||Gn(t,!0)}else e=ll(e).createTextNode(a),e[Ve]=t,t.stateNode=e}return oe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=ja(t),n!==null){if(e===null){if(!a)throw Error(O(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(557));e[Ve]=t}else ma(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;oe(t),e=!1}else n=oo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(lt(t),t):(lt(t),null);if(t.flags&128)throw Error(O(558))}return oe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=ja(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(O(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(O(317));i[Ve]=t}else ma(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;oe(t),i=!1}else i=oo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(lt(t),t):(lt(t),null)}return lt(t),t.flags&128?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,i=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(i=a.alternate.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==i&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),rs(t,t.updateQueue),oe(t),null);case 4:return li(),e===null&&Zc(t.stateNode.containerInfo),oe(t),null;case 10:return ln(t.type),oe(t),null;case 19:if($e(xe),a=t.memoizedState,a===null)return oe(t),null;if(i=(t.flags&128)!==0,r=a.rendering,r===null)if(i)Hi(a,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=Xs(e),r!==null){for(t.flags|=128,Hi(a,!1),e=r.updateQueue,t.updateQueue=e,rs(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)$m(n,e),n=n.sibling;return le(xe,xe.current&1|2),P&&en(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&ht()>tl&&(t.flags|=128,i=!0,Hi(a,!1),t.lanes=4194304)}else{if(!i)if(e=Xs(r),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,rs(t,e),Hi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!r.alternate&&!P)return oe(t),null}else 2*ht()-a.renderingStartTime>tl&&n!==536870912&&(t.flags|=128,i=!0,Hi(a,!1),t.lanes=4194304);a.isBackwards?(r.sibling=t.child,t.child=r):(e=a.last,e!==null?e.sibling=r:t.child=r,a.last=r)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ht(),e.sibling=null,n=xe.current,le(xe,i?n&1|2:n&1),P&&en(t,a.treeForkCount),e):(oe(t),null);case 22:case 23:return lt(t),kc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(oe(t),t.subtreeFlags&6&&(t.flags|=8192)):oe(t),n=t.updateQueue,n!==null&&rs(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&$e(da),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ln(ke),oe(t),null;case 25:return null;case 30:return null}throw Error(O(156,t.tag))}function Bb(e,t){switch(Ec(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ln(ke),li(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return qs(t),null;case 31:if(t.memoizedState!==null){if(lt(t),t.alternate===null)throw Error(O(340));ma()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(lt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));ma()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $e(xe),null;case 4:return li(),null;case 10:return ln(t.type),null;case 22:case 23:return lt(t),kc(),e!==null&&$e(da),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ln(ke),null;case 25:return null;default:return null}}function $g(e,t){switch(Ec(t),t.tag){case 3:ln(ke),li();break;case 26:case 27:case 5:qs(t);break;case 4:li();break;case 31:t.memoizedState!==null&&lt(t);break;case 13:lt(t);break;case 19:$e(xe);break;case 10:ln(t.type);break;case 22:case 23:lt(t),kc(),e!==null&&$e(da);break;case 24:ln(ke)}}function Hr(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){a=void 0;var r=n.create,s=n.inst;a=r(),s.destroy=a}n=n.next}while(n!==i)}}catch(l){F(t,t.return,l)}}function Vn(e,t,n){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var r=i.next;a=r;do{if((a.tag&e)===e){var s=a.inst,l=s.destroy;if(l!==void 0){s.destroy=void 0,i=t;var o=n,u=l;try{u()}catch(c){F(i,o,c)}}}a=a.next}while(a!==r)}}catch(c){F(t,t.return,c)}}function qg(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Xm(t,n)}catch(a){F(e,e.return,a)}}}function Hg(e,t,n){n.props=va(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){F(e,t,a)}}function or(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(i){F(e,t,i)}}function Ht(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(i){F(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){F(e,t,i)}else n.current=null}function Gg(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(i){F(e,e.return,i)}}function bo(e,t,n){try{var a=e.stateNode;r_(a,e.type,n,t),a[at]=t}catch(i){F(e,e.return,i)}}function Vg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Jn(e.type)||e.tag===4}function _o(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Jn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Eu(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=an));else if(a!==4&&(a===27&&Jn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Eu(e,t,n),e=e.sibling;e!==null;)Eu(e,t,n),e=e.sibling}function el(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&Jn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(el(e,t,n),e=e.sibling;e!==null;)el(e,t,n),e=e.sibling}function Kg(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Qe(t,a,n),t[Ve]=e,t[at]=n}catch(r){F(e,e.return,r)}}var tn=!1,je=!1,wo=!1,Ah=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Lb(e,t){if(e=e.containerInfo,Nu=dl,e=Nm(e),bc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var s=0,l=-1,o=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(l=s+i),d!==r||a!==0&&d.nodeType!==3||(o=s+a),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++u===i&&(l=s),h===r&&++c===a&&(o=s),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cu={focusedElem:e,selectionRange:n},dl=!1,Be=t;Be!==null;)if(t=Be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Be=e;else for(;Be!==null;){switch(t=Be,r=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,n=t,i=r.memoizedProps,r=r.memoizedState,a=n.stateNode;try{var v=va(n.type,i);e=a.getSnapshotBeforeUpdate(v,r),a.__reactInternalSnapshotBeforeUpdate=e}catch(_){F(n,n.return,_)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)zu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(O(163))}if(e=t.sibling,e!==null){e.return=t.return,Be=e;break}Be=t.return}}function Yg(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Zt(e,n),a&4&&Hr(5,n);break;case 1:if(Zt(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){F(n,n.return,s)}else{var i=va(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){F(n,n.return,s)}}a&64&&qg(n),a&512&&or(n,n.return);break;case 3:if(Zt(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Xm(e,t)}catch(s){F(n,n.return,s)}}break;case 27:t===null&&a&4&&Kg(n);case 26:case 5:Zt(e,n),t===null&&a&4&&Gg(n),a&512&&or(n,n.return);break;case 12:Zt(e,n);break;case 31:Zt(e,n),a&4&&Pg(e,n);break;case 13:Zt(e,n),a&4&&Xg(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Jb.bind(null,n),f_(e,n))));break;case 22:if(a=n.memoizedState!==null||tn,!a){t=t!==null&&t.memoizedState!==null||je,i=tn;var r=je;tn=a,(je=t)&&!r?Wt(e,n,(n.subtreeFlags&8772)!==0):Zt(e,n),tn=i,je=r}break;case 30:break;default:Zt(e,n)}}function Qg(e){var t=e.alternate;t!==null&&(e.alternate=null,Qg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&fc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var me=null,et=!1;function It(e,t,n){for(n=n.child;n!==null;)Jg(e,t,n),n=n.sibling}function Jg(e,t,n){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(zr,n)}catch{}switch(n.tag){case 26:je||Ht(n,t),It(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:je||Ht(n,t);var a=me,i=et;Jn(n.type)&&(me=n.stateNode,et=!1),It(e,t,n),hr(n.stateNode),me=a,et=i;break;case 5:je||Ht(n,t);case 6:if(a=me,i=et,me=null,It(e,t,n),me=a,et=i,me!==null)if(et)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(n.stateNode)}catch(r){F(n,t,r)}else try{me.removeChild(n.stateNode)}catch(r){F(n,t,r)}break;case 18:me!==null&&(et?(e=me,$h(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),pi(e)):$h(me,n.stateNode));break;case 4:a=me,i=et,me=n.stateNode.containerInfo,et=!0,It(e,t,n),me=a,et=i;break;case 0:case 11:case 14:case 15:Vn(2,n,t),je||Vn(4,n,t),It(e,t,n);break;case 1:je||(Ht(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Hg(n,t,a)),It(e,t,n);break;case 21:It(e,t,n);break;case 22:je=(a=je)||n.memoizedState!==null,It(e,t,n),je=a;break;default:It(e,t,n)}}function Pg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{pi(e)}catch(n){F(t,t.return,n)}}}function Xg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{pi(e)}catch(n){F(t,t.return,n)}}function $b(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ah),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ah),t;default:throw Error(O(435,e.tag))}}function ss(e,t){var n=$b(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var i=Pb.bind(null,e,a);a.then(i,i)}})}function We(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a],r=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 27:if(Jn(l.type)){me=l.stateNode,et=!1;break e}break;case 5:me=l.stateNode,et=!1;break e;case 3:case 4:me=l.stateNode.containerInfo,et=!0;break e}l=l.return}if(me===null)throw Error(O(160));Jg(r,s,i),me=null,et=!1,r=i.alternate,r!==null&&(r.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Ig(t,e),t=t.sibling}var zt=null;function Ig(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:We(t,e),Fe(e),a&4&&(Vn(3,e,e.return),Hr(3,e),Vn(5,e,e.return));break;case 1:We(t,e),Fe(e),a&512&&(je||n===null||Ht(n,n.return)),a&64&&tn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var i=zt;if(We(t,e),Fe(e),a&512&&(je||n===null||Ht(n,n.return)),a&4){var r=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(a){case"title":r=i.getElementsByTagName("title")[0],(!r||r[Br]||r[Ve]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=i.createElement(a),i.head.insertBefore(r,i.querySelector("head > title"))),Qe(r,a,n),r[Ve]=e,Le(r),a=r;break e;case"link":var s=Qh("link","href",i).get(a+(n.href||""));if(s){for(var l=0;l<s.length;l++)if(r=s[l],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(l,1);break t}}r=i.createElement(a),Qe(r,a,n),i.head.appendChild(r);break;case"meta":if(s=Qh("meta","content",i).get(a+(n.content||""))){for(l=0;l<s.length;l++)if(r=s[l],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(l,1);break t}}r=i.createElement(a),Qe(r,a,n),i.head.appendChild(r);break;default:throw Error(O(468,a))}r[Ve]=e,Le(r),a=r}e.stateNode=a}else Jh(i,e.type,e.stateNode);else e.stateNode=Yh(i,a,e.memoizedProps);else r!==a?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,a===null?Jh(i,e.type,e.stateNode):Yh(i,a,e.memoizedProps)):a===null&&e.stateNode!==null&&bo(e,e.memoizedProps,n.memoizedProps)}break;case 27:We(t,e),Fe(e),a&512&&(je||n===null||Ht(n,n.return)),n!==null&&a&4&&bo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(We(t,e),Fe(e),a&512&&(je||n===null||Ht(n,n.return)),e.flags&32){i=e.stateNode;try{ui(i,"")}catch(v){F(e,e.return,v)}}a&4&&e.stateNode!=null&&(i=e.memoizedProps,bo(e,i,n!==null?n.memoizedProps:i)),a&1024&&(wo=!0);break;case 6:if(We(t,e),Fe(e),a&4){if(e.stateNode===null)throw Error(O(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(v){F(e,e.return,v)}}break;case 3:if(Us=null,i=zt,zt=ol(t.containerInfo),We(t,e),zt=i,Fe(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{pi(t.containerInfo)}catch(v){F(e,e.return,v)}wo&&(wo=!1,Zg(e));break;case 4:a=zt,zt=ol(e.stateNode.containerInfo),We(t,e),Fe(e),zt=a;break;case 12:We(t,e),Fe(e);break;case 31:We(t,e),Fe(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ss(e,a)));break;case 13:We(t,e),Fe(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(zl=ht()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ss(e,a)));break;case 22:i=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,u=tn,c=je;if(tn=u||i,je=c||o,We(t,e),je=c,tn=u,Fe(e),a&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||o||tn||je||aa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(r=o.stateNode,i)s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{l=o.stateNode;var d=o.memoizedProps.style,h=d!=null&&d.hasOwnProperty("display")?d.display:null;l.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(v){F(o,o.return,v)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=i?"":o.memoizedProps}catch(v){F(o,o.return,v)}}}else if(t.tag===18){if(n===null){o=t;try{var f=o.stateNode;i?qh(f,!0):qh(o.stateNode,!1)}catch(v){F(o,o.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,ss(e,n))));break;case 19:We(t,e),Fe(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,ss(e,a)));break;case 30:break;case 21:break;default:We(t,e),Fe(e)}}function Fe(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Vg(a)){n=a;break}a=a.return}if(n==null)throw Error(O(160));switch(n.tag){case 27:var i=n.stateNode,r=_o(e);el(e,r,i);break;case 5:var s=n.stateNode;n.flags&32&&(ui(s,""),n.flags&=-33);var l=_o(e);el(e,l,s);break;case 3:case 4:var o=n.stateNode.containerInfo,u=_o(e);Eu(e,u,o);break;default:throw Error(O(161))}}catch(c){F(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Zg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Zg(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Zt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Yg(e,t.alternate,t),t=t.sibling}function aa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Vn(4,t,t.return),aa(t);break;case 1:Ht(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Hg(t,t.return,n),aa(t);break;case 27:hr(t.stateNode);case 26:case 5:Ht(t,t.return),aa(t);break;case 22:t.memoizedState===null&&aa(t);break;case 30:aa(t);break;default:aa(t)}e=e.sibling}}function Wt(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,i=e,r=t,s=r.flags;switch(r.tag){case 0:case 11:case 15:Wt(i,r,n),Hr(4,r);break;case 1:if(Wt(i,r,n),a=r,i=a.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){F(a,a.return,u)}if(a=r,i=a.updateQueue,i!==null){var l=a.stateNode;try{var o=i.shared.hiddenCallbacks;if(o!==null)for(i.shared.hiddenCallbacks=null,i=0;i<o.length;i++)Pm(o[i],l)}catch(u){F(a,a.return,u)}}n&&s&64&&qg(r),or(r,r.return);break;case 27:Kg(r);case 26:case 5:Wt(i,r,n),n&&a===null&&s&4&&Gg(r),or(r,r.return);break;case 12:Wt(i,r,n);break;case 31:Wt(i,r,n),n&&s&4&&Pg(i,r);break;case 13:Wt(i,r,n),n&&s&4&&Xg(i,r);break;case 22:r.memoizedState===null&&Wt(i,r,n),or(r,r.return);break;case 30:break;default:Wt(i,r,n)}t=t.sibling}}function Yc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&$r(n))}function Qc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$r(e))}function Nt(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wg(e,t,n,a),t=t.sibling}function Wg(e,t,n,a){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Nt(e,t,n,a),i&2048&&Hr(9,t);break;case 1:Nt(e,t,n,a);break;case 3:Nt(e,t,n,a),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$r(e)));break;case 12:if(i&2048){Nt(e,t,n,a),e=t.stateNode;try{var r=t.memoizedProps,s=r.id,l=r.onPostCommit;typeof l=="function"&&l(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){F(t,t.return,o)}}else Nt(e,t,n,a);break;case 31:Nt(e,t,n,a);break;case 13:Nt(e,t,n,a);break;case 23:break;case 22:r=t.stateNode,s=t.alternate,t.memoizedState!==null?r._visibility&2?Nt(e,t,n,a):ur(e,t):r._visibility&2?Nt(e,t,n,a):(r._visibility|=2,Ba(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Yc(s,t);break;case 24:Nt(e,t,n,a),i&2048&&Qc(t.alternate,t);break;default:Nt(e,t,n,a)}}function Ba(e,t,n,a,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,s=t,l=n,o=a,u=s.flags;switch(s.tag){case 0:case 11:case 15:Ba(r,s,l,o,i),Hr(8,s);break;case 23:break;case 22:var c=s.stateNode;s.memoizedState!==null?c._visibility&2?Ba(r,s,l,o,i):ur(r,s):(c._visibility|=2,Ba(r,s,l,o,i)),i&&u&2048&&Yc(s.alternate,s);break;case 24:Ba(r,s,l,o,i),i&&u&2048&&Qc(s.alternate,s);break;default:Ba(r,s,l,o,i)}t=t.sibling}}function ur(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,i=a.flags;switch(a.tag){case 22:ur(n,a),i&2048&&Yc(a.alternate,a);break;case 24:ur(n,a),i&2048&&Qc(a.alternate,a);break;default:ur(n,a)}t=t.sibling}}var Ii=8192;function ka(e,t,n){if(e.subtreeFlags&Ii)for(e=e.child;e!==null;)Fg(e,t,n),e=e.sibling}function Fg(e,t,n){switch(e.tag){case 26:ka(e,t,n),e.flags&Ii&&e.memoizedState!==null&&T_(n,zt,e.memoizedState,e.memoizedProps);break;case 5:ka(e,t,n);break;case 3:case 4:var a=zt;zt=ol(e.stateNode.containerInfo),ka(e,t,n),zt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Ii,Ii=16777216,ka(e,t,n),Ii=a):ka(e,t,n));break;default:ka(e,t,n)}}function e0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Gi(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Be=a,n0(a,e)}e0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)t0(e),e=e.sibling}function t0(e){switch(e.tag){case 0:case 11:case 15:Gi(e),e.flags&2048&&Vn(9,e,e.return);break;case 3:Gi(e);break;case 12:Gi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ns(e)):Gi(e);break;default:Gi(e)}}function Ns(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Be=a,n0(a,e)}e0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Vn(8,t,t.return),Ns(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ns(t));break;default:Ns(t)}e=e.sibling}}function n0(e,t){for(;Be!==null;){var n=Be;switch(n.tag){case 0:case 11:case 15:Vn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:$r(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Be=a;else e:for(n=e;Be!==null;){a=Be;var i=a.sibling,r=a.return;if(Qg(a),a===n){Be=null;break e}if(i!==null){i.return=r,Be=i;break e}Be=r}}}var qb={getCacheForType:function(e){var t=Ye(ke),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ye(ke).controller.signal}},Hb=typeof WeakMap=="function"?WeakMap:Map,X=0,ie=null,Y=null,J=0,W=0,st=null,kn=!1,Ei=!1,Jc=!1,mn=0,_e=0,Kn=0,fa=0,Pc=0,dt=0,fi=0,cr=null,tt=null,Tu=!1,zl=0,a0=0,tl=1/0,nl=null,Mn=null,ze=0,Bn=null,mi=null,on=0,Au=0,Ou=null,i0=null,dr=0,ju=null;function gt(){return X&2&&J!==0?J&-J:L.T!==null?Ic():fm()}function r0(){if(dt===0)if(!(J&536870912)||P){var e=Wr;Wr<<=1,!(Wr&3932160)&&(Wr=262144),dt=e}else dt=536870912;return e=pt.current,e!==null&&(e.flags|=32),dt}function nt(e,t,n){(e===ie&&(W===2||W===9)||e.cancelPendingCommit!==null)&&(gi(e,0),Rn(e,J,dt,!1)),Mr(e,n),(!(X&2)||e!==ie)&&(e===ie&&(!(X&2)&&(fa|=n),_e===4&&Rn(e,J,dt,!1)),Kt(e))}function s0(e,t,n){if(X&6)throw Error(O(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Dr(e,t),i=a?Kb(e,t):So(e,t,!0),r=a;do{if(i===0){Ei&&!a&&Rn(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!Gb(n)){i=So(e,t,!1),r=!1;continue}if(i===2){if(r=t,e.errorRecoveryDisabledLanes&r)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var l=e;i=cr;var o=l.current.memoizedState.isDehydrated;if(o&&(gi(l,s).flags|=256),s=So(l,s,!1),s!==2){if(Jc&&!o){l.errorRecoveryDisabledLanes|=r,fa|=r,i=4;break e}r=tt,tt=i,r!==null&&(tt===null?tt=r:tt.push.apply(tt,r))}i=s}if(r=!1,i!==2)continue}}if(i===1){gi(e,0),Rn(e,t,0,!0);break}e:{switch(a=e,r=i,r){case 0:case 1:throw Error(O(345));case 4:if((t&4194048)!==t)break;case 6:Rn(a,t,dt,!kn);break e;case 2:tt=null;break;case 3:case 5:break;default:throw Error(O(329))}if((t&62914560)===t&&(i=zl+300-ht(),10<i)){if(Rn(a,t,dt,!kn),xl(a,0,!0)!==0)break e;on=t,a.timeoutHandle=A0(Oh.bind(null,a,n,tt,nl,Tu,t,dt,fa,fi,kn,r,"Throttled",-0,0),i);break e}Oh(a,n,tt,nl,Tu,t,dt,fa,fi,kn,r,null,-0,0)}}break}while(!0);Kt(e)}function Oh(e,t,n,a,i,r,s,l,o,u,c,d,h,f){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:an},Fg(t,r,d);var v=(r&62914560)===r?zl-ht():(r&4194048)===r?a0-ht():0;if(v=A_(d,v),v!==null){on=r,e.cancelPendingCommit=v(kh.bind(null,e,t,r,n,a,i,s,l,o,c,d,null,h,f)),Rn(e,r,s,!u);return}}kh(e,t,r,n,a,i,s,l,o)}function Gb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var i=n[a],r=i.getSnapshot;i=i.value;try{if(!yt(r(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rn(e,t,n,a){t&=~Pc,t&=~fa,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var i=t;0<i;){var r=31-mt(i),s=1<<r;a[r]=-1,i&=~s}n!==0&&cm(e,n,t)}function Dl(){return X&6?!0:(Gr(0),!1)}function Xc(){if(Y!==null){if(W===0)var e=Y.return;else e=Y,rn=xa=null,zc(e),ai=null,wr=0,e=Y;for(;e!==null;)$g(e.alternate,e),e=e.return;Y=null}}function gi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,o_(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),on=0,Xc(),ie=e,Y=n=sn(e.current,null),J=t,W=0,st=null,kn=!1,Ei=Dr(e,t),Jc=!1,fi=dt=Pc=fa=Kn=_e=0,tt=cr=null,Tu=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var i=31-mt(a),r=1<<i;t|=e[i],a&=~r}return mn=t,Ol(),n}function l0(e,t){V=null,L.H=xr,t===xi||t===kl?(t=rh(),W=3):t===Oc?(t=rh(),W=4):W=t===Vc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,st=t,Y===null&&(_e=1,Ws(e,Et(t,e.current)))}function o0(){var e=pt.current;return e===null?!0:(J&4194048)===J?Ot===null:(J&62914560)===J||J&536870912?e===Ot:!1}function u0(){var e=L.H;return L.H=xr,e===null?xr:e}function c0(){var e=L.A;return L.A=qb,e}function al(){_e=4,kn||(J&4194048)!==J&&pt.current!==null||(Ei=!0),!(Kn&134217727)&&!(fa&134217727)||ie===null||Rn(ie,J,dt,!1)}function So(e,t,n){var a=X;X|=2;var i=u0(),r=c0();(ie!==e||J!==t)&&(nl=null,gi(e,t)),t=!1;var s=_e;e:do try{if(W!==0&&Y!==null){var l=Y,o=st;switch(W){case 8:Xc(),s=6;break e;case 3:case 2:case 9:case 6:pt.current===null&&(t=!0);var u=W;if(W=0,st=null,Wa(e,l,o,u),n&&Ei){s=0;break e}break;default:u=W,W=0,st=null,Wa(e,l,o,u)}}Vb(),s=_e;break}catch(c){l0(e,c)}while(!0);return t&&e.shellSuspendCounter++,rn=xa=null,X=a,L.H=i,L.A=r,Y===null&&(ie=null,J=0,Ol()),s}function Vb(){for(;Y!==null;)d0(Y)}function Kb(e,t){var n=X;X|=2;var a=u0(),i=c0();ie!==e||J!==t?(nl=null,tl=ht()+500,gi(e,t)):Ei=Dr(e,t);e:do try{if(W!==0&&Y!==null){t=Y;var r=st;t:switch(W){case 1:W=0,st=null,Wa(e,t,r,1);break;case 2:case 9:if(ih(r)){W=0,st=null,jh(t);break}t=function(){W!==2&&W!==9||ie!==e||(W=7),Kt(e)},r.then(t,t);break e;case 3:W=7;break e;case 4:W=5;break e;case 7:ih(r)?(W=0,st=null,jh(t)):(W=0,st=null,Wa(e,t,r,7));break;case 5:var s=null;switch(Y.tag){case 26:s=Y.memoizedState;case 5:case 27:var l=Y;if(s?N0(s):l.stateNode.complete){W=0,st=null;var o=l.sibling;if(o!==null)Y=o;else{var u=l.return;u!==null?(Y=u,Ml(u)):Y=null}break t}}W=0,st=null,Wa(e,t,r,5);break;case 6:W=0,st=null,Wa(e,t,r,6);break;case 8:Xc(),_e=6;break e;default:throw Error(O(462))}}Yb();break}catch(c){l0(e,c)}while(!0);return rn=xa=null,L.H=a,L.A=i,X=n,Y!==null?0:(ie=null,J=0,Ol(),_e)}function Yb(){for(;Y!==null&&!mv();)d0(Y)}function d0(e){var t=Lg(e.alternate,e,mn);e.memoizedProps=e.pendingProps,t===null?Ml(e):Y=t}function jh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=wh(n,t,t.pendingProps,t.type,void 0,J);break;case 11:t=wh(n,t,t.pendingProps,t.type.render,t.ref,J);break;case 5:zc(t);default:$g(n,t),t=Y=$m(t,mn),t=Lg(n,t,mn)}e.memoizedProps=e.pendingProps,t===null?Ml(e):Y=t}function Wa(e,t,n,a){rn=xa=null,zc(t),ai=null,wr=0;var i=t.return;try{if(Ub(e,i,t,n,J)){_e=1,Ws(e,Et(n,e.current)),Y=null;return}}catch(r){if(i!==null)throw Y=i,r;_e=1,Ws(e,Et(n,e.current)),Y=null;return}t.flags&32768?(P||a===1?e=!0:Ei||J&536870912?e=!1:(kn=e=!0,(a===2||a===9||a===3||a===6)&&(a=pt.current,a!==null&&a.tag===13&&(a.flags|=16384))),h0(t,e)):Ml(t)}function Ml(e){var t=e;do{if(t.flags&32768){h0(t,kn);return}e=t.return;var n=Mb(t.alternate,t,mn);if(n!==null){Y=n;return}if(t=t.sibling,t!==null){Y=t;return}Y=t=e}while(t!==null);_e===0&&(_e=5)}function h0(e,t){do{var n=Bb(e.alternate,e);if(n!==null){n.flags&=32767,Y=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Y=e;return}Y=e=n}while(e!==null);_e=6,Y=null}function kh(e,t,n,a,i,r,s,l,o){e.cancelPendingCommit=null;do Bl();while(ze!==0);if(X&6)throw Error(O(327));if(t!==null){if(t===e.current)throw Error(O(177));if(r=t.lanes|t.childLanes,r|=_c,Ev(e,n,r,s,l,o),e===ie&&(Y=ie=null,J=0),mi=t,Bn=e,on=n,Au=r,Ou=i,i0=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Xb(Hs,function(){return p0(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=L.T,L.T=null,i=I.p,I.p=2,s=X,X|=4;try{Lb(e,t,n)}finally{X=s,I.p=i,L.T=a}}ze=1,f0(),m0(),g0()}}function f0(){if(ze===1){ze=0;var e=Bn,t=mi,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=L.T,L.T=null;var a=I.p;I.p=2;var i=X;X|=4;try{Ig(t,e);var r=Cu,s=Nm(e.containerInfo),l=r.focusedElem,o=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Rm(l.ownerDocument.documentElement,l)){if(o!==null&&bc(l)){var u=o.start,c=o.end;if(c===void 0&&(c=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(c,l.value.length);else{var d=l.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),v=l.textContent.length,_=Math.min(o.start,v),b=o.end===void 0?_:Math.min(o.end,v);!f.extend&&_>b&&(s=b,b=_,_=s);var p=Zd(l,_),m=Zd(l,b);if(p&&m&&(f.rangeCount!==1||f.anchorNode!==p.node||f.anchorOffset!==p.offset||f.focusNode!==m.node||f.focusOffset!==m.offset)){var y=d.createRange();y.setStart(p.node,p.offset),f.removeAllRanges(),_>b?(f.addRange(y),f.extend(m.node,m.offset)):(y.setEnd(m.node,m.offset),f.addRange(y))}}}}for(d=[],f=l;f=f.parentNode;)f.nodeType===1&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<d.length;l++){var w=d[l];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}dl=!!Nu,Cu=Nu=null}finally{X=i,I.p=a,L.T=n}}e.current=t,ze=2}}function m0(){if(ze===2){ze=0;var e=Bn,t=mi,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=L.T,L.T=null;var a=I.p;I.p=2;var i=X;X|=4;try{Yg(e,t.alternate,t)}finally{X=i,I.p=a,L.T=n}}ze=3}}function g0(){if(ze===4||ze===3){ze=0,gv();var e=Bn,t=mi,n=on,a=i0;t.subtreeFlags&10256||t.flags&10256?ze=5:(ze=0,mi=Bn=null,y0(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Mn=null),hc(n),t=t.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(zr,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=L.T,i=I.p,I.p=2,L.T=null;try{for(var r=e.onRecoverableError,s=0;s<a.length;s++){var l=a[s];r(l.value,{componentStack:l.stack})}}finally{L.T=t,I.p=i}}on&3&&Bl(),Kt(e),i=e.pendingLanes,n&261930&&i&42?e===ju?dr++:(dr=0,ju=e):dr=0,Gr(0)}}function y0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,$r(t)))}function Bl(){return f0(),m0(),g0(),p0()}function p0(){if(ze!==5)return!1;var e=Bn,t=Au;Au=0;var n=hc(on),a=L.T,i=I.p;try{I.p=32>n?32:n,L.T=null,n=Ou,Ou=null;var r=Bn,s=on;if(ze=0,mi=Bn=null,on=0,X&6)throw Error(O(331));var l=X;if(X|=4,t0(r.current),Wg(r,r.current,s,n),X=l,Gr(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(zr,r)}catch{}return!0}finally{I.p=i,L.T=a,y0(e,t)}}function Rh(e,t,n){t=Et(n,t),t=wu(e.stateNode,t,2),e=Dn(e,t,2),e!==null&&(Mr(e,2),Kt(e))}function F(e,t,n){if(e.tag===3)Rh(e,e,n);else for(;t!==null;){if(t.tag===3){Rh(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Mn===null||!Mn.has(a))){e=Et(n,e),n=Cg(2),a=Dn(t,n,2),a!==null&&(Ug(n,a,t,e),Mr(a,2),Kt(a));break}}t=t.return}}function xo(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Hb;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(Jc=!0,i.add(n),e=Qb.bind(null,e,t,n),t.then(e,e))}function Qb(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ie===e&&(J&n)===n&&(_e===4||_e===3&&(J&62914560)===J&&300>ht()-zl?!(X&2)&&gi(e,0):Pc|=n,fi===J&&(fi=0)),Kt(e)}function v0(e,t){t===0&&(t=um()),e=Sa(e,t),e!==null&&(Mr(e,t),Kt(e))}function Jb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),v0(e,n)}function Pb(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(O(314))}a!==null&&a.delete(t),v0(e,n)}function Xb(e,t){return cc(e,t)}var il=null,La=null,ku=!1,rl=!1,Eo=!1,Nn=0;function Kt(e){e!==La&&e.next===null&&(La===null?il=La=e:La=La.next=e),rl=!0,ku||(ku=!0,Zb())}function Gr(e,t){if(!Eo&&rl){Eo=!0;do for(var n=!1,a=il;a!==null;){if(e!==0){var i=a.pendingLanes;if(i===0)var r=0;else{var s=a.suspendedLanes,l=a.pingedLanes;r=(1<<31-mt(42|e)+1)-1,r&=i&~(s&~l),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,Nh(a,r))}else r=J,r=xl(a,a===ie?r:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(r&3)||Dr(a,r)||(n=!0,Nh(a,r));a=a.next}while(n);Eo=!1}}function Ib(){b0()}function b0(){rl=ku=!1;var e=0;Nn!==0&&l_()&&(e=Nn);for(var t=ht(),n=null,a=il;a!==null;){var i=a.next,r=_0(a,t);r===0?(a.next=null,n===null?il=i:n.next=i,i===null&&(La=n)):(n=a,(e!==0||r&3)&&(rl=!0)),a=i}ze!==0&&ze!==5||Gr(e),Nn!==0&&(Nn=0)}function _0(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var s=31-mt(r),l=1<<s,o=i[s];o===-1?(!(l&n)||l&a)&&(i[s]=xv(l,t)):o<=t&&(e.expiredLanes|=l),r&=~l}if(t=ie,n=J,n=xl(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(W===2||W===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Zl(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Dr(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Zl(a),hc(n)){case 2:case 8:n=lm;break;case 32:n=Hs;break;case 268435456:n=om;break;default:n=Hs}return a=w0.bind(null,e),n=cc(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Zl(a),e.callbackPriority=2,e.callbackNode=null,2}function w0(e,t){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Bl()&&e.callbackNode!==n)return null;var a=J;return a=xl(e,e===ie?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(s0(e,a,t),_0(e,ht()),e.callbackNode!=null&&e.callbackNode===n?w0.bind(null,e):null)}function Nh(e,t){if(Bl())return null;s0(e,t,!0)}function Zb(){u_(function(){X&6?cc(sm,Ib):b0()})}function Ic(){if(Nn===0){var e=ci;e===0&&(e=Zr,Zr<<=1,!(Zr&261888)&&(Zr=256)),Nn=e}return Nn}function Ch(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ss(""+e)}function Uh(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Wb(e,t,n,a,i){if(t==="submit"&&n&&n.stateNode===i){var r=Ch((i[at]||null).action),s=a.submitter;s&&(t=(t=s[at]||null)?Ch(t.formAction):s.getAttribute("formAction"),t!==null&&(r=t,s=null));var l=new El("action","action",null,a,i);e.push({event:l,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Nn!==0){var o=s?Uh(i,s):new FormData(i);bu(n,{pending:!0,data:o,method:i.method,action:r},null,o)}}else typeof r=="function"&&(l.preventDefault(),o=s?Uh(i,s):new FormData(i),bu(n,{pending:!0,data:o,method:i.method,action:r},r,o))},currentTarget:i}]})}}for(var To=0;To<lu.length;To++){var Ao=lu[To],Fb=Ao.toLowerCase(),e_=Ao[0].toUpperCase()+Ao.slice(1);Dt(Fb,"on"+e_)}Dt(Um,"onAnimationEnd");Dt(zm,"onAnimationIteration");Dt(Dm,"onAnimationStart");Dt("dblclick","onDoubleClick");Dt("focusin","onFocus");Dt("focusout","onBlur");Dt(yb,"onTransitionRun");Dt(pb,"onTransitionStart");Dt(vb,"onTransitionCancel");Dt(Mm,"onTransitionEnd");oi("onMouseEnter",["mouseout","mouseover"]);oi("onMouseLeave",["mouseout","mouseover"]);oi("onPointerEnter",["pointerout","pointerover"]);oi("onPointerLeave",["pointerout","pointerover"]);ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ba("onBeforeInput",["compositionend","keypress","textInput","paste"]);ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Er));function S0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var s=a.length-1;0<=s;s--){var l=a[s],o=l.instance,u=l.currentTarget;if(l=l.listener,o!==r&&i.isPropagationStopped())break e;r=l,i.currentTarget=u;try{r(i)}catch(c){Vs(c)}i.currentTarget=null,r=o}else for(s=0;s<a.length;s++){if(l=a[s],o=l.instance,u=l.currentTarget,l=l.listener,o!==r&&i.isPropagationStopped())break e;r=l,i.currentTarget=u;try{r(i)}catch(c){Vs(c)}i.currentTarget=null,r=o}}}}function K(e,t){var n=t[Fo];n===void 0&&(n=t[Fo]=new Set);var a=e+"__bubble";n.has(a)||(x0(t,e,2,!1),n.add(a))}function Oo(e,t,n){var a=0;t&&(a|=4),x0(n,e,a,t)}var ls="_reactListening"+Math.random().toString(36).slice(2);function Zc(e){if(!e[ls]){e[ls]=!0,mm.forEach(function(n){n!=="selectionchange"&&(t_.has(n)||Oo(n,!1,e),Oo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ls]||(t[ls]=!0,Oo("selectionchange",!1,t))}}function x0(e,t,n,a){switch(M0(t)){case 2:var i=k_;break;case 8:i=R_;break;default:i=td}n=i.bind(null,t,n,e),i=void 0,!iu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jo(e,t,n,a,i){var r=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var s=a.tag;if(s===3||s===4){var l=a.stateNode.containerInfo;if(l===i)break;if(s===4)for(s=a.return;s!==null;){var o=s.tag;if((o===3||o===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;l!==null;){if(s=Va(l),s===null)return;if(o=s.tag,o===5||o===6||o===26||o===27){a=r=s;continue e}l=l.parentNode}}a=a.return}Sm(function(){var u=r,c=gc(n),d=[];e:{var h=Bm.get(e);if(h!==void 0){var f=El,v=e;switch(e){case"keypress":if(Es(n)===0)break e;case"keydown":case"keyup":f=Pv;break;case"focusin":v="focus",f=no;break;case"focusout":v="blur",f=no;break;case"beforeblur":case"afterblur":f=no;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Hd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Mv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Zv;break;case Um:case zm:case Dm:f=$v;break;case Mm:f=Fv;break;case"scroll":case"scrollend":f=zv;break;case"wheel":f=tb;break;case"copy":case"cut":case"paste":f=Hv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Vd;break;case"toggle":case"beforetoggle":f=ab}var _=(t&4)!==0,b=!_&&(e==="scroll"||e==="scrollend"),p=_?h!==null?h+"Capture":null:h;_=[];for(var m=u,y;m!==null;){var w=m;if(y=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||y===null||p===null||(w=yr(m,p),w!=null&&_.push(Tr(m,w,y))),b)break;m=m.return}0<_.length&&(h=new f(h,v,null,n,c),d.push({event:h,listeners:_}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&n!==au&&(v=n.relatedTarget||n.fromElement)&&(Va(v)||v[_i]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(v=n.relatedTarget||n.toElement,f=u,v=v?Va(v):null,v!==null&&(b=Ur(v),_=v.tag,v!==b||_!==5&&_!==27&&_!==6)&&(v=null)):(f=null,v=u),f!==v)){if(_=Hd,w="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(_=Vd,w="onPointerLeave",p="onPointerEnter",m="pointer"),b=f==null?h:Pi(f),y=v==null?h:Pi(v),h=new _(w,m+"leave",f,n,c),h.target=b,h.relatedTarget=y,w=null,Va(c)===u&&(_=new _(p,m+"enter",v,n,c),_.target=y,_.relatedTarget=b,w=_),b=w,f&&v)t:{for(_=n_,p=f,m=v,y=0,w=p;w;w=_(w))y++;w=0;for(var T=m;T;T=_(T))w++;for(;0<y-w;)p=_(p),y--;for(;0<w-y;)m=_(m),w--;for(;y--;){if(p===m||m!==null&&p===m.alternate){_=p;break t}p=_(p),m=_(m)}_=null}else _=null;f!==null&&zh(d,h,f,_,!1),v!==null&&b!==null&&zh(d,b,v,_,!0)}}e:{if(h=u?Pi(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var A=Jd;else if(Qd(h))if(jm)A=fb;else{A=db;var E=cb}else f=h.nodeName,!f||f.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&mc(u.elementType)&&(A=Jd):A=hb;if(A&&(A=A(e,u))){Om(d,A,n,c);break e}E&&E(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&nu(h,"number",h.value)}switch(E=u?Pi(u):window,e){case"focusin":(Qd(E)||E.contentEditable==="true")&&(Qa=E,ru=u,nr=null);break;case"focusout":nr=ru=Qa=null;break;case"mousedown":su=!0;break;case"contextmenu":case"mouseup":case"dragend":su=!1,Wd(d,n,c);break;case"selectionchange":if(gb)break;case"keydown":case"keyup":Wd(d,n,c)}var j;if(vc)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Ya?Tm(e,n)&&(x="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Em&&n.locale!=="ko"&&(Ya||x!=="onCompositionStart"?x==="onCompositionEnd"&&Ya&&(j=xm()):(jn=c,yc="value"in jn?jn.value:jn.textContent,Ya=!0)),E=sl(u,x),0<E.length&&(x=new Gd(x,e,null,n,c),d.push({event:x,listeners:E}),j?x.data=j:(j=Am(n),j!==null&&(x.data=j)))),(j=rb?sb(e,n):lb(e,n))&&(x=sl(u,"onBeforeInput"),0<x.length&&(E=new Gd("onBeforeInput","beforeinput",null,n,c),d.push({event:E,listeners:x}),E.data=j)),Wb(d,e,u,n,c)}S0(d,t)})}function Tr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function sl(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,r=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||r===null||(i=yr(e,n),i!=null&&a.unshift(Tr(e,i,r)),i=yr(e,t),i!=null&&a.push(Tr(e,i,r))),e.tag===3)return a;e=e.return}return[]}function n_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function zh(e,t,n,a,i){for(var r=t._reactName,s=[];n!==null&&n!==a;){var l=n,o=l.alternate,u=l.stateNode;if(l=l.tag,o!==null&&o===a)break;l!==5&&l!==26&&l!==27||u===null||(o=u,i?(u=yr(n,r),u!=null&&s.unshift(Tr(n,u,o))):i||(u=yr(n,r),u!=null&&s.push(Tr(n,u,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var a_=/\r\n?/g,i_=/\u0000|\uFFFD/g;function Dh(e){return(typeof e=="string"?e:""+e).replace(a_,`
`).replace(i_,"")}function E0(e,t){return t=Dh(t),Dh(e)===t}function te(e,t,n,a,i,r){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||ui(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&ui(e,""+a);break;case"className":es(e,"class",a);break;case"tabIndex":es(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":es(e,n,a);break;case"style":wm(e,a,r);break;case"data":if(t!=="object"){es(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Ss(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&te(e,t,"name",i.name,i,null),te(e,t,"formEncType",i.formEncType,i,null),te(e,t,"formMethod",i.formMethod,i,null),te(e,t,"formTarget",i.formTarget,i,null)):(te(e,t,"encType",i.encType,i,null),te(e,t,"method",i.method,i,null),te(e,t,"target",i.target,i,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=Ss(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=an);break;case"onScroll":a!=null&&K("scroll",e);break;case"onScrollEnd":a!=null&&K("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(O(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(O(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=Ss(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":K("beforetoggle",e),K("toggle",e),ws(e,"popover",a);break;case"xlinkActuate":Pt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Pt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Pt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Pt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Pt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Pt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ws(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Cv.get(n)||n,ws(e,n,a))}}function Ru(e,t,n,a,i,r){switch(n){case"style":wm(e,a,r);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(O(61));if(n=a.__html,n!=null){if(i.children!=null)throw Error(O(60));e.innerHTML=n}}break;case"children":typeof a=="string"?ui(e,a):(typeof a=="number"||typeof a=="bigint")&&ui(e,""+a);break;case"onScroll":a!=null&&K("scroll",e);break;case"onScrollEnd":a!=null&&K("scrollend",e);break;case"onClick":a!=null&&(e.onclick=an);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gm.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),r=e[at]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,i),typeof a=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,i);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):ws(e,n,a)}}}function Qe(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":K("error",e),K("load",e);var a=!1,i=!1,r;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(s!=null)switch(r){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(O(137,t));default:te(e,t,r,s,n,null)}}i&&te(e,t,"srcSet",n.srcSet,n,null),a&&te(e,t,"src",n.src,n,null);return;case"input":K("invalid",e);var l=r=s=i=null,o=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var c=n[a];if(c!=null)switch(a){case"name":i=c;break;case"type":s=c;break;case"checked":o=c;break;case"defaultChecked":u=c;break;case"value":r=c;break;case"defaultValue":l=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(O(137,t));break;default:te(e,t,a,c,n,null)}}vm(e,r,l,o,u,s,i,!1);return;case"select":K("invalid",e),a=s=r=null;for(i in n)if(n.hasOwnProperty(i)&&(l=n[i],l!=null))switch(i){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":a=l;default:te(e,t,i,l,n,null)}t=r,n=s,e.multiple=!!a,t!=null?ei(e,!!a,t,!1):n!=null&&ei(e,!!a,n,!0);return;case"textarea":K("invalid",e),r=i=a=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":a=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(O(91));break;default:te(e,t,s,l,n,null)}_m(e,a,i,r);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:te(e,t,o,a,n,null)}return;case"dialog":K("beforetoggle",e),K("toggle",e),K("cancel",e),K("close",e);break;case"iframe":case"object":K("load",e);break;case"video":case"audio":for(a=0;a<Er.length;a++)K(Er[a],e);break;case"image":K("error",e),K("load",e);break;case"details":K("toggle",e);break;case"embed":case"source":case"link":K("error",e),K("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(a=n[u],a!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(O(137,t));default:te(e,t,u,a,n,null)}return;default:if(mc(t)){for(c in n)n.hasOwnProperty(c)&&(a=n[c],a!==void 0&&Ru(e,t,c,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(a=n[l],a!=null&&te(e,t,l,a,n,null))}function r_(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,r=null,s=null,l=null,o=null,u=null,c=null;for(f in n){var d=n[f];if(n.hasOwnProperty(f)&&d!=null)switch(f){case"checked":break;case"value":break;case"defaultValue":o=d;default:a.hasOwnProperty(f)||te(e,t,f,null,a,d)}}for(var h in a){var f=a[h];if(d=n[h],a.hasOwnProperty(h)&&(f!=null||d!=null))switch(h){case"type":r=f;break;case"name":i=f;break;case"checked":u=f;break;case"defaultChecked":c=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(O(137,t));break;default:f!==d&&te(e,t,h,f,a,d)}}tu(e,s,l,o,u,c,r,i);return;case"select":f=s=l=h=null;for(r in n)if(o=n[r],n.hasOwnProperty(r)&&o!=null)switch(r){case"value":break;case"multiple":f=o;default:a.hasOwnProperty(r)||te(e,t,r,null,a,o)}for(i in a)if(r=a[i],o=n[i],a.hasOwnProperty(i)&&(r!=null||o!=null))switch(i){case"value":h=r;break;case"defaultValue":l=r;break;case"multiple":s=r;default:r!==o&&te(e,t,i,r,a,o)}t=l,n=s,a=f,h!=null?ei(e,!!n,h,!1):!!a!=!!n&&(t!=null?ei(e,!!n,t,!0):ei(e,!!n,n?[]:"",!1));return;case"textarea":f=h=null;for(l in n)if(i=n[l],n.hasOwnProperty(l)&&i!=null&&!a.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:te(e,t,l,null,a,i)}for(s in a)if(i=a[s],r=n[s],a.hasOwnProperty(s)&&(i!=null||r!=null))switch(s){case"value":h=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(O(91));break;default:i!==r&&te(e,t,s,i,a,r)}bm(e,h,f);return;case"option":for(var v in n)if(h=n[v],n.hasOwnProperty(v)&&h!=null&&!a.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:te(e,t,v,null,a,h)}for(o in a)if(h=a[o],f=n[o],a.hasOwnProperty(o)&&h!==f&&(h!=null||f!=null))switch(o){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:te(e,t,o,h,a,f)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in n)h=n[_],n.hasOwnProperty(_)&&h!=null&&!a.hasOwnProperty(_)&&te(e,t,_,null,a,h);for(u in a)if(h=a[u],f=n[u],a.hasOwnProperty(u)&&h!==f&&(h!=null||f!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(O(137,t));break;default:te(e,t,u,h,a,f)}return;default:if(mc(t)){for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!==void 0&&!a.hasOwnProperty(b)&&Ru(e,t,b,void 0,a,h);for(c in a)h=a[c],f=n[c],!a.hasOwnProperty(c)||h===f||h===void 0&&f===void 0||Ru(e,t,c,h,a,f);return}}for(var p in n)h=n[p],n.hasOwnProperty(p)&&h!=null&&!a.hasOwnProperty(p)&&te(e,t,p,null,a,h);for(d in a)h=a[d],f=n[d],!a.hasOwnProperty(d)||h===f||h==null&&f==null||te(e,t,d,h,a,f)}function Mh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function s_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var i=n[a],r=i.transferSize,s=i.initiatorType,l=i.duration;if(r&&l&&Mh(s)){for(s=0,l=i.responseEnd,a+=1;a<n.length;a++){var o=n[a],u=o.startTime;if(u>l)break;var c=o.transferSize,d=o.initiatorType;c&&Mh(d)&&(o=o.responseEnd,s+=c*(o<l?1:(l-u)/(o-u)))}if(--a,t+=8*(r+s)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Nu=null,Cu=null;function ll(e){return e.nodeType===9?e:e.ownerDocument}function Bh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Uu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ko=null;function l_(){var e=window.event;return e&&e.type==="popstate"?e===ko?!1:(ko=e,!0):(ko=null,!1)}var A0=typeof setTimeout=="function"?setTimeout:void 0,o_=typeof clearTimeout=="function"?clearTimeout:void 0,Lh=typeof Promise=="function"?Promise:void 0,u_=typeof queueMicrotask=="function"?queueMicrotask:typeof Lh<"u"?function(e){return Lh.resolve(null).then(e).catch(c_)}:A0;function c_(e){setTimeout(function(){throw e})}function Jn(e){return e==="head"}function $h(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(i),pi(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")hr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,hr(n);for(var r=n.firstChild;r;){var s=r.nextSibling,l=r.nodeName;r[Br]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=s}}else n==="body"&&hr(e.ownerDocument.body);n=i}while(n);pi(t)}function qh(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function zu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":zu(n),fc(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function d_(e,t,n,a){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Br])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=jt(e.nextSibling),e===null)break}return null}function h_(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=jt(e.nextSibling),e===null))return null;return e}function O0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=jt(e.nextSibling),e===null))return null;return e}function Du(e){return e.data==="$?"||e.data==="$~"}function Mu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function f_(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Bu=null;function Hh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return jt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Gh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function j0(e,t,n){switch(t=ll(n),e){case"html":if(e=t.documentElement,!e)throw Error(O(452));return e;case"head":if(e=t.head,!e)throw Error(O(453));return e;case"body":if(e=t.body,!e)throw Error(O(454));return e;default:throw Error(O(451))}}function hr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);fc(e)}var kt=new Map,Vh=new Set;function ol(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yn=I.d;I.d={f:m_,r:g_,D:y_,C:p_,L:v_,m:b_,X:w_,S:__,M:S_};function m_(){var e=yn.f(),t=Dl();return e||t}function g_(e){var t=wi(e);t!==null&&t.tag===5&&t.type==="form"?wg(t):yn.r(e)}var Ti=typeof document>"u"?null:document;function k0(e,t,n){var a=Ti;if(a&&typeof t=="string"&&t){var i=xt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Vh.has(i)||(Vh.add(i),e={rel:e,crossOrigin:n,href:t},a.querySelector(i)===null&&(t=a.createElement("link"),Qe(t,"link",e),Le(t),a.head.appendChild(t)))}}function y_(e){yn.D(e),k0("dns-prefetch",e,null)}function p_(e,t){yn.C(e,t),k0("preconnect",e,t)}function v_(e,t,n){yn.L(e,t,n);var a=Ti;if(a&&e&&t){var i='link[rel="preload"][as="'+xt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+xt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+xt(n.imageSizes)+'"]')):i+='[href="'+xt(e)+'"]';var r=i;switch(t){case"style":r=yi(e);break;case"script":r=Ai(e)}kt.has(r)||(e=he({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),kt.set(r,e),a.querySelector(i)!==null||t==="style"&&a.querySelector(Vr(r))||t==="script"&&a.querySelector(Kr(r))||(t=a.createElement("link"),Qe(t,"link",e),Le(t),a.head.appendChild(t)))}}function b_(e,t){yn.m(e,t);var n=Ti;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+xt(a)+'"][href="'+xt(e)+'"]',r=i;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Ai(e)}if(!kt.has(r)&&(e=he({rel:"modulepreload",href:e},t),kt.set(r,e),n.querySelector(i)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Kr(r)))return}a=n.createElement("link"),Qe(a,"link",e),Le(a),n.head.appendChild(a)}}}function __(e,t,n){yn.S(e,t,n);var a=Ti;if(a&&e){var i=Fa(a).hoistableStyles,r=yi(e);t=t||"default";var s=i.get(r);if(!s){var l={loading:0,preload:null};if(s=a.querySelector(Vr(r)))l.loading=5;else{e=he({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kt.get(r))&&Wc(e,n);var o=s=a.createElement("link");Le(o),Qe(o,"link",e),o._p=new Promise(function(u,c){o.onload=u,o.onerror=c}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Cs(s,t,a)}s={type:"stylesheet",instance:s,count:1,state:l},i.set(r,s)}}}function w_(e,t){yn.X(e,t);var n=Ti;if(n&&e){var a=Fa(n).hoistableScripts,i=Ai(e),r=a.get(i);r||(r=n.querySelector(Kr(i)),r||(e=he({src:e,async:!0},t),(t=kt.get(i))&&Fc(e,t),r=n.createElement("script"),Le(r),Qe(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}}function S_(e,t){yn.M(e,t);var n=Ti;if(n&&e){var a=Fa(n).hoistableScripts,i=Ai(e),r=a.get(i);r||(r=n.querySelector(Kr(i)),r||(e=he({src:e,async:!0,type:"module"},t),(t=kt.get(i))&&Fc(e,t),r=n.createElement("script"),Le(r),Qe(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(i,r))}}function Kh(e,t,n,a){var i=(i=Cn.current)?ol(i):null;if(!i)throw Error(O(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=yi(n.href),n=Fa(i).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=yi(n.href);var r=Fa(i).hoistableStyles,s=r.get(e);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,s),(r=i.querySelector(Vr(e)))&&!r._p&&(s.instance=r,s.state.loading=5),kt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kt.set(e,n),r||x_(i,e,n,s.state))),t&&a===null)throw Error(O(528,""));return s}if(t&&a!==null)throw Error(O(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ai(n),n=Fa(i).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(O(444,e))}}function yi(e){return'href="'+xt(e)+'"'}function Vr(e){return'link[rel="stylesheet"]['+e+"]"}function R0(e){return he({},e,{"data-precedence":e.precedence,precedence:null})}function x_(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Qe(t,"link",n),Le(t),e.head.appendChild(t))}function Ai(e){return'[src="'+xt(e)+'"]'}function Kr(e){return"script[async]"+e}function Yh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+xt(n.href)+'"]');if(a)return t.instance=a,Le(a),a;var i=he({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Le(a),Qe(a,"style",i),Cs(a,n.precedence,e),t.instance=a;case"stylesheet":i=yi(n.href);var r=e.querySelector(Vr(i));if(r)return t.state.loading|=4,t.instance=r,Le(r),r;a=R0(n),(i=kt.get(i))&&Wc(a,i),r=(e.ownerDocument||e).createElement("link"),Le(r);var s=r;return s._p=new Promise(function(l,o){s.onload=l,s.onerror=o}),Qe(r,"link",a),t.state.loading|=4,Cs(r,n.precedence,e),t.instance=r;case"script":return r=Ai(n.src),(i=e.querySelector(Kr(r)))?(t.instance=i,Le(i),i):(a=n,(i=kt.get(r))&&(a=he({},n),Fc(a,i)),e=e.ownerDocument||e,i=e.createElement("script"),Le(i),Qe(i,"link",a),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(O(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,Cs(a,n.precedence,e));return t.instance}function Cs(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=a.length?a[a.length-1]:null,r=i,s=0;s<a.length;s++){var l=a[s];if(l.dataset.precedence===t)r=l;else if(r!==i)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Wc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Fc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Us=null;function Qh(e,t,n){if(Us===null){var a=new Map,i=Us=new Map;i.set(n,a)}else i=Us,a=i.get(n),a||(a=new Map,i.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var r=n[i];if(!(r[Br]||r[Ve]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var s=r.getAttribute(t)||"";s=e+s;var l=a.get(s);l?l.push(r):a.set(s,[r])}}return a}function Jh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function E_(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function N0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function T_(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=yi(a.href),r=t.querySelector(Vr(i));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ul.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,Le(r);return}r=t.ownerDocument||t,a=R0(a),(i=kt.get(i))&&Wc(a,i),r=r.createElement("link"),Le(r);var s=r;s._p=new Promise(function(l,o){s.onload=l,s.onerror=o}),Qe(r,"link",a),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=ul.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Ro=0;function A_(e,t){return e.stylesheets&&e.count===0&&zs(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&zs(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&Ro===0&&(Ro=62500*s_());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&zs(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>Ro?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(i)}}:null}function ul(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cl=null;function zs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,cl=new Map,t.forEach(O_,e),cl=null,ul.call(e))}function O_(e,t){if(!(t.state.loading&4)){var n=cl.get(e);if(n)var a=n.get(null);else{n=new Map,cl.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<i.length;r++){var s=i[r];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),a=s)}a&&n.set(null,a)}i=t.instance,s=i.getAttribute("data-precedence"),r=n.get(s)||a,r===a&&n.set(null,i),n.set(s,i),this.count++,a=ul.bind(this),i.addEventListener("load",a),i.addEventListener("error",a),r?r.parentNode.insertBefore(i,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Ar={$$typeof:nn,Provider:null,Consumer:null,_currentValue:ua,_currentValue2:ua,_threadCount:0};function j_(e,t,n,a,i,r,s,l,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wl(0),this.hiddenUpdates=Wl(null),this.identifierPrefix=a,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function C0(e,t,n,a,i,r,s,l,o,u,c,d){return e=new j_(e,t,n,s,o,u,c,d,l),t=1,r===!0&&(t|=24),r=ot(3,null,null,t),e.current=r,r.stateNode=e,t=Tc(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:a,isDehydrated:n,cache:t},jc(r),e}function U0(e){return e?(e=Xa,e):Xa}function z0(e,t,n,a,i,r){i=U0(i),a.context===null?a.context=i:a.pendingContext=i,a=zn(t),a.payload={element:n},r=r===void 0?null:r,r!==null&&(a.callback=r),n=Dn(e,a,t),n!==null&&(nt(n,e,t),ir(n,e,t))}function Ph(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ed(e,t){Ph(e,t),(e=e.alternate)&&Ph(e,t)}function D0(e){if(e.tag===13||e.tag===31){var t=Sa(e,67108864);t!==null&&nt(t,e,67108864),ed(e,67108864)}}function Xh(e){if(e.tag===13||e.tag===31){var t=gt();t=dc(t);var n=Sa(e,t);n!==null&&nt(n,e,t),ed(e,t)}}var dl=!0;function k_(e,t,n,a){var i=L.T;L.T=null;var r=I.p;try{I.p=2,td(e,t,n,a)}finally{I.p=r,L.T=i}}function R_(e,t,n,a){var i=L.T;L.T=null;var r=I.p;try{I.p=8,td(e,t,n,a)}finally{I.p=r,L.T=i}}function td(e,t,n,a){if(dl){var i=Lu(a);if(i===null)jo(e,t,a,hl,n),Ih(e,a);else if(C_(i,e,t,n,a))a.stopPropagation();else if(Ih(e,a),t&4&&-1<N_.indexOf(e)){for(;i!==null;){var r=wi(i);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var s=ta(r.pendingLanes);if(s!==0){var l=r;for(l.pendingLanes|=2,l.entangledLanes|=2;s;){var o=1<<31-mt(s);l.entanglements[1]|=o,s&=~o}Kt(r),!(X&6)&&(tl=ht()+500,Gr(0))}}break;case 31:case 13:l=Sa(r,2),l!==null&&nt(l,r,2),Dl(),ed(r,2)}if(r=Lu(a),r===null&&jo(e,t,a,hl,n),r===i)break;i=r}i!==null&&a.stopPropagation()}else jo(e,t,a,null,n)}}function Lu(e){return e=gc(e),nd(e)}var hl=null;function nd(e){if(hl=null,e=Va(e),e!==null){var t=Ur(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=tm(t),e!==null)return e;e=null}else if(n===31){if(e=nm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return hl=e,null}function M0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yv()){case sm:return 2;case lm:return 8;case Hs:case pv:return 32;case om:return 268435456;default:return 32}default:return 32}}var $u=!1,Ln=null,$n=null,qn=null,Or=new Map,jr=new Map,Tn=[],N_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ih(e,t){switch(e){case"focusin":case"focusout":Ln=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":Or.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jr.delete(t.pointerId)}}function Vi(e,t,n,a,i,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[i]},t!==null&&(t=wi(t),t!==null&&D0(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function C_(e,t,n,a,i){switch(t){case"focusin":return Ln=Vi(Ln,e,t,n,a,i),!0;case"dragenter":return $n=Vi($n,e,t,n,a,i),!0;case"mouseover":return qn=Vi(qn,e,t,n,a,i),!0;case"pointerover":var r=i.pointerId;return Or.set(r,Vi(Or.get(r)||null,e,t,n,a,i)),!0;case"gotpointercapture":return r=i.pointerId,jr.set(r,Vi(jr.get(r)||null,e,t,n,a,i)),!0}return!1}function B0(e){var t=Va(e.target);if(t!==null){var n=Ur(t);if(n!==null){if(t=n.tag,t===13){if(t=tm(n),t!==null){e.blockedOn=t,zd(e.priority,function(){Xh(n)});return}}else if(t===31){if(t=nm(n),t!==null){e.blockedOn=t,zd(e.priority,function(){Xh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ds(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Lu(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);au=a,n.target.dispatchEvent(a),au=null}else return t=wi(n),t!==null&&D0(t),e.blockedOn=n,!1;t.shift()}return!0}function Zh(e,t,n){Ds(e)&&n.delete(t)}function U_(){$u=!1,Ln!==null&&Ds(Ln)&&(Ln=null),$n!==null&&Ds($n)&&($n=null),qn!==null&&Ds(qn)&&(qn=null),Or.forEach(Zh),jr.forEach(Zh)}function os(e,t){e.blockedOn===t&&(e.blockedOn=null,$u||($u=!0,De.unstable_scheduleCallback(De.unstable_NormalPriority,U_)))}var us=null;function Wh(e){us!==e&&(us=e,De.unstable_scheduleCallback(De.unstable_NormalPriority,function(){us===e&&(us=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],i=e[t+2];if(typeof a!="function"){if(nd(a||n)===null)continue;break}var r=wi(n);r!==null&&(e.splice(t,3),t-=3,bu(r,{pending:!0,data:i,method:n.method,action:a},a,i))}}))}function pi(e){function t(o){return os(o,e)}Ln!==null&&os(Ln,e),$n!==null&&os($n,e),qn!==null&&os(qn,e),Or.forEach(t),jr.forEach(t);for(var n=0;n<Tn.length;n++){var a=Tn[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Tn.length&&(n=Tn[0],n.blockedOn===null);)B0(n),n.blockedOn===null&&Tn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var i=n[a],r=n[a+1],s=i[at]||null;if(typeof r=="function")s||Wh(n);else if(s){var l=null;if(r&&r.hasAttribute("formAction")){if(i=r,s=r[at]||null)l=s.formAction;else if(nd(i)!==null)continue}else l=s.action;typeof l=="function"?n[a+1]=l:(n.splice(a,3),a-=3),Wh(n)}}}function L0(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function ad(e){this._internalRoot=e}Ll.prototype.render=ad.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));var n=t.current,a=gt();z0(n,a,e,t,null,null)};Ll.prototype.unmount=ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;z0(e.current,2,null,e,null,null),Dl(),t[_i]=null}};function Ll(e){this._internalRoot=e}Ll.prototype.unstable_scheduleHydration=function(e){if(e){var t=fm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tn.length&&t!==0&&t<Tn[n].priority;n++);Tn.splice(n,0,e),n===0&&B0(e)}};var Fh=Ff.version;if(Fh!=="19.2.0")throw Error(O(527,Fh,"19.2.0"));I.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=uv(t),e=e!==null?am(e):null,e=e===null?null:e.stateNode,e};var z_={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cs.isDisabled&&cs.supportsFiber)try{zr=cs.inject(z_),ft=cs}catch{}}wl.createRoot=function(e,t){if(!em(e))throw Error(O(299));var n=!1,a="",i=kg,r=Rg,s=Ng;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=C0(e,1,!1,null,null,n,a,null,i,r,s,L0),e[_i]=t.current,Zc(e),new ad(t)};wl.hydrateRoot=function(e,t,n){if(!em(e))throw Error(O(299));var a=!1,i="",r=kg,s=Rg,l=Ng,o=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=C0(e,1,!0,t,n??null,a,i,o,r,s,l,L0),t.context=U0(null),n=t.current,a=gt(),a=dc(a),i=zn(a),i.callback=null,Dn(n,i,a),n=a,t.current.lanes=n,Mr(t,n),Kt(t),e[_i]=t.current,Zc(e),new Ll(t)};wl.version="19.2.0";function $0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($0)}catch(e){console.error(e)}}$0(),Jf.exports=wl;var D_=Jf.exports;const M_="modulepreload",B_=function(e){return"/"+e},ef={},L_=function(t,n,a){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(o=>{if(o=B_(o),o in ef)return;ef[o]=!0;const u=o.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":M_,u||(d.as="script"),d.crossOrigin="",d.href=o,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}function r(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&r(l.reason);return t().catch(r)})};/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tf="popstate";function $_(e={}){function t(a,i){let{pathname:r,search:s,hash:l}=a.location;return qu("",{pathname:r,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){return typeof i=="string"?i:kr(i)}return H_(t,n,null,e)}function ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Rt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function q_(){return Math.random().toString(36).substring(2,10)}function nf(e,t){return{usr:e.state,key:e.key,idx:t}}function qu(e,t,n=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Oi(t):t,state:n,key:t&&t.key||a||q_()}}function kr({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Oi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function H_(e,t,n,a={}){let{window:i=document.defaultView,v5Compat:r=!1}=a,s=i.history,l="POP",o=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function d(){l="POP";let b=c(),p=b==null?null:b-u;u=b,o&&o({action:l,location:_.location,delta:p})}function h(b,p){l="PUSH";let m=qu(_.location,b,p);u=c()+1;let y=nf(m,u),w=_.createHref(m);try{s.pushState(y,"",w)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(w)}r&&o&&o({action:l,location:_.location,delta:1})}function f(b,p){l="REPLACE";let m=qu(_.location,b,p);u=c();let y=nf(m,u),w=_.createHref(m);s.replaceState(y,"",w),r&&o&&o({action:l,location:_.location,delta:0})}function v(b){return G_(b)}let _={get action(){return l},get location(){return e(i,s)},listen(b){if(o)throw new Error("A history only accepts one active listener");return i.addEventListener(tf,d),o=b,()=>{i.removeEventListener(tf,d),o=null}},createHref(b){return t(i,b)},createURL:v,encodeLocation(b){let p=v(b);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:f,go(b){return s.go(b)}};return _}function G_(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ge(n,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:kr(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function q0(e,t,n="/"){return V_(e,t,n,!1)}function V_(e,t,n,a){let i=typeof t=="string"?Oi(t):t,r=gn(i.pathname||"/",n);if(r==null)return null;let s=H0(e);K_(s);let l=null;for(let o=0;l==null&&o<s.length;++o){let u=tw(r);l=F_(s[o],u,a)}return l}function H0(e,t=[],n=[],a="",i=!1){let r=(s,l,o=i,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(a)&&o)return;ge(c.relativePath.startsWith(a),`Absolute route path "${c.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(a.length)}let d=un([a,c.relativePath]),h=n.concat(c);s.children&&s.children.length>0&&(ge(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),H0(s.children,t,h,d,o)),!(s.path==null&&!s.index)&&t.push({path:d,score:Z_(d,s.index),routesMeta:h})};return e.forEach((s,l)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))r(s,l);else for(let u of G0(s.path))r(s,l,!0,u)}),t}function G0(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,i=n.endsWith("?"),r=n.replace(/\?$/,"");if(a.length===0)return i?[r,""]:[r];let s=G0(a.join("/")),l=[];return l.push(...s.map(o=>o===""?r:[r,o].join("/"))),i&&l.push(...s),l.map(o=>e.startsWith("/")&&o===""?"/":o)}function K_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:W_(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Y_=/^:[\w-]+$/,Q_=3,J_=2,P_=1,X_=10,I_=-2,af=e=>e==="*";function Z_(e,t){let n=e.split("/"),a=n.length;return n.some(af)&&(a+=I_),t&&(a+=J_),n.filter(i=>!af(i)).reduce((i,r)=>i+(Y_.test(r)?Q_:r===""?P_:X_),a)}function W_(e,t){return e.length===t.length&&e.slice(0,-1).every((a,i)=>a===t[i])?e[e.length-1]-t[t.length-1]:0}function F_(e,t,n=!1){let{routesMeta:a}=e,i={},r="/",s=[];for(let l=0;l<a.length;++l){let o=a[l],u=l===a.length-1,c=r==="/"?t:t.slice(r.length)||"/",d=fl({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},c),h=o.route;if(!d&&u&&n&&!a[a.length-1].route.index&&(d=fl({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:un([r,d.pathname]),pathnameBase:sw(un([r,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(r=un([r,d.pathnameBase]))}return s}function fl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=ew(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let r=i[0],s=r.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:a.reduce((u,{paramName:c,isOptional:d},h)=>{if(c==="*"){let v=l[h]||"";s=r.slice(0,r.length-v.length).replace(/(.)\/+$/,"$1")}const f=l[h];return d&&!f?u[c]=void 0:u[c]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:r,pathnameBase:s,pattern:e}}function ew(e,t=!1,n=!0){Rt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,o)=>(a.push({paramName:l,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),a]}function tw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Rt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function gn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}var nw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aw=e=>nw.test(e);function iw(e,t="/"){let{pathname:n,search:a="",hash:i=""}=typeof e=="string"?Oi(e):e,r;if(n)if(aw(n))r=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),Rt(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?r=rf(n.substring(1),"/"):r=rf(n,t)}else r=t;return{pathname:r,search:lw(a),hash:ow(i)}}function rf(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function No(e,t,n,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function id(e){let t=rw(e);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function rd(e,t,n,a=!1){let i;typeof e=="string"?i=Oi(e):(i={...e},ge(!i.pathname||!i.pathname.includes("?"),No("?","pathname","search",i)),ge(!i.pathname||!i.pathname.includes("#"),No("#","pathname","hash",i)),ge(!i.search||!i.search.includes("#"),No("#","search","hash",i)));let r=e===""||i.pathname==="",s=r?"/":i.pathname,l;if(s==null)l=n;else{let d=t.length-1;if(!a&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}l=d>=0?t[d]:"/"}let o=iw(i,l),u=s&&s!=="/"&&s.endsWith("/"),c=(r||s===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(u||c)&&(o.pathname+="/"),o}var un=e=>e.join("/").replace(/\/\/+/g,"/"),sw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ow=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function uw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var V0=["POST","PUT","PATCH","DELETE"];new Set(V0);var cw=["GET",...V0];new Set(cw);var ji=S.createContext(null);ji.displayName="DataRouter";var $l=S.createContext(null);$l.displayName="DataRouterState";S.createContext(!1);var K0=S.createContext({isTransitioning:!1});K0.displayName="ViewTransition";var dw=S.createContext(new Map);dw.displayName="Fetchers";var hw=S.createContext(null);hw.displayName="Await";var Mt=S.createContext(null);Mt.displayName="Navigation";var Yr=S.createContext(null);Yr.displayName="Location";var Yt=S.createContext({outlet:null,matches:[],isDataRoute:!1});Yt.displayName="Route";var sd=S.createContext(null);sd.displayName="RouteError";function fw(e,{relative:t}={}){ge(ki(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=S.useContext(Mt),{hash:i,pathname:r,search:s}=Qr(e,{relative:t}),l=r;return n!=="/"&&(l=r==="/"?n:un([n,r])),a.createHref({pathname:l,search:s,hash:i})}function ki(){return S.useContext(Yr)!=null}function Qt(){return ge(ki(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Yr).location}var Y0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Q0(e){S.useContext(Mt).static||S.useLayoutEffect(e)}function Ri(){let{isDataRoute:e}=S.useContext(Yt);return e?Aw():mw()}function mw(){ge(ki(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(ji),{basename:t,navigator:n}=S.useContext(Mt),{matches:a}=S.useContext(Yt),{pathname:i}=Qt(),r=JSON.stringify(id(a)),s=S.useRef(!1);return Q0(()=>{s.current=!0}),S.useCallback((o,u={})=>{if(Rt(s.current,Y0),!s.current)return;if(typeof o=="number"){n.go(o);return}let c=rd(o,JSON.parse(r),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:un([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,r,i,e])}S.createContext(null);function Qr(e,{relative:t}={}){let{matches:n}=S.useContext(Yt),{pathname:a}=Qt(),i=JSON.stringify(id(n));return S.useMemo(()=>rd(e,JSON.parse(i),a,t==="path"),[e,i,a,t])}function gw(e,t){return J0(e,t)}function J0(e,t,n,a,i){var m;ge(ki(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=S.useContext(Mt),{matches:s}=S.useContext(Yt),l=s[s.length-1],o=l?l.params:{},u=l?l.pathname:"/",c=l?l.pathnameBase:"/",d=l&&l.route;{let y=d&&d.path||"";P0(u,!d||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let h=Qt(),f;if(t){let y=typeof t=="string"?Oi(t):t;ge(c==="/"||((m=y.pathname)==null?void 0:m.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${y.pathname}" was given in the \`location\` prop.`),f=y}else f=h;let v=f.pathname||"/",_=v;if(c!=="/"){let y=c.replace(/^\//,"").split("/");_="/"+v.replace(/^\//,"").split("/").slice(y.length).join("/")}let b=q0(e,{pathname:_});Rt(d||b!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Rt(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let p=_w(b&&b.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:un([c,r.encodeLocation?r.encodeLocation(y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:un([c,r.encodeLocation?r.encodeLocation(y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:y.pathnameBase])})),s,n,a,i);return t&&p?S.createElement(Yr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},p):p}function yw(){let e=Tw(),t=uw(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},r={padding:"2px 4px",backgroundColor:a},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:r},"ErrorBoundary")," or"," ",S.createElement("code",{style:r},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:i},n):null,s)}var pw=S.createElement(yw,null),vw=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?S.createElement(Yt.Provider,{value:this.props.routeContext},S.createElement(sd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bw({routeContext:e,match:t,children:n}){let a=S.useContext(ji);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(Yt.Provider,{value:e},n)}function _w(e,t=[],n=null,a=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,s=n==null?void 0:n.errors;if(s!=null){let c=r.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);ge(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,c+1))}let l=!1,o=-1;if(n)for(let c=0;c<r.length;c++){let d=r[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(o=c),d.route.id){let{loaderData:h,errors:f}=n,v=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!f||f[d.route.id]===void 0);if(d.route.lazy||v){l=!0,o>=0?r=r.slice(0,o+1):r=[r[0]];break}}}let u=n&&a?(c,d)=>{var h,f;a(c,{location:n.location,params:((f=(h=n.matches)==null?void 0:h[0])==null?void 0:f.params)??{},errorInfo:d})}:void 0;return r.reduceRight((c,d,h)=>{let f,v=!1,_=null,b=null;n&&(f=s&&d.route.id?s[d.route.id]:void 0,_=d.route.errorElement||pw,l&&(o<0&&h===0?(P0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,b=null):o===h&&(v=!0,b=d.route.hydrateFallbackElement||null)));let p=t.concat(r.slice(0,h+1)),m=()=>{let y;return f?y=_:v?y=b:d.route.Component?y=S.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=c,S.createElement(bw,{match:d,routeContext:{outlet:c,matches:p,isDataRoute:n!=null},children:y})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?S.createElement(vw,{location:n.location,revalidation:n.revalidation,component:_,error:f,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0},onError:u}):m()},null)}function ld(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ww(e){let t=S.useContext(ji);return ge(t,ld(e)),t}function Sw(e){let t=S.useContext($l);return ge(t,ld(e)),t}function xw(e){let t=S.useContext(Yt);return ge(t,ld(e)),t}function od(e){let t=xw(e),n=t.matches[t.matches.length-1];return ge(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Ew(){return od("useRouteId")}function Tw(){var a;let e=S.useContext(sd),t=Sw("useRouteError"),n=od("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[n]}function Aw(){let{router:e}=ww("useNavigate"),t=od("useNavigate"),n=S.useRef(!1);return Q0(()=>{n.current=!0}),S.useCallback(async(i,r={})=>{Rt(n.current,Y0),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...r}))},[e,t])}var sf={};function P0(e,t,n){!t&&!sf[e]&&(sf[e]=!0,Rt(!1,n))}S.memo(Ow);function Ow({routes:e,future:t,state:n,unstable_onError:a}){return J0(e,void 0,n,a,t)}function Zi({to:e,replace:t,state:n,relative:a}){ge(ki(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=S.useContext(Mt);Rt(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=S.useContext(Yt),{pathname:s}=Qt(),l=Ri(),o=rd(e,id(r),s,a==="path"),u=JSON.stringify(o);return S.useEffect(()=>{l(JSON.parse(u),{replace:t,state:n,relative:a})},[l,u,a,t,n]),null}function bn(e){ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jw({basename:e="/",children:t=null,location:n,navigationType:a="POP",navigator:i,static:r=!1}){ge(!ki(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),l=S.useMemo(()=>({basename:s,navigator:i,static:r,future:{}}),[s,i,r]);typeof n=="string"&&(n=Oi(n));let{pathname:o="/",search:u="",hash:c="",state:d=null,key:h="default"}=n,f=S.useMemo(()=>{let v=gn(o,s);return v==null?null:{location:{pathname:v,search:u,hash:c,state:d,key:h},navigationType:a}},[s,o,u,c,d,h,a]);return Rt(f!=null,`<Router basename="${s}"> is not able to match the URL "${o}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:S.createElement(Mt.Provider,{value:l},S.createElement(Yr.Provider,{children:t,value:f}))}function kw({children:e,location:t}){return gw(Hu(e),t)}function Hu(e,t=[]){let n=[];return S.Children.forEach(e,(a,i)=>{if(!S.isValidElement(a))return;let r=[...t,i];if(a.type===S.Fragment){n.push.apply(n,Hu(a.props.children,r));return}ge(a.type===bn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ge(!a.props.index||!a.props.children,"An index route cannot have child routes.");let s={id:a.props.id||r.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(s.children=Hu(a.props.children,r)),n.push(s)}),n}var Ms="get",Bs="application/x-www-form-urlencoded";function ql(e){return e!=null&&typeof e.tagName=="string"}function Rw(e){return ql(e)&&e.tagName.toLowerCase()==="button"}function Nw(e){return ql(e)&&e.tagName.toLowerCase()==="form"}function Cw(e){return ql(e)&&e.tagName.toLowerCase()==="input"}function Uw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zw(e,t){return e.button===0&&(!t||t==="_self")&&!Uw(e)}var ds=null;function Dw(){if(ds===null)try{new FormData(document.createElement("form"),0),ds=!1}catch{ds=!0}return ds}var Mw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Co(e){return e!=null&&!Mw.has(e)?(Rt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bs}"`),null):e}function Bw(e,t){let n,a,i,r,s;if(Nw(e)){let l=e.getAttribute("action");a=l?gn(l,t):null,n=e.getAttribute("method")||Ms,i=Co(e.getAttribute("enctype"))||Bs,r=new FormData(e)}else if(Rw(e)||Cw(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||l.getAttribute("action");if(a=o?gn(o,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Ms,i=Co(e.getAttribute("formenctype"))||Co(l.getAttribute("enctype"))||Bs,r=new FormData(l,e),!Dw()){let{name:u,type:c,value:d}=e;if(c==="image"){let h=u?`${u}.`:"";r.append(`${h}x`,"0"),r.append(`${h}y`,"0")}else u&&r.append(u,d)}}else{if(ql(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ms,a=null,i=Bs,s=e}return r&&i==="text/plain"&&(s=r,r=void 0),{action:a,method:n.toLowerCase(),encType:i,formData:r,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ud(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Lw(e,t,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${n}`:t&&gn(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function $w(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qw(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Hw(e,t,n){let a=await Promise.all(e.map(async i=>{let r=t.routes[i.route.id];if(r){let s=await $w(r,n);return s.links?s.links():[]}return[]}));return Yw(a.flat(1).filter(qw).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function lf(e,t,n,a,i,r){let s=(o,u)=>n[u]?o.route.id!==n[u].route.id:!0,l=(o,u)=>{var c;return n[u].pathname!==o.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==o.params["*"]};return r==="assets"?t.filter((o,u)=>s(o,u)||l(o,u)):r==="data"?t.filter((o,u)=>{var d;let c=a.routes[o.route.id];if(!c||!c.hasLoader)return!1;if(s(o,u)||l(o,u))return!0;if(o.route.shouldRevalidate){let h=o.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:o.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Gw(e,t,{includeHydrateFallback:n}={}){return Vw(e.map(a=>{let i=t.routes[a.route.id];if(!i)return[];let r=[i.module];return i.clientActionModule&&(r=r.concat(i.clientActionModule)),i.clientLoaderModule&&(r=r.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(r=r.concat(i.hydrateFallbackModule)),i.imports&&(r=r.concat(i.imports)),r}).flat(1))}function Vw(e){return[...new Set(e)]}function Kw(e){let t={},n=Object.keys(e).sort();for(let a of n)t[a]=e[a];return t}function Yw(e,t){let n=new Set;return new Set(t),e.reduce((a,i)=>{let r=JSON.stringify(Kw(i));return n.has(r)||(n.add(r),a.push({key:r,link:i})),a},[])}function X0(){let e=S.useContext(ji);return ud(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Qw(){let e=S.useContext($l);return ud(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var cd=S.createContext(void 0);cd.displayName="FrameworkContext";function I0(){let e=S.useContext(cd);return ud(e,"You must render this element inside a <HydratedRouter> element"),e}function Jw(e,t){let n=S.useContext(cd),[a,i]=S.useState(!1),[r,s]=S.useState(!1),{onFocus:l,onBlur:o,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=t,h=S.useRef(null);S.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let _=p=>{p.forEach(m=>{s(m.isIntersecting)})},b=new IntersectionObserver(_,{threshold:.5});return h.current&&b.observe(h.current),()=>{b.disconnect()}}},[e]),S.useEffect(()=>{if(a){let _=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(_)}}},[a]);let f=()=>{i(!0)},v=()=>{i(!1),s(!1)};return n?e!=="intent"?[r,h,{}]:[r,h,{onFocus:Ki(l,f),onBlur:Ki(o,v),onMouseEnter:Ki(u,f),onMouseLeave:Ki(c,v),onTouchStart:Ki(d,f)}]:[!1,h,{}]}function Ki(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Pw({page:e,...t}){let{router:n}=X0(),a=S.useMemo(()=>q0(n.routes,e,n.basename),[n.routes,e,n.basename]);return a?S.createElement(Iw,{page:e,matches:a,...t}):null}function Xw(e){let{manifest:t,routeModules:n}=I0(),[a,i]=S.useState([]);return S.useEffect(()=>{let r=!1;return Hw(e,t,n).then(s=>{r||i(s)}),()=>{r=!0}},[e,t,n]),a}function Iw({page:e,matches:t,...n}){let a=Qt(),{manifest:i,routeModules:r}=I0(),{basename:s}=X0(),{loaderData:l,matches:o}=Qw(),u=S.useMemo(()=>lf(e,t,o,i,a,"data"),[e,t,o,i,a]),c=S.useMemo(()=>lf(e,t,o,i,a,"assets"),[e,t,o,i,a]),d=S.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let v=new Set,_=!1;if(t.forEach(p=>{var y;let m=i.routes[p.route.id];!m||!m.hasLoader||(!u.some(w=>w.route.id===p.route.id)&&p.route.id in l&&((y=r[p.route.id])!=null&&y.shouldRevalidate)||m.hasClientLoader?_=!0:v.add(p.route.id))}),v.size===0)return[];let b=Lw(e,s,"data");return _&&v.size>0&&b.searchParams.set("_routes",t.filter(p=>v.has(p.route.id)).map(p=>p.route.id).join(",")),[b.pathname+b.search]},[s,l,a,i,u,t,e,r]),h=S.useMemo(()=>Gw(c,i),[c,i]),f=Xw(c);return S.createElement(S.Fragment,null,d.map(v=>S.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),h.map(v=>S.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),f.map(({key:v,link:_})=>S.createElement("link",{key:v,nonce:n.nonce,..._})))}function Zw(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Z0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Z0&&(window.__reactRouterVersion="7.9.6")}catch{}function Ww({basename:e,children:t,window:n}){let a=S.useRef();a.current==null&&(a.current=$_({window:n,v5Compat:!0}));let i=a.current,[r,s]=S.useState({action:i.action,location:i.location}),l=S.useCallback(o=>{S.startTransition(()=>s(o))},[s]);return S.useLayoutEffect(()=>i.listen(l),[i,l]),S.createElement(jw,{basename:e,children:t,location:r.location,navigationType:r.action,navigator:i})}var W0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ml=S.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:i,reloadDocument:r,replace:s,state:l,target:o,to:u,preventScrollReset:c,viewTransition:d,...h},f){let{basename:v}=S.useContext(Mt),_=typeof u=="string"&&W0.test(u),b,p=!1;if(typeof u=="string"&&_&&(b=u,Z0))try{let x=new URL(window.location.href),k=u.startsWith("//")?new URL(x.protocol+u):new URL(u),M=gn(k.pathname,v);k.origin===x.origin&&M!=null?u=M+k.search+k.hash:p=!0}catch{Rt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let m=fw(u,{relative:i}),[y,w,T]=Jw(a,h),A=nS(u,{replace:s,state:l,target:o,preventScrollReset:c,relative:i,viewTransition:d});function E(x){t&&t(x),x.defaultPrevented||A(x)}let j=S.createElement("a",{...h,...T,href:b||m,onClick:p||r?t:E,ref:Zw(f,w),target:o,"data-discover":!_&&n==="render"?"true":void 0});return y&&!_?S.createElement(S.Fragment,null,j,S.createElement(Pw,{page:m})):j});ml.displayName="Link";var Fw=S.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:i=!1,style:r,to:s,viewTransition:l,children:o,...u},c){let d=Qr(s,{relative:u.relative}),h=Qt(),f=S.useContext($l),{navigator:v,basename:_}=S.useContext(Mt),b=f!=null&&lS(d)&&l===!0,p=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,m=h.pathname,y=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;n||(m=m.toLowerCase(),y=y?y.toLowerCase():null,p=p.toLowerCase()),y&&_&&(y=gn(y,_)||y);const w=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let T=m===p||!i&&m.startsWith(p)&&m.charAt(w)==="/",A=y!=null&&(y===p||!i&&y.startsWith(p)&&y.charAt(p.length)==="/"),E={isActive:T,isPending:A,isTransitioning:b},j=T?t:void 0,x;typeof a=="function"?x=a(E):x=[a,T?"active":null,A?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let k=typeof r=="function"?r(E):r;return S.createElement(ml,{...u,"aria-current":j,className:x,ref:c,style:k,to:s,viewTransition:l},typeof o=="function"?o(E):o)});Fw.displayName="NavLink";var eS=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:i,state:r,method:s=Ms,action:l,onSubmit:o,relative:u,preventScrollReset:c,viewTransition:d,...h},f)=>{let v=rS(),_=sS(l,{relative:u}),b=s.toLowerCase()==="get"?"get":"post",p=typeof l=="string"&&W0.test(l),m=y=>{if(o&&o(y),y.defaultPrevented)return;y.preventDefault();let w=y.nativeEvent.submitter,T=(w==null?void 0:w.getAttribute("formmethod"))||s;v(w||y.currentTarget,{fetcherKey:t,method:T,navigate:n,replace:i,state:r,relative:u,preventScrollReset:c,viewTransition:d})};return S.createElement("form",{ref:f,method:b,action:_,onSubmit:a?o:m,...h,"data-discover":!p&&e==="render"?"true":void 0})});eS.displayName="Form";function tS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F0(e){let t=S.useContext(ji);return ge(t,tS(e)),t}function nS(e,{target:t,replace:n,state:a,preventScrollReset:i,relative:r,viewTransition:s}={}){let l=Ri(),o=Qt(),u=Qr(e,{relative:r});return S.useCallback(c=>{if(zw(c,t)){c.preventDefault();let d=n!==void 0?n:kr(o)===kr(u);l(e,{replace:d,state:a,preventScrollReset:i,relative:r,viewTransition:s})}},[o,l,u,n,a,t,e,i,r,s])}var aS=0,iS=()=>`__${String(++aS)}__`;function rS(){let{router:e}=F0("useSubmit"),{basename:t}=S.useContext(Mt),n=Ew();return S.useCallback(async(a,i={})=>{let{action:r,method:s,encType:l,formData:o,body:u}=Bw(a,t);if(i.navigate===!1){let c=i.fetcherKey||iS();await e.fetch(c,n,i.action||r,{preventScrollReset:i.preventScrollReset,formData:o,body:u,formMethod:i.method||s,formEncType:i.encType||l,flushSync:i.flushSync})}else await e.navigate(i.action||r,{preventScrollReset:i.preventScrollReset,formData:o,body:u,formMethod:i.method||s,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function sS(e,{relative:t}={}){let{basename:n}=S.useContext(Mt),a=S.useContext(Yt);ge(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),r={...Qr(e||".",{relative:t})},s=Qt();if(e==null){r.search=s.search;let l=new URLSearchParams(r.search),o=l.getAll("index");if(o.some(c=>c==="")){l.delete("index"),o.filter(d=>d).forEach(d=>l.append("index",d));let c=l.toString();r.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(r.pathname=r.pathname==="/"?n:un([n,r.pathname])),kr(r)}function lS(e,{relative:t}={}){let n=S.useContext(K0);ge(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=F0("useViewTransitionState"),i=Qr(e,{relative:t});if(!n.isTransitioning)return!1;let r=gn(n.currentLocation.pathname,a)||n.currentLocation.pathname,s=gn(n.nextLocation.pathname,a)||n.nextLocation.pathname;return fl(i.pathname,s)!=null||fl(i.pathname,r)!=null}var Gu=function(e,t){return Gu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},Gu(e,t)};function ey(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Gu(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var gl=function(){return gl=Object.assign||function(t){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gl.apply(this,arguments)};function Ni(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]]);return n}function ty(e,t,n,a){var i=arguments.length,r=i<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,n):a,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(r=(i<3?s(r):i>3?s(t,n,r):s(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r}function ny(e,t){return function(n,a){t(n,a,e)}}function ay(e,t,n,a,i,r){function s(p){if(p!==void 0&&typeof p!="function")throw new TypeError("Function expected");return p}for(var l=a.kind,o=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?a.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,a.name):{}),d,h=!1,f=n.length-1;f>=0;f--){var v={};for(var _ in a)v[_]=_==="access"?{}:a[_];for(var _ in a.access)v.access[_]=a.access[_];v.addInitializer=function(p){if(h)throw new TypeError("Cannot add initializers after decoration has completed");r.push(s(p||null))};var b=(0,n[f])(l==="accessor"?{get:c.get,set:c.set}:c[o],v);if(l==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(d=s(b.get))&&(c.get=d),(d=s(b.set))&&(c.set=d),(d=s(b.init))&&i.unshift(d)}else(d=s(b))&&(l==="field"?i.unshift(d):c[o]=d)}u&&Object.defineProperty(u,a.name,c),h=!0}function iy(e,t,n){for(var a=arguments.length>2,i=0;i<t.length;i++)n=a?t[i].call(e,n):t[i].call(e);return a?n:void 0}function ry(e){return typeof e=="symbol"?e:"".concat(e)}function sy(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function ly(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function U(e,t,n,a){function i(r){return r instanceof n?r:new n(function(s){s(r)})}return new(n||(n=Promise))(function(r,s){function l(c){try{u(a.next(c))}catch(d){s(d)}}function o(c){try{u(a.throw(c))}catch(d){s(d)}}function u(c){c.done?r(c.value):i(c.value).then(l,o)}u((a=a.apply(e,t||[])).next())})}function oy(e,t){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},a,i,r,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=l(0),s.throw=l(1),s.return=l(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(u){return function(c){return o([u,c])}}function o(u){if(a)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(a=1,i&&(r=u[0]&2?i.return:u[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,u[1])).done)return r;switch(i=0,r&&(u=[u[0]&2,r.value]),u[0]){case 0:case 1:r=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(r=n.trys,!(r=r.length>0&&r[r.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!r||u[1]>r[0]&&u[1]<r[3])){n.label=u[1];break}if(u[0]===6&&n.label<r[1]){n.label=r[1],r=u;break}if(r&&n.label<r[2]){n.label=r[2],n.ops.push(u);break}r[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{a=r=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Hl=Object.create?function(e,t,n,a){a===void 0&&(a=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,i)}:function(e,t,n,a){a===void 0&&(a=n),e[a]=t[n]};function uy(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Hl(t,e,n)}function yl(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function dd(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var a=n.call(e),i,r=[],s;try{for(;(t===void 0||t-- >0)&&!(i=a.next()).done;)r.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(s)throw s.error}}return r}function cy(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(dd(arguments[t]));return e}function dy(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var a=Array(e),i=0,t=0;t<n;t++)for(var r=arguments[t],s=0,l=r.length;s<l;s++,i++)a[i]=r[s];return a}function hy(e,t,n){if(n||arguments.length===2)for(var a=0,i=t.length,r;a<i;a++)(r||!(a in t))&&(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function vi(e){return this instanceof vi?(this.v=e,this):new vi(e)}function fy(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(e,t||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(f){return function(v){return Promise.resolve(v).then(f,d)}}function l(f,v){a[f]&&(i[f]=function(_){return new Promise(function(b,p){r.push([f,_,b,p])>1||o(f,_)})},v&&(i[f]=v(i[f])))}function o(f,v){try{u(a[f](v))}catch(_){h(r[0][3],_)}}function u(f){f.value instanceof vi?Promise.resolve(f.value.v).then(c,d):h(r[0][2],f)}function c(f){o("next",f)}function d(f){o("throw",f)}function h(f,v){f(v),r.shift(),r.length&&o(r[0][0],r[0][1])}}function my(e){var t,n;return t={},a("next"),a("throw",function(i){throw i}),a("return"),t[Symbol.iterator]=function(){return this},t;function a(i,r){t[i]=e[i]?function(s){return(n=!n)?{value:vi(e[i](s)),done:!1}:r?r(s):s}:r}}function gy(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof yl=="function"?yl(e):e[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(r){n[r]=e[r]&&function(s){return new Promise(function(l,o){s=e[r](s),i(l,o,s.done,s.value)})}}function i(r,s,l,o){Promise.resolve(o).then(function(u){r({value:u,done:l})},s)}}function yy(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var oS=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Vu=function(e){return Vu=Object.getOwnPropertyNames||function(t){var n=[];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[n.length]=a);return n},Vu(e)};function py(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Vu(e),a=0;a<n.length;a++)n[a]!=="default"&&Hl(t,e,n[a]);return oS(t,e),t}function vy(e){return e&&e.__esModule?e:{default:e}}function by(e,t,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(e):a?a.value:t.get(e)}function _y(e,t,n,a,i){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function wy(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Sy(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var a,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=t[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=t[Symbol.dispose],n&&(i=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");i&&(a=function(){try{i.call(this)}catch(r){return Promise.reject(r)}}),e.stack.push({value:t,dispose:a,async:n})}else n&&e.stack.push({async:!0});return t}var uS=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var a=new Error(n);return a.name="SuppressedError",a.error=e,a.suppressed=t,a};function xy(e){function t(r){e.error=e.hasError?new uS(r,e.error,"An error was suppressed during disposal."):r,e.hasError=!0}var n,a=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&a===1)return a=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var r=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(r).then(i,function(s){return t(s),i()})}else a|=1}catch(s){t(s)}if(a===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function Ey(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,i,r,s){return a?t?".jsx":".js":i&&(!r||!s)?n:i+r+"."+s.toLowerCase()+"js"}):e}const cS={__extends:ey,__assign:gl,__rest:Ni,__decorate:ty,__param:ny,__esDecorate:ay,__runInitializers:iy,__propKey:ry,__setFunctionName:sy,__metadata:ly,__awaiter:U,__generator:oy,__createBinding:Hl,__exportStar:uy,__values:yl,__read:dd,__spread:cy,__spreadArrays:dy,__spreadArray:hy,__await:vi,__asyncGenerator:fy,__asyncDelegator:my,__asyncValues:gy,__makeTemplateObject:yy,__importStar:py,__importDefault:vy,__classPrivateFieldGet:by,__classPrivateFieldSet:_y,__classPrivateFieldIn:wy,__addDisposableResource:Sy,__disposeResources:xy,__rewriteRelativeImportExtension:Ey},dS=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Sy,get __assign(){return gl},__asyncDelegator:my,__asyncGenerator:fy,__asyncValues:gy,__await:vi,__awaiter:U,__classPrivateFieldGet:by,__classPrivateFieldIn:wy,__classPrivateFieldSet:_y,__createBinding:Hl,__decorate:ty,__disposeResources:xy,__esDecorate:ay,__exportStar:uy,__extends:ey,__generator:oy,__importDefault:vy,__importStar:py,__makeTemplateObject:yy,__metadata:ly,__param:ny,__propKey:ry,__read:dd,__rest:Ni,__rewriteRelativeImportExtension:Ey,__runInitializers:iy,__setFunctionName:sy,__spread:cy,__spreadArray:hy,__spreadArrays:dy,__values:yl,default:cS},Symbol.toStringTag,{value:"Module"})),hS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class hd extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class fS extends hd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class of extends hd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class uf extends hd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ku;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ku||(Ku={}));class mS{constructor(t,{headers:n={},customFetch:a,region:i=Ku.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=hS(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return U(this,arguments,void 0,function*(n,a={}){var i;let r,s;try{const{headers:l,method:o,body:u,signal:c,timeout:d}=a;let h={},{region:f}=a;f||(f=this.region);const v=new URL(`${this.url}/${n}`);f&&f!=="any"&&(h["x-region"]=f,v.searchParams.set("forceFunctionRegion",f));let _;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",_=u):typeof u=="string"?(h["Content-Type"]="text/plain",_=u):typeof FormData<"u"&&u instanceof FormData?_=u:(h["Content-Type"]="application/json",_=JSON.stringify(u)):_=u;let b=c;d&&(s=new AbortController,r=setTimeout(()=>s.abort(),d),c?(b=s.signal,c.addEventListener("abort",()=>s.abort())):b=s.signal);const p=yield this.fetch(v.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:_,signal:b}).catch(T=>{throw new fS(T)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new of(p);if(!p.ok)throw new uf(p);let y=((i=p.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield p.json():y==="application/octet-stream"||y==="application/pdf"?w=yield p.blob():y==="text/event-stream"?w=p:y==="multipart/form-data"?w=yield p.formData():w=yield p.text(),{data:w,error:null,response:p}}catch(l){return{data:null,error:l,response:l instanceof uf||l instanceof of?l.context:void 0}}finally{r&&clearTimeout(r)}})}}var Xe={};const Ci=Lp(dS);var hs={},fs={},ms={},gs={},ys={},ps={},cf;function Ty(){if(cf)return ps;cf=1,Object.defineProperty(ps,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ps.default=e,ps}var df;function Ay(){if(df)return ys;df=1,Object.defineProperty(ys,"__esModule",{value:!0});const t=Ci.__importDefault(Ty());class n{constructor(i){var r,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(r=i.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,r){return this.headers=new Headers(this.headers),this.headers.set(i,r),this}then(i,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let l=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var u,c,d,h;let f=null,v=null,_=null,b=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const T=await o.text();T===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?v=T:v=JSON.parse(T))}const y=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),w=(d=o.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");y&&w&&w.length>1&&(_=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(f={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,_=null,b=406,p="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const y=await o.text();try{f=JSON.parse(y),Array.isArray(f)&&o.status===404&&(v=[],f=null,b=200,p="OK")}catch{o.status===404&&y===""?(b=204,p="No Content"):f={message:y}}if(f&&this.isMaybeSingle&&(!((h=f==null?void 0:f.details)===null||h===void 0)&&h.includes("0 rows"))&&(f=null,b=200,p="OK"),f&&this.shouldThrowOnError)throw new t.default(f)}return{error:f,data:v,count:_,status:b,statusText:p}});return this.shouldThrowOnError||(l=l.catch(o=>{var u,c,d,h,f,v;let _="";const b=o==null?void 0:o.cause;if(b){const p=(u=b==null?void 0:b.message)!==null&&u!==void 0?u:"",m=(c=b==null?void 0:b.code)!==null&&c!==void 0?c:"";_=`${(d=o==null?void 0:o.name)!==null&&d!==void 0?d:"FetchError"}: ${o==null?void 0:o.message}`,_+=`

Caused by: ${(h=b==null?void 0:b.name)!==null&&h!==void 0?h:"Error"}: ${p}`,m&&(_+=` (${m})`),b!=null&&b.stack&&(_+=`
${b.stack}`)}else _=(f=o==null?void 0:o.stack)!==null&&f!==void 0?f:"";return{error:{message:`${(v=o==null?void 0:o.name)!==null&&v!==void 0?v:"FetchError"}: ${o==null?void 0:o.message}`,details:_,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(i,r)}returns(){return this}overrideTypes(){return this}}return ys.default=n,ys}var hf;function Oy(){if(hf)return gs;hf=1,Object.defineProperty(gs,"__esModule",{value:!0});const t=Ci.__importDefault(Ay());class n extends t.default{select(i){let r=!1;const s=(i??"*").split("").map(l=>/\s/.test(l)&&!r?"":(l==='"'&&(r=!r),l)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:r=!0,nullsFirst:s,foreignTable:l,referencedTable:o=l}={}){const u=o?`${o}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${i}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:r,referencedTable:s=r}={}){const l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,r,{foreignTable:s,referencedTable:l=s}={}){const o=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${i}`),this.url.searchParams.set(u,`${r-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:r=!1,settings:s=!1,buffers:l=!1,wal:o=!1,format:u="text"}={}){var c;const d=[i?"analyze":null,r?"verbose":null,s?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return gs.default=n,gs}var ff;function fd(){if(ff)return ms;ff=1,Object.defineProperty(ms,"__esModule",{value:!0});const t=Ci.__importDefault(Oy()),n=new RegExp("[,()]");class a extends t.default{eq(r,s){return this.url.searchParams.append(r,`eq.${s}`),this}neq(r,s){return this.url.searchParams.append(r,`neq.${s}`),this}gt(r,s){return this.url.searchParams.append(r,`gt.${s}`),this}gte(r,s){return this.url.searchParams.append(r,`gte.${s}`),this}lt(r,s){return this.url.searchParams.append(r,`lt.${s}`),this}lte(r,s){return this.url.searchParams.append(r,`lte.${s}`),this}like(r,s){return this.url.searchParams.append(r,`like.${s}`),this}likeAllOf(r,s){return this.url.searchParams.append(r,`like(all).{${s.join(",")}}`),this}likeAnyOf(r,s){return this.url.searchParams.append(r,`like(any).{${s.join(",")}}`),this}ilike(r,s){return this.url.searchParams.append(r,`ilike.${s}`),this}ilikeAllOf(r,s){return this.url.searchParams.append(r,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(r,s){return this.url.searchParams.append(r,`ilike(any).{${s.join(",")}}`),this}is(r,s){return this.url.searchParams.append(r,`is.${s}`),this}in(r,s){const l=Array.from(new Set(s)).map(o=>typeof o=="string"&&n.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(r,`in.(${l})`),this}contains(r,s){return typeof s=="string"?this.url.searchParams.append(r,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(r,`cs.{${s.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(s)}`),this}containedBy(r,s){return typeof s=="string"?this.url.searchParams.append(r,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(r,`cd.{${s.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(s)}`),this}rangeGt(r,s){return this.url.searchParams.append(r,`sr.${s}`),this}rangeGte(r,s){return this.url.searchParams.append(r,`nxl.${s}`),this}rangeLt(r,s){return this.url.searchParams.append(r,`sl.${s}`),this}rangeLte(r,s){return this.url.searchParams.append(r,`nxr.${s}`),this}rangeAdjacent(r,s){return this.url.searchParams.append(r,`adj.${s}`),this}overlaps(r,s){return typeof s=="string"?this.url.searchParams.append(r,`ov.${s}`):this.url.searchParams.append(r,`ov.{${s.join(",")}}`),this}textSearch(r,s,{config:l,type:o}={}){let u="";o==="plain"?u="pl":o==="phrase"?u="ph":o==="websearch"&&(u="w");const c=l===void 0?"":`(${l})`;return this.url.searchParams.append(r,`${u}fts${c}.${s}`),this}match(r){return Object.entries(r).forEach(([s,l])=>{this.url.searchParams.append(s,`eq.${l}`)}),this}not(r,s,l){return this.url.searchParams.append(r,`not.${s}.${l}`),this}or(r,{foreignTable:s,referencedTable:l=s}={}){const o=l?`${l}.or`:"or";return this.url.searchParams.append(o,`(${r})`),this}filter(r,s,l){return this.url.searchParams.append(r,`${s}.${l}`),this}}return ms.default=a,ms}var mf;function jy(){if(mf)return fs;mf=1,Object.defineProperty(fs,"__esModule",{value:!0});const t=Ci.__importDefault(fd());class n{constructor(i,{headers:r={},schema:s,fetch:l}){this.url=i,this.headers=new Headers(r),this.schema=s,this.fetch=l}select(i,r){const{head:s=!1,count:l}=r??{},o=s?"HEAD":"GET";let u=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",c),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:r,defaultToNull:s=!0}={}){var l;const o="POST";if(r&&this.headers.append("Prefer",`count=${r}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:r,ignoreDuplicates:s=!1,count:l,defaultToNull:o=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),l&&this.headers.append("Prefer",`count=${l}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:r}={}){var s;const l="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var r;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}}return fs.default=n,fs}var gf;function gS(){if(gf)return hs;gf=1,Object.defineProperty(hs,"__esModule",{value:!0});const e=Ci,t=e.__importDefault(jy()),n=e.__importDefault(fd());class a{constructor(r,{headers:s={},schema:l,fetch:o}={}){this.url=r,this.headers=new Headers(s),this.schemaName=l,this.fetch=o}from(r){const s=new URL(`${this.url}/${r}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new a(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,s={},{head:l=!1,get:o=!1,count:u}={}){var c;let d;const h=new URL(`${this.url}/rpc/${r}`);let f;l||o?(d=l?"HEAD":"GET",Object.entries(s).filter(([_,b])=>b!==void 0).map(([_,b])=>[_,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([_,b])=>{h.searchParams.append(_,b)})):(d="POST",f=s);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new n.default({method:d,url:h,headers:v,schema:this.schemaName,body:f,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return hs.default=a,hs}Object.defineProperty(Xe,"__esModule",{value:!0});var ky=Xe.PostgrestError=$y=Xe.PostgrestBuilder=By=Xe.PostgrestTransformBuilder=Dy=Xe.PostgrestFilterBuilder=Uy=Xe.PostgrestQueryBuilder=Ny=Xe.PostgrestClient=void 0;const Ui=Ci,Ry=Ui.__importDefault(gS());var Ny=Xe.PostgrestClient=Ry.default;const Cy=Ui.__importDefault(jy());var Uy=Xe.PostgrestQueryBuilder=Cy.default;const zy=Ui.__importDefault(fd());var Dy=Xe.PostgrestFilterBuilder=zy.default;const My=Ui.__importDefault(Oy());var By=Xe.PostgrestTransformBuilder=My.default;const Ly=Ui.__importDefault(Ay());var $y=Xe.PostgrestBuilder=Ly.default;const qy=Ui.__importDefault(Ty());ky=Xe.PostgrestError=qy.default;var Hy=Xe.default={PostgrestClient:Ry.default,PostgrestQueryBuilder:Cy.default,PostgrestFilterBuilder:zy.default,PostgrestTransformBuilder:My.default,PostgrestBuilder:Ly.default,PostgrestError:qy.default};const yS=Mp({__proto__:null,get PostgrestBuilder(){return $y},get PostgrestClient(){return Ny},get PostgrestError(){return ky},get PostgrestFilterBuilder(){return Dy},get PostgrestQueryBuilder(){return Uy},get PostgrestTransformBuilder(){return By},default:Hy},[Xe]),{PostgrestClient:pS,PostgrestQueryBuilder:BE,PostgrestFilterBuilder:LE,PostgrestTransformBuilder:$E,PostgrestBuilder:qE,PostgrestError:HE}=Hy||yS;class vS{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const bS="2.83.0",_S=`realtime-js/${bS}`,Gy="1.0.0",wS="2.0.0",yf=Gy,Yu=1e4,SS=1e3,xS=100;var ra;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ra||(ra={}));var Ue;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ue||(Ue={}));var bt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(bt||(bt={}));var Qu;(function(e){e.websocket="websocket"})(Qu||(Qu={}));var sa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(sa||(sa={}));class ES{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,n){if(this._isArrayBuffer(t.payload))return n(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(a))}_binaryEncodePush(t){var n,a;const{event:i,topic:r,payload:s}=t,l=(n=t.ref)!==null&&n!==void 0?n:"",o=(a=t.join_ref)!==null&&a!==void 0?a:"",u=this.META_LENGTH+o.length+l.length+r.length+i.length,c=new ArrayBuffer(this.HEADER_LENGTH+u);let d=new DataView(c),h=0;d.setUint8(h++,this.KINDS.push),d.setUint8(h++,o.length),d.setUint8(h++,l.length),d.setUint8(h++,r.length),d.setUint8(h++,i.length),Array.from(o,v=>d.setUint8(h++,v.charCodeAt(0))),Array.from(l,v=>d.setUint8(h++,v.charCodeAt(0))),Array.from(r,v=>d.setUint8(h++,v.charCodeAt(0))),Array.from(i,v=>d.setUint8(h++,v.charCodeAt(0)));var f=new Uint8Array(c.byteLength+s.byteLength);return f.set(new Uint8Array(c),0),f.set(new Uint8Array(s),c.byteLength),f.buffer}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,a,i,r;const s=t.topic,l=(n=t.ref)!==null&&n!==void 0?n:"",o=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,c=(r=(i=t.payload)===null||i===void 0?void 0:i.payload)!==null&&r!==void 0?r:new ArrayBuffer(0),d=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+l.length+s.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let f=new DataView(h),v=0;f.setUint8(v++,this.KINDS.userBroadcastPush),f.setUint8(v++,o.length),f.setUint8(v++,l.length),f.setUint8(v++,s.length),f.setUint8(v++,u.length),f.setUint8(v++,this.BINARY_ENCODING),Array.from(o,b=>f.setUint8(v++,b.charCodeAt(0))),Array.from(l,b=>f.setUint8(v++,b.charCodeAt(0))),Array.from(s,b=>f.setUint8(v++,b.charCodeAt(0))),Array.from(u,b=>f.setUint8(v++,b.charCodeAt(0)));var _=new Uint8Array(h.byteLength+c.byteLength);return _.set(new Uint8Array(h),0),_.set(new Uint8Array(c),h.byteLength),_.buffer}_encodeJsonUserBroadcastPush(t){var n,a,i,r;const s=t.topic,l=(n=t.ref)!==null&&n!==void 0?n:"",o=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,c=(r=(i=t.payload)===null||i===void 0?void 0:i.payload)!==null&&r!==void 0?r:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer,f=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+l.length+s.length+u.length,v=new ArrayBuffer(this.HEADER_LENGTH+f);let _=new DataView(v),b=0;_.setUint8(b++,this.KINDS.userBroadcastPush),_.setUint8(b++,o.length),_.setUint8(b++,l.length),_.setUint8(b++,s.length),_.setUint8(b++,u.length),_.setUint8(b++,this.JSON_ENCODING),Array.from(o,m=>_.setUint8(b++,m.charCodeAt(0))),Array.from(l,m=>_.setUint8(b++,m.charCodeAt(0))),Array.from(s,m=>_.setUint8(b++,m.charCodeAt(0))),Array.from(u,m=>_.setUint8(b++,m.charCodeAt(0)));var p=new Uint8Array(v.byteLength+h.byteLength);return p.set(new Uint8Array(v),0),p.set(new Uint8Array(h),v.byteLength),p.buffer}decode(t,n){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return n(a)}if(typeof t=="string"){const a=JSON.parse(t),[i,r,s,l,o]=a;return n({join_ref:i,ref:r,topic:s,event:l,payload:o})}return n({})}_binaryDecode(t){const n=new DataView(t),a=n.getUint8(0),i=new TextDecoder;switch(a){case this.KINDS.push:return this._decodePush(t,n,i);case this.KINDS.reply:return this._decodeReply(t,n,i);case this.KINDS.broadcast:return this._decodeBroadcast(t,n,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodePush(t,n,a){const i=n.getUint8(1),r=n.getUint8(2),s=n.getUint8(3);let l=this.HEADER_LENGTH+this.META_LENGTH-1;const o=a.decode(t.slice(l,l+i));l=l+i;const u=a.decode(t.slice(l,l+r));l=l+r;const c=a.decode(t.slice(l,l+s));l=l+s;const d=JSON.parse(a.decode(t.slice(l,t.byteLength)));return{join_ref:o,ref:null,topic:u,event:c,payload:d}}_decodeReply(t,n,a){const i=n.getUint8(1),r=n.getUint8(2),s=n.getUint8(3),l=n.getUint8(4);let o=this.HEADER_LENGTH+this.META_LENGTH;const u=a.decode(t.slice(o,o+i));o=o+i;const c=a.decode(t.slice(o,o+r));o=o+r;const d=a.decode(t.slice(o,o+s));o=o+s;const h=a.decode(t.slice(o,o+l));o=o+l;const f=JSON.parse(a.decode(t.slice(o,t.byteLength))),v={status:h,response:f};return{join_ref:u,ref:c,topic:d,event:bt.reply,payload:v}}_decodeBroadcast(t,n,a){const i=n.getUint8(1),r=n.getUint8(2);let s=this.HEADER_LENGTH+2;const l=a.decode(t.slice(s,s+i));s=s+i;const o=a.decode(t.slice(s,s+r));s=s+r;const u=JSON.parse(a.decode(t.slice(s,t.byteLength)));return{join_ref:null,ref:null,topic:l,event:o,payload:u}}_decodeUserBroadcast(t,n,a){const i=n.getUint8(1),r=n.getUint8(2),s=n.getUint8(3),l=n.getUint8(4);let o=this.HEADER_LENGTH+4;const u=a.decode(t.slice(o,o+i));o=o+i;const c=a.decode(t.slice(o,o+r));o=o+r;const d=a.decode(t.slice(o,o+s));o=o+s;const h=t.slice(o,t.byteLength),f=l===this.JSON_ENCODING?JSON.parse(a.decode(h)):h,v={type:this.BROADCAST,event:c,payload:f};return s>0&&(v.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:v}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class Vy{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var se;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(se||(se={}));const pf=(e,t,n={})=>{var a;const i=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((r,s)=>(r[s]=TS(s,e,t,i),r),{}):{}},TS=(e,t,n,a)=>{const i=t.find(l=>l.name===e),r=i==null?void 0:i.type,s=n[e];return r&&!a.includes(r)?Ky(r,s):Ju(s)},Ky=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return kS(t,n)}switch(e){case se.bool:return AS(t);case se.float4:case se.float8:case se.int2:case se.int4:case se.int8:case se.numeric:case se.oid:return OS(t);case se.json:case se.jsonb:return jS(t);case se.timestamp:return RS(t);case se.abstime:case se.date:case se.daterange:case se.int4range:case se.int8range:case se.money:case se.reltime:case se.text:case se.time:case se.timestamptz:case se.timetz:case se.tsrange:case se.tstzrange:return Ju(t);default:return Ju(t)}},Ju=e=>e,AS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},OS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},jS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},kS=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let r;const s=e.slice(1,n);try{r=JSON.parse("["+s+"]")}catch{r=s?s.split(","):[]}return r.map(l=>Ky(t,l))}return e},RS=e=>typeof e=="string"?e.replace(" ","T"):e,Yy=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Uo{constructor(t,n,a={},i=Yu){this.channel=t,this.event=n,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var vf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(vf||(vf={}));class fr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:r,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fr.syncState(this.state,i,r,s),this.pendingDiffs.forEach(o=>{this.state=fr.syncDiff(this.state,o,r,s)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},i=>{const{onJoin:r,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=fr.syncDiff(this.state,i,r,s),l())}),this.onJoin((i,r,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:r,newPresences:s})}),this.onLeave((i,r,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:r,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,i){const r=this.cloneDeep(t),s=this.transformState(n),l={},o={};return this.map(r,(u,c)=>{s[u]||(o[u]=c)}),this.map(s,(u,c)=>{const d=r[u];if(d){const h=c.map(b=>b.presence_ref),f=d.map(b=>b.presence_ref),v=c.filter(b=>f.indexOf(b.presence_ref)<0),_=d.filter(b=>h.indexOf(b.presence_ref)<0);v.length>0&&(l[u]=v),_.length>0&&(o[u]=_)}else l[u]=c}),this.syncDiff(r,{joins:l,leaves:o},a,i)}static syncDiff(t,n,a,i){const{joins:r,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(r,(l,o)=>{var u;const c=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(o),c.length>0){const d=t[l].map(f=>f.presence_ref),h=c.filter(f=>d.indexOf(f.presence_ref)<0);t[l].unshift(...h)}a(l,c,o)}),this.map(s,(l,o)=>{let u=t[l];if(!u)return;const c=o.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[l]=u,i(l,u,o),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const i=t[a];return"metas"in i?n[a]=i.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):n[a]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(bf||(bf={}));var mr;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(mr||(mr={}));var Ft;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ft||(Ft={}));class md{constructor(t,n={config:{}},a){var i,r;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Uo(this,bt.join,this.params,this.timeout),this.rejoinTimer=new Vy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bt.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new fr(this),this.broadcastEndpointURL=Yy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((r=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||r===void 0)&&r.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,i,r;if(this.socket.isConnected()||this.socket.connect(),this.state==Ue.closed){const{config:{broadcast:s,presence:l,private:o}}=this.params,u=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(f=>f.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[mr.PRESENCE]&&this.bindings[mr.PRESENCE].length>0||((r=this.params.config.presence)===null||r===void 0?void 0:r.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:c}),postgres_changes:u,private:o};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(Ft.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Ft.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var v;if(this.socket.setAuth(),f===void 0){t==null||t(Ft.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,b=(v=_==null?void 0:_.length)!==null&&v!==void 0?v:0,p=[];for(let m=0;m<b;m++){const y=_[m],{filter:{event:w,schema:T,table:A,filter:E}}=y,j=f&&f[m];if(j&&j.event===w&&j.schema===T&&j.table===A&&j.filter===E)p.push(Object.assign(Object.assign({},y),{id:j.id}));else{this.unsubscribe(),this.state=Ue.errored,t==null||t(Ft.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(Ft.SUBSCRIBED);return}}).receive("error",f=>{this.state=Ue.errored,t==null||t(Ft.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ft.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===Ue.joined&&t===mr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var i;const r=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:r,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let o=l.statusText;try{const u=await l.json();o=u.error||u.message||o}catch{}return Promise.reject(new Error(o))}async send(t,n={}){var a,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:r,payload:s}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var s,l,o;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&r("ok"),u.receive("ok",()=>r("ok")),u.receive("error",()=>r("error")),u.receive("timeout",()=>r("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ue.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bt.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new Uo(this,bt.leave,{},t),a.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ue.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const i=new AbortController,r=setTimeout(()=>i.abort(),a),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(r),s}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Uo(this,t,n,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>xS){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var i,r;const s=t.toLocaleLowerCase(),{close:l,error:o,leave:u,join:c}=bt;if(a&&[l,o,u,c].indexOf(s)>=0&&a!==this._joinRef())return;let h=this._onMessage(s,n,a);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var v,_,b;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(_=f.filter)===null||_===void 0?void 0:_.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===s}).map(f=>f.callback(h,a)):(r=this.bindings[s])===null||r===void 0||r.filter(f=>{var v,_,b,p,m,y;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){const w=f.id,T=(v=f.filter)===null||v===void 0?void 0:v.event;return w&&((_=n.ids)===null||_===void 0?void 0:_.includes(w))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const w=(m=(p=f==null?void 0:f.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return w==="*"||w===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:_,table:b,commit_timestamp:p,type:m,errors:y}=v;h=Object.assign(Object.assign({},{schema:_,table:b,commit_timestamp:p,eventType:m,new:{},old:{},errors:y}),this._getPayloadRecords(v))}f.callback(h,a)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const i=t.toLocaleLowerCase(),r={type:i,filter:n,callback:a};return this.bindings[i]?this.bindings[i].push(r):this.bindings[i]=[r],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var r;return!(((r=i.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===a&&md.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(bt.close,{},t)}_onError(t){this._on(bt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=pf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=pf(t.columns,t.old_record)),n}}const zo=()=>{},vs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},NS=[1e3,2e3,5e3,1e4],CS=1e4,US=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zS{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yu,this.transport=null,this.heartbeatIntervalMs=vs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zo,this.ref=0,this.reconnectTimer=null,this.vsn=yf,this.logger=zo,this.conn=null,this.sendBuffer=[],this.serializer=new ES,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Qu.websocket}`,this.httpEndpoint=Yy(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case ra.connecting:return sa.Connecting;case ra.open:return sa.Open;case ra.closing:return sa.Closing;default:return sa.Closed}}isConnected(){return this.connectionState()===sa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,i=this.getChannels().find(r=>r.topic===a);if(i)return i;{const r=new md(`realtime:${t}`,n,this);return this.channels.push(r),r}}push(t){const{topic:n,event:a,payload:i,ref:r}=t,s=()=>{this.encode(t,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};this.log("push",`${n} ${a} (${r})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(SS,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},vs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:i,payload:r,ref:s}=n,l=s?`(${s})`:"",o=r.status||"";this.log("receive",`${o} ${a} ${i} ${l}`.trim(),r),this.channels.filter(u=>u._isMember(a)).forEach(u=>u._trigger(i,r,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ra.open||this.conn.readyState===ra.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(bt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${a}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([US],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const i={access_token:n,version:_S};n&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(bt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Vy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,i,r,s,l,o,u,c,d,h,f;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:Yu,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:vs.HEARTBEAT_INTERVAL,this.worker=(r=t==null?void 0:t.worker)!==null&&r!==void 0?r:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:zo,this.vsn=(o=t==null?void 0:t.vsn)!==null&&o!==void 0?o:yf,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>NS[v-1]||CS,this.vsn){case Gy:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(v,_)=>_(JSON.stringify(v)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(v,_)=>_(JSON.parse(v));break;case wS:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class gd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ye(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class DS extends gd{constructor(t,n,a){super(t),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Pu extends gd{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const yd=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),MS=()=>Response,Xu=e=>{if(Array.isArray(e))return e.map(n=>Xu(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,a])=>{const i=n.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));t[i]=Xu(a)}),t},BS=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Do=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},LS=(e,t,n)=>U(void 0,void 0,void 0,function*(){const a=yield MS();e instanceof a&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const r=e.status||500,s=(i==null?void 0:i.statusCode)||r+"";t(new DS(Do(i),r,s))}).catch(i=>{t(new Pu(Do(i),i))}):t(new Pu(Do(e),e))}),$S=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!a?i:(BS(a)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(a)):i.body=a,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Jr(e,t,n,a,i,r){return U(this,void 0,void 0,function*(){return new Promise((s,l)=>{e(n,$S(t,a,i,r)).then(o=>{if(!o.ok)throw o;return a!=null&&a.noResolveJson?o:o.json()}).then(o=>s(o)).catch(o=>LS(o,l,a))})})}function Rr(e,t,n,a){return U(this,void 0,void 0,function*(){return Jr(e,"GET",t,n,a)})}function Ut(e,t,n,a,i){return U(this,void 0,void 0,function*(){return Jr(e,"POST",t,a,i,n)})}function Iu(e,t,n,a,i){return U(this,void 0,void 0,function*(){return Jr(e,"PUT",t,a,i,n)})}function qS(e,t,n,a){return U(this,void 0,void 0,function*(){return Jr(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function pd(e,t,n,a,i){return U(this,void 0,void 0,function*(){return Jr(e,"DELETE",t,a,i,n)})}class HS{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return U(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ye(t))return{data:null,error:t};throw t}})}}var Qy;class GS{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[Qy]="BlobDownloadBuilder",this.promise=null}asStream(){return new HS(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return U(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ye(t))return{data:null,error:t};throw t}})}}Qy=Symbol.toStringTag;const VS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_f={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class KS{constructor(t,n={},a,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=a,this.fetch=yd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,a,i){return U(this,void 0,void 0,function*(){try{let r;const s=Object.assign(Object.assign({},_f),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const o=s.metadata;typeof Blob<"u"&&a instanceof Blob?(r=new FormData,r.append("cacheControl",s.cacheControl),o&&r.append("metadata",this.encodeMetadata(o)),r.append("",a)):typeof FormData<"u"&&a instanceof FormData?(r=a,r.has("cacheControl")||r.append("cacheControl",s.cacheControl),o&&!r.has("metadata")&&r.append("metadata",this.encodeMetadata(o))):(r=a,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,o&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(o))),(typeof ReadableStream<"u"&&r instanceof ReadableStream||r&&typeof r=="object"&&"pipe"in r&&typeof r.pipe=="function")&&!s.duplex&&(s.duplex="half")),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield(t=="PUT"?Iu:Ut)(this.fetch,`${this.url}/object/${c}`,r,Object.assign({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}})}upload(t,n,a){return U(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,a)})}uploadToSignedUrl(t,n,a,i){return U(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(t),s=this._getFinalPath(r),l=new URL(this.url+`/object/upload/sign/${s}`);l.searchParams.set("token",n);try{let o;const u=Object.assign({upsert:_f.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&a instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",a)):typeof FormData<"u"&&a instanceof FormData?(o=a,o.append("cacheControl",u.cacheControl)):(o=a,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield Iu(this.fetch,l.toString(),o,{headers:c});return{data:{path:r,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ye(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,n){return U(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const r=yield Ut(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:i}),s=new URL(this.url+r.url),l=s.searchParams.get("token");if(!l)throw new gd("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:l},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ye(a))return{data:null,error:a};throw a}})}update(t,n,a){return U(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,a)})}move(t,n,a){return U(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ye(i))return{data:null,error:i};throw i}})}copy(t,n,a){return U(this,void 0,void 0,function*(){try{return{data:{path:(yield Ut(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ye(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,a){return U(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),r=yield Ut(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const s=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${s}`)},{data:r,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ye(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,a){return U(this,void 0,void 0,function*(){try{const i=yield Ut(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),r=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${r}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ye(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=r?`?${r}`:"",l=this._getFinalPath(t),o=()=>Rr(this.fetch,`${this.url}/${i}/${l}${s}`,{headers:this.headers,noResolveJson:!0});return new GS(o,this.shouldThrowOnError)}info(t){return U(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const a=yield Rr(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Xu(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ye(a))return{data:null,error:a};throw a}})}exists(t){return U(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield qS(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ye(a)&&a instanceof Pu){const i=a.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,n){const a=this._getFinalPath(t),i=[],r=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";r!==""&&i.push(r);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});o!==""&&i.push(o);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${u}`)}}}remove(t){return U(this,void 0,void 0,function*(){try{return{data:yield pd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}})}list(t,n,a){return U(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},VS),n),{prefix:t||""});return{data:yield Ut(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ye(i))return{data:null,error:i};throw i}})}listV2(t,n){return U(this,void 0,void 0,function*(){try{const a=Object.assign({},t);return{data:yield Ut(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ye(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Jy="2.83.0",Py={"X-Client-Info":`storage-js/${Jy}`};class YS{constructor(t,n={},a,i){this.shouldThrowOnError=!1;const r=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Py),n),this.fetch=yd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return U(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield Rr(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}})}getBucket(t){return U(this,void 0,void 0,function*(){try{return{data:yield Rr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}})}createBucket(t){return U(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield Ut(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ye(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return U(this,void 0,void 0,function*(){try{return{data:yield Iu(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ye(a))return{data:null,error:a};throw a}})}emptyBucket(t){return U(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}})}deleteBucket(t){return U(this,void 0,void 0,function*(){try{return{data:yield pd(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class QS{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Py),n),this.fetch=yd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return U(this,void 0,void 0,function*(){try{return{data:yield Ut(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}})}listBuckets(t){return U(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const a=n.toString(),i=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield Rr(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}})}deleteBucket(t){return U(this,void 0,void 0,function*(){try{return{data:yield pd(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}})}}const vd={"X-Client-Info":`storage-js/${Jy}`,"Content-Type":"application/json"};class Xy extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ut(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Mo extends Xy{constructor(t,n,a){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class JS extends Xy{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var wf;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(wf||(wf={}));const bd=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),PS=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Sf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),XS=(e,t,n)=>U(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e.status||500,r=e;if(typeof r.json=="function")r.json().then(s=>{const l=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";t(new Mo(Sf(s),i,l))}).catch(()=>{const s=i+"",l=r.statusText||`HTTP ${i} error`;t(new Mo(l,i,s))});else{const s=i+"",l=r.statusText||`HTTP ${i} error`;t(new Mo(l,i,s))}}else t(new JS(Sf(e),e))}),IS=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return a?(PS(a)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(a)):i.body=a,Object.assign(Object.assign({},i),n)):i};function ZS(e,t,n,a,i,r){return U(this,void 0,void 0,function*(){return new Promise((s,l)=>{e(n,IS(t,a,i,r)).then(o=>{if(!o.ok)throw o;if(a!=null&&a.noResolveJson)return o;const u=o.headers.get("content-type");return!u||!u.includes("application/json")?{}:o.json()}).then(o=>s(o)).catch(o=>XS(o,l,a))})})}function ct(e,t,n,a,i){return U(this,void 0,void 0,function*(){return ZS(e,"POST",t,a,i,n)})}class WS{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vd),n),this.fetch=bd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return U(this,void 0,void 0,function*(){try{return{data:(yield ct(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}getIndex(t,n){return U(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ut(a))return{data:null,error:a};throw a}})}listIndexes(t){return U(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return U(this,void 0,void 0,function*(){try{return{data:(yield ct(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ut(a))return{data:null,error:a};throw a}})}}class FS{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vd),n),this.fetch=bd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return U(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ct(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}getVectors(t){return U(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}listVectors(t){return U(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ct(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}queryVectors(t){return U(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}deleteVectors(t){return U(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ct(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}}class ex{constructor(t,n={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vd),n),this.fetch=bd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return U(this,void 0,void 0,function*(){try{return{data:(yield ct(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}getBucket(t){return U(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}listBuckets(){return U(this,arguments,void 0,function*(t={}){try{return{data:yield ct(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}deleteBucket(t){return U(this,void 0,void 0,function*(){try{return{data:(yield ct(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}})}}class tx extends ex{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new nx(this.url,this.headers,t,this.fetch)}}class nx extends WS{constructor(t,n,a,i){super(t,n,i),this.vectorBucketName=a}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return U(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return U(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return U(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return U(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new ax(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class ax extends FS{constructor(t,n,a,i,r){super(t,n,r),this.vectorBucketName=a,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return U(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return U(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return U(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return U(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return U(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class ix extends YS{constructor(t,n={},a,i){super(t,n,a,i)}from(t){return new KS(this.url,this.headers,t,this.fetch)}get vectors(){return new tx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new QS(this.url+"/iceberg",this.headers,this.fetch)}}const rx="2.83.0";let Wi="";typeof Deno<"u"?Wi="deno":typeof document<"u"?Wi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wi="react-native":Wi="node";const sx={"X-Client-Info":`supabase-js-${Wi}/${rx}`},lx={headers:sx},ox={schema:"public"},ux={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cx={},dx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),hx=()=>Headers,fx=(e,t,n)=>{const a=dx(n),i=hx();return async(r,s)=>{var l;const o=(l=await t())!==null&&l!==void 0?l:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),a(r,Object.assign(Object.assign({},s),{headers:u}))}};function mx(e){return e.endsWith("/")?e:e+"/"}function gx(e,t){var n,a;const{db:i,auth:r,realtime:s,global:l}=e,{db:o,auth:u,realtime:c,global:d}=t,h={db:Object.assign(Object.assign({},o),i),auth:Object.assign(Object.assign({},u),r),realtime:Object.assign(Object.assign({},c),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function yx(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(mx(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Iy="2.83.0",$a=30*1e3,Zu=3,Bo=Zu*$a,px="http://localhost:9999",vx="supabase.auth.token",bx={"X-Client-Info":`gotrue-js/${Iy}`},Wu="X-Supabase-Api-Version",Zy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_x=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wx=10*60*1e3;class Nr extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Sx extends Nr{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function xx(e){return z(e)&&e.name==="AuthApiError"}class la extends Nr{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Pn extends Nr{constructor(t,n,a,i){super(t,a,i),this.name=n,this.status=a}}class rt extends Pn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ex(e){return z(e)&&e.name==="AuthSessionMissingError"}class Ra extends Pn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bs extends Pn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class _s extends Pn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Tx(e){return z(e)&&e.name==="AuthImplicitGrantRedirectError"}class xf extends Pn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fu extends Pn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Lo(e){return z(e)&&e.name==="AuthRetryableFetchError"}class Ef extends Pn{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class ec extends Pn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const pl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tf=` 	
\r=`.split(""),Ax=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Tf.length;t+=1)e[Tf[t].charCodeAt(0)]=-2;for(let t=0;t<pl.length;t+=1)e[pl[t].charCodeAt(0)]=t;return e})();function Af(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(pl[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(pl[a]),t.queuedBits-=6}}function Wy(e,t,n){const a=Ax[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Of(e){const t=[],n=s=>{t.push(String.fromCodePoint(s))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},r=s=>{kx(s,a,n)};for(let s=0;s<e.length;s+=1)Wy(e.charCodeAt(s),i,r);return t.join("")}function Ox(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function jx(e,t){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Ox(a,t)}}function kx(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function si(e){const t=[],n={queue:0,queuedBits:0},a=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Wy(e.charCodeAt(i),n,a);return new Uint8Array(t)}function Rx(e){const t=[];return jx(e,n=>t.push(n)),new Uint8Array(t)}function oa(e){const t=[],n={queue:0,queuedBits:0},a=i=>{t.push(i)};return e.forEach(i=>Af(i,n,a)),Af(null,n,a),t.join("")}function Nx(e){return Math.round(Date.now()/1e3)+e}function Cx(){return Symbol("auth-callback")}const He=()=>typeof window<"u"&&typeof document<"u",Wn={tested:!1,writable:!1},Fy=()=>{if(!He())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wn.tested)return Wn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Wn.tested=!0,Wn.writable=!0}catch{Wn.tested=!0,Wn.writable=!1}return Wn.writable};function Ux(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,r)=>{t[r]=i})}catch{}return n.searchParams.forEach((a,i)=>{t[i]=a}),t}const ep=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),zx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",qa=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Fn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},vn=async(e,t)=>{await e.removeItem(t)};class Gl{constructor(){this.promise=new Gl.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Gl.promiseConstructor=Promise;function $o(e){const t=e.split(".");if(t.length!==3)throw new ec("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!_x.test(t[a]))throw new ec("JWT not in base64url format");return{header:JSON.parse(Of(t[0])),payload:JSON.parse(Of(t[1])),signature:si(t[2]),raw:{header:t[0],payload:t[1]}}}async function Dx(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Mx(e,t){return new Promise((a,i)=>{(async()=>{for(let r=0;r<1/0;r++)try{const s=await e(r);if(!t(r,null,s)){a(s);return}}catch(s){if(!t(r,s)){i(s);return}}})()})}function Bx(e){return("0"+e.toString(16)).substr(-2)}function Lx(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let i="";for(let r=0;r<56;r++)i+=n.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(t),Array.from(t,Bx).join("")}async function $x(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(a);return Array.from(i).map(r=>String.fromCharCode(r)).join("")}async function qx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await $x(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Na(e,t,n=!1){const a=Lx();let i=a;n&&(i+="/PASSWORD_RECOVERY"),await qa(e,`${t}-code-verifier`,i);const r=await qx(a);return[r,a===r?"plain":"s256"]}const Hx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Gx(e){const t=e.headers.get(Wu);if(!t||!t.match(Hx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Vx(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Kx(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Yx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ca(e){if(!Yx.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qo(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Qx(e,t){return new Proxy(e,{get:(n,a,i)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const r=a.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)"||r==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,i)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,i)}})}function jf(e){return JSON.parse(JSON.stringify(e))}const ia=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Jx=[502,503,504];async function kf(e){var t;if(!zx(e))throw new Fu(ia(e),0);if(Jx.includes(e.status))throw new Fu(ia(e),e.status);let n;try{n=await e.json()}catch(r){throw new la(ia(r),r)}let a;const i=Gx(e);if(i&&i.getTime()>=Zy["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new Ef(ia(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new rt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0))throw new Ef(ia(n),e.status,n.weak_password.reasons);throw new Sx(ia(n),e.status||500,a)}const Px=(e,t,n,a)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),n))};async function B(e,t,n,a){var i;const r=Object.assign({},a==null?void 0:a.headers);r[Wu]||(r[Wu]=Zy["2024-01-01"].name),a!=null&&a.jwt&&(r.Authorization=`Bearer ${a.jwt}`);const s=(i=a==null?void 0:a.query)!==null&&i!==void 0?i:{};a!=null&&a.redirectTo&&(s.redirect_to=a.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",o=await Xx(e,t,n+l,{headers:r,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(o):{data:Object.assign({},o),error:null}}async function Xx(e,t,n,a,i,r){const s=Px(t,a,i,r);let l;try{l=await e(n,Object.assign({},s))}catch(o){throw console.error(o),new Fu(ia(o),0)}if(l.ok||await kf(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(o){await kf(o)}}function Ct(e){var t;let n=null;Wx(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Nx(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:a},error:null}}function Rf(e){const t=Ct(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function An(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ix(e){return{data:e,error:null}}function Zx(e){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:i,verification_type:r}=e,s=Ni(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:a,redirect_to:i,verification_type:r},o=Object.assign({},s);return{data:{properties:l,user:o},error:null}}function Nf(e){return e}function Wx(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ho=["global","local","others"];class Fx{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=ep(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Ho[0]){if(Ho.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ho.join(", ")}`);try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(z(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:An})}catch(a){if(z(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=Ni(t,["options"]),i=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(i.new_email=a==null?void 0:a.newEmail,delete i.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Zx,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(z(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:An})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,i,r,s,l,o;try{const u={nextPage:null,lastPage:0,total:0},c=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(r=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:Nf});if(c.error)throw c.error;const d=await c.json(),h=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(o=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return f.length>0&&(f.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=_}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(z(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ca(t);try{return await B(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:An})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ca(t);try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:An})}catch(a){if(z(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){Ca(t);try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:An})}catch(a){if(z(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){Ca(t.userId);try{const{data:n,error:a}=await B(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:a}}catch(n){if(z(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ca(t.userId),Ca(t.id);try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,i,r,s,l,o;try{const u={nextPage:null,lastPage:0,total:0},c=await B(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(r=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:Nf});if(c.error)throw c.error;const d=await c.json(),h=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(o=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return f.length>0&&(f.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=_}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(z(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await B(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await B(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await B(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(z(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await B(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await B(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(z(n))return{data:null,error:n};throw n}}}function Cf(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Ua={debug:!!(globalThis&&Fy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tp extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class e1 extends tp{}async function t1(e,t,n){Ua.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),Ua.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){Ua.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Ua.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ua.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new e1(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ua.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function n1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function np(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function a1(e){return parseInt(e,16)}function i1(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function r1(e){var t;const{chainId:n,domain:a,expirationTime:i,issuedAt:r=new Date,nonce:s,notBefore:l,requestId:o,resources:u,scheme:c,uri:d,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=np(e.address),v=c?`${c}://${a}`:a,_=e.statement?`${e.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${f}

${_}`;let p=`URI: ${d}
Version: ${h}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${r.toISOString()}`;if(i&&(p+=`
Expiration Time: ${i.toISOString()}`),l&&(p+=`
Not Before: ${l.toISOString()}`),o&&(p+=`
Request ID: ${o}`),u){let m=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);m+=`
- ${y}`}p+=m}return`${b}
${p}`}class Ae extends Error{constructor({message:t,code:n,cause:a,name:i}){var r;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(r=i??(a instanceof Error?a.name:void 0))!==null&&r!==void 0?r:"Unknown Error",this.code=n}}class vl extends Ae{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function s1({error:e,options:t}){var n,a,i;const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ae({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=r.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ae({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=r.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ae({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=r.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ae({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ae({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ae({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return r.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ae({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ae({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(ap(s)){if(r.rp.id!==s)return new Ae({message:`The RP ID "${r.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(r.user.id.byteLength<1||r.user.id.byteLength>64)return new Ae({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ae({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function l1({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ae({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ae({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(ap(a)){if(n.rpId!==a)return new Ae({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ae({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class o1{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const u1=new o1;function c1(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:a}=e,i=Ni(e,["challenge","user","excludeCredentials"]),r=si(t).buffer,s=Object.assign(Object.assign({},n),{id:si(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:r,user:s});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let o=0;o<a.length;o++){const u=a[o];l.excludeCredentials[o]=Object.assign(Object.assign({},u),{id:si(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function d1(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,a=Ni(e,["challenge","allowCredentials"]),i=si(t).buffer,r=Object.assign(Object.assign({},a),{challenge:i});if(n&&n.length>0){r.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const l=n[s];r.allowCredentials[s]=Object.assign(Object.assign({},l),{id:si(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return r}function h1(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:oa(new Uint8Array(e.response.attestationObject)),clientDataJSON:oa(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function f1(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:oa(new Uint8Array(i.authenticatorData)),clientDataJSON:oa(new Uint8Array(i.clientDataJSON)),signature:oa(new Uint8Array(i.signature)),userHandle:i.userHandle?oa(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ap(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Uf(){var e,t;return!!(He()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function m1(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new vl("Browser returned unexpected credential type",t)}:{data:null,error:new vl("Empty credential response",t)}}catch(t){return{data:null,error:s1({error:t,options:e})}}}async function g1(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new vl("Browser returned unexpected credential type",t)}:{data:null,error:new vl("Empty credential response",t)}}catch(t){return{data:null,error:l1({error:t,options:e})}}}const y1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},p1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function bl(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of e)if(i)for(const r in i){const s=i[r];if(s!==void 0)if(Array.isArray(s))a[r]=s;else if(n(s))a[r]=s;else if(t(s)){const l=a[r];t(l)?a[r]=bl(l,s):a[r]=bl(s)}else a[r]=s}return a}function v1(e,t){return bl(y1,e,t||{})}function b1(e,t){return bl(p1,e,t||{})}class _1{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:i},r){try{const{data:s,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!s)return{data:null,error:l};const o=i??u1.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${a}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=v1(s.webauthn.credential_options.publicKey,r==null?void 0:r.create),{data:c,error:d}=await m1({publicKey:u,signal:o});return c?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=b1(s.webauthn.credential_options.publicKey,r==null?void 0:r.request),{data:c,error:d}=await g1(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:o}));return c?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(s){return z(s)?{data:null,error:s}:{data:null,error:new la("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},r){if(!n)return{data:null,error:new Nr("rpId is required for WebAuthn authentication")};try{if(!Uf())return{data:null,error:new la("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:i},{request:r});if(!s)return{data:null,error:l};const{webauthn:o}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:o.type,rpId:n,rpOrigins:a,credential_response:o.credential_response}})}catch(s){return z(s)?{data:null,error:s}:{data:null,error:new la("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},r){if(!n)return{data:null,error:new Nr("rpId is required for WebAuthn registration")};try{if(!Uf())return{data:null,error:new la("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:l};const{data:o,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:i},{create:r});return o?this._verify({factorId:s.id,challengeId:o.challengeId,webauthn:{rpId:n,rpOrigins:a,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:u}}catch(s){return z(s)?{data:null,error:s}:{data:null,error:new la("Unexpected error in register",s)}}}}n1();const w1={url:px,storageKey:vx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function zf(e,t,n){return await n()}const za={};class Cr{get jwks(){var t,n;return(n=(t=za[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){za[this.storageKey]=Object.assign(Object.assign({},za[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=za[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){za[this.storageKey]=Object.assign(Object.assign({},za[this.storageKey]),{cachedAt:t})}constructor(t){var n,a,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const r=Object.assign(Object.assign({},w1),t);if(this.storageKey=r.storageKey,this.instanceID=(n=Cr.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Cr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.instanceID>0&&He()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=r.persistSession,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Fx({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=ep(r.fetch),this.lock=r.lock||zf,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,this.throwOnError=r.throwOnError,r.lock?this.lock=r.lock:He()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=t1:this.lock=zf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:Fy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Cf(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=Cf(this.memoryStorage)),He()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Iy}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},a="none";if(He()&&(n=Ux(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),He()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:r}=await this._getSessionFromURL(n,a);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),Tx(r)){const o=(t=r.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:s,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return z(n)?this._returnResult({error:n}):this._returnResult({error:new la("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,i;try{const r=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ct}),{data:s,error:l}=r;if(l||!s)return this._returnResult({data:{user:null,session:null},error:l});const o=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:u,session:o},error:null})}catch(r){if(z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signUp(t){var n,a,i;try{let r;if("email"in t){const{email:c,password:d,options:h}=t;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await Na(this.storage,this.storageKey)),r=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:v},xform:Ct})}else if("phone"in t){const{phone:c,password:d,options:h}=t;r=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ct})}else throw new bs("You must provide either an email or phone number and a password");const{data:s,error:l}=r;if(l||!s)return this._returnResult({data:{user:null,session:null},error:l});const o=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:u,session:o},error:null})}catch(r){if(z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithPassword(t){try{let n;if("email"in t){const{email:r,password:s,options:l}=t;n=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Rf})}else if("phone"in t){const{phone:r,password:s,options:l}=t;n=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Rf})}else throw new bs("You must provide either an email or phone number and a password");const{data:a,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!a||!a.session||!a.user){const r=new Ra;return this._returnResult({data:{user:null,session:null},error:r})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(n){if(z(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,a,i,r;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(r=t.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,i,r,s,l,o,u,c,d,h;let f,v;if("message"in t)f=t.message,v=t.signature;else{const{chain:_,wallet:b,statement:p,options:m}=t;let y;if(He())if(typeof b=="object")y=b;else{const x=window;if("ethereum"in x&&typeof x.ethereum=="object"&&"request"in x.ethereum&&typeof x.ethereum.request=="function")y=x.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=b}const w=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href),T=await y.request({method:"eth_requestAccounts"}).then(x=>x).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=np(T[0]);let E=(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!E){const x=await y.request({method:"eth_chainId"});E=a1(x)}const j={domain:w.host,address:A,statement:p,uri:w.href,version:"1",chainId:E,nonce:(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(r=m==null?void 0:m.signInWithEthereum)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(o=m==null?void 0:m.signInWithEthereum)===null||o===void 0?void 0:o.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.resources};f=r1(j),v=await y.request({method:"personal_sign",params:[i1(f),A]})}try{const{data:_,error:b}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:v},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ct});if(b)throw b;if(!_||!_.session||!_.user){const p=new Ra;return this._returnResult({data:{user:null,session:null},error:p})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:b})}catch(_){if(z(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var n,a,i,r,s,l,o,u,c,d,h,f;let v,_;if("message"in t)v=t.message,_=t.signature;else{const{chain:b,wallet:p,statement:m,options:y}=t;let w;if(He())if(typeof p=="object")w=p;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))w=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=p}const T=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const A=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),m?{statement:m}:null));let E;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")E=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)E=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)v=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),_=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${T.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(i=(a=y==null?void 0:y.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((r=y==null?void 0:y.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((d=(c=y==null?void 0:y.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...y.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const A=await w.signMessage(new TextEncoder().encode(v),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=A}}try{const{data:b,error:p}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:oa(_)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ct});if(p)throw p;if(!b||!b.session||!b.user){const m=new Ra;return this._returnResult({data:{user:null,session:null},error:m})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:p})}catch(b){if(z(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const n=await Fn(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(n??"").split("/");try{const{data:r,error:s}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Ct});if(await vn(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!r||!r.session||!r.user){const l=new Ra;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign(Object.assign({},r),{redirectType:i??null}),error:s})}catch(r){if(z(r))return this._returnResult({data:{user:null,session:null,redirectType:null},error:r});throw r}}async signInWithIdToken(t){try{const{options:n,provider:a,token:i,access_token:r,nonce:s}=t,l=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:r,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ct}),{data:o,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!o||!o.session||!o.user){const c=new Ra;return this._returnResult({data:{user:null,session:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:u})}catch(n){if(z(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,a,i,r,s;try{if("email"in t){const{email:l,options:o}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Na(this.storage,this.storageKey));const{error:d}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=o==null?void 0:o.data)!==null&&n!==void 0?n:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:l,options:o}=t,{data:u,error:c}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=o==null?void 0:o.data)!==null&&i!==void 0?i:{},create_user:(r=o==null?void 0:o.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(s=o==null?void 0:o.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new bs("You must provide either an email or phone number.")}catch(l){if(z(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,a;try{let i,r;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,r=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:s,error:l}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:r}}),redirectTo:i,xform:Ct});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const o=s.session,u=s.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:u,session:o},error:null})}catch(i){if(z(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,a,i,r,s;try{let l=null,o=null;this.flowType==="pkce"&&([l,o]=await Na(this.storage,this.storageKey));const u=await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:o}),headers:this.headers,xform:Ix});return!((r=u.data)===null||r===void 0)&&r.url&&He()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(z(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new rt;const{error:i}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(z(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:i,options:r}=t,{error:s}=await B(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},redirectTo:r==null?void 0:r.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:a,type:i,options:r}=t,{data:s,error:l}=await B(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l})}throw new bs("You must provide either an email or phone number and a type")}catch(n){if(z(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Fn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Bo:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const s=await Fn(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=qo()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=Qx(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:r}=await this._callRefreshToken(t.refresh_token);return r?this._returnResult({data:{session:null},error:r}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:An}):await this._useSession(async n=>{var a,i,r;const{data:s,error:l}=n;if(l)throw l;return!(!((a=s.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rt}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:An})})}catch(n){if(z(n))return Ex(n)&&(await this._removeSession(),await vn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:i,error:r}=a;if(r)throw r;if(!i.session)throw new rt;const s=i.session;let l=null,o=null;this.flowType==="pkce"&&t.email!=null&&([l,o]=await Na(this.storage,this.storageKey));const{data:u,error:c}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:o}),jwt:s.access_token,xform:An});if(c)throw c;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(a){if(z(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new rt;const n=Date.now()/1e3;let a=n,i=!0,r=null;const{payload:s}=$o(t.access_token);if(s.exp&&(a=s.exp,i=a<=n),i){const{data:l,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!l)return{data:{user:null,session:null},error:null};r=l}else{const{data:l,error:o}=await this._getUser(t.access_token);if(o)throw o;r={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return this._returnResult({data:{user:r.user,session:r},error:null})}catch(n){if(z(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:s,error:l}=n;if(l)throw l;t=(a=s.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new rt;const{data:i,error:r}=await this._callRefreshToken(t.refresh_token);return r?this._returnResult({data:{user:null,session:null},error:r}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(z(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!He())throw new _s("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _s(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new xf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _s("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xf("No code detected.");const{data:m,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:r,refresh_token:s,expires_in:l,expires_at:o,token_type:u}=t;if(!r||!l||!s||!u)throw new _s("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(l);let h=c+d;o&&(h=parseInt(o));const f=h-c;f*1e3<=$a&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const v=h-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:_,error:b}=await this._getUser(r);if(b)throw b;const p={provider_token:a,provider_refresh_token:i,access_token:r,expires_in:d,expires_at:h,refresh_token:s,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:t.type},error:null})}catch(a){if(z(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Fn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:i,error:r}=n;if(r)return this._returnResult({error:r});const s=(a=i.session)===null||a===void 0?void 0:a.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(xx(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await vn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Cx(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,i;try{const{data:{session:r},error:s}=n;if(s)throw s;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",t,"session",r)}catch(r){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",r),console.error(r)}})}async resetPasswordForEmail(t,n={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await Na(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(z(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:i}=await this._useSession(async r=>{var s,l,o,u,c;const{data:d,error:h}=r;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return He()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:t.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(z(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:i,data:{session:r}}=n;if(i)throw i;const{options:s,provider:l,token:o,access_token:u,nonce:c}=t,d=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=r==null?void 0:r.access_token)!==null&&a!==void 0?a:void 0,body:{provider:l,id_token:o,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ct}),{data:h,error:f}=d;return f?this._returnResult({data:{user:null,session:null},error:f}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Ra}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:f}))}catch(i){if(z(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,i;const{data:r,error:s}=n;if(s)throw s;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(a=r.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(z(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await Mx(async i=>(i>0&&await Dx(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ct})),(i,r)=>{const s=200*Math.pow(2,i);return r&&Lo(r)&&Date.now()+s-a<$a})}catch(a){if(this._debug(n,"error",a),z(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),He()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await Fn(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Fn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await qa(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:qo()}else if(i&&!i.user&&!i.user){const s=await Fn(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await vn(this.storage,this.storageKey+"-user"),await qa(this.storage,this.storageKey,i)):i.user=qo()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const r=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Bo;if(this._debug(a,`session has${r?"":" not"} expired with margin of ${Bo}s`),r){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Lo(s)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(i.access_token);!l&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(a,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Gl;const{data:r,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!r.session)throw new rt;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const l={data:r.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(r){if(this._debug(i,"error",r),z(r)){const s={data:null,error:r};return Lo(r)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(r),r}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,a=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const r=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(o){r.push(o)}});if(await Promise.all(s),r.length>0){for(let l=0;l<r.length;l+=1)console.error(r[l]);throw r[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await qa(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const r=jf(i);await qa(this.storage,this.storageKey,r)}else{const i=jf(n);await qa(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await vn(this.storage,this.storageKey),await vn(this.storage,this.storageKey+"-code-verifier"),await vn(this.storage,this.storageKey+"-user"),this.userStorage&&await vn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&He()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$a);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-t)/$a);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${$a}ms, refresh threshold is ${Zu} ticks`),i<=Zu&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof tp)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!He()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const i=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[r,s]=await Na(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(l.toString())}if(a!=null&&a.queryParams){const r=new URLSearchParams(a.queryParams);i.push(r.toString())}return a!=null&&a.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:i,error:r}=n;return r?this._returnResult({data:null,error:r}):await B(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(z(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,i;const{data:r,error:s}=n;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:o,error:u}=await B(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=r==null?void 0:r.session)===null||a===void 0?void 0:a.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&o.type==="totp"&&(!((i=o==null?void 0:o.totp)===null||i===void 0)&&i.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),this._returnResult({data:o,error:null}))})}catch(n){if(z(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:r}=n;if(r)return this._returnResult({data:null,error:r});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?h1(t.webauthn.credential_response):f1(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:o}=await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:o}))})}catch(n){if(z(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:i,error:r}=n;if(r)return this._returnResult({data:null,error:r});const s=await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});if(s.error)return s;const{data:l}=s;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:c1(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d1(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(z(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const r of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(r),r.status==="verified"&&i[r.factor_type].push(r);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:a},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:r}=$o(a.access_token);let s=null;r.aal&&(s=r.aal);let l=s;((n=(t=a.user.factors)===null||t===void 0?void 0:t.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=r.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;return i?this._returnResult({data:null,error:i}):a?await B(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:r=>({data:r,error:null})}):this._returnResult({data:null,error:new rt})})}catch(n){if(z(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:i},error:r}=a;if(r)return this._returnResult({data:null,error:r});if(!i)return this._returnResult({data:null,error:new rt});const s=await B(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&He()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(a){if(z(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:i},error:r}=a;if(r)return this._returnResult({data:null,error:r});if(!i)return this._returnResult({data:null,error:new rt});const s=await B(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&He()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(a){if(z(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;return a?this._returnResult({data:null,error:a}):n?await B(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new rt})})}catch(t){if(z(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;return i?this._returnResult({data:null,error:i}):a?await B(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new rt})})}catch(n){if(z(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(l=>l.kid===t);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(l=>l.kid===t),a&&this.jwks_cached_at+wx>i)return a;const{data:r,error:s}=await B(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!r.keys||r.keys.length===0||(this.jwks=r,this.jwks_cached_at=i,a=r.keys.find(l=>l.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:f,error:v}=await this.getSession();if(v||!f.session)return this._returnResult({data:null,error:v});a=f.session.access_token}const{header:i,payload:r,signature:s,raw:{header:l,payload:o}}=$o(a);n!=null&&n.allowExpired||Vx(r.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:f}=await this.getUser(a);if(f)throw f;return{data:{claims:r,header:i,signature:s},error:null}}const c=Kx(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,s,Rx(`${l}.${o}`)))throw new ec("Invalid JWT signature");return{data:{claims:r,header:i,signature:s},error:null}}catch(a){if(z(a))return this._returnResult({data:null,error:a});throw a}}}Cr.nextInstanceID={};const S1=Cr;class x1 extends S1{constructor(t){super(t)}}class E1{constructor(t,n,a){var i,r,s;this.supabaseUrl=t,this.supabaseKey=n;const l=yx(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const o=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:ox,realtime:cx,auth:Object.assign(Object.assign({},ux),{storageKey:o}),global:lx},c=gx(a??{},u);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=c.global.headers)!==null&&r!==void 0?r:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=c.auth)!==null&&s!==void 0?s:{},this.headers,c.global.fetch),this.fetch=fx(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new pS(new URL("rest/v1",l).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new ix(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new mS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,a)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:r,storageKey:s,flowType:l,lock:o,debug:u,throwOnError:c},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new x1({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:a,storage:i,userStorage:r,flowType:l,lock:o,debug:u,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new zS(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(t,n,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const T1=(e,t,n)=>new E1(e,t,n);function A1(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}A1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const O1="https://gcymwleouiwugzweewar.supabase.co",j1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdjeW13bGVvdWl3dWd6d2Vld2FyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMzODU2MTEsImV4cCI6MjA3ODk2MTYxMX0.d7Byt2TM9NGIlto7xN29rxU80WvWBIQLuOOZ-8KpY4M",Re=T1(O1,j1),k1=Object.freeze(Object.defineProperty({__proto__:null,supabase:Re},Symbol.toStringTag,{value:"Module"})),ip=S.createContext({user:null,role:null,roleLoading:!1,setRole:()=>{}}),zi=()=>S.useContext(ip),R1=({children:e})=>{const[t,n]=S.useState(null),[a,i]=S.useState(null),[r,s]=S.useState(!1),l=o=>{i(o),typeof window<"u"&&(o?localStorage.setItem("role",o):localStorage.removeItem("role"))};return S.useEffect(()=>{let o=!0;(async()=>{var c,d;try{const h=await Re.auth.getSession(),f=((c=h==null?void 0:h.data)==null?void 0:c.session)??null;if(!o)return;if(f!=null&&f.user){n(f.user);const v=typeof window<"u"?localStorage.getItem("role"):null;if(v)i(v);else{console.log("[AuthProvider] init: session exists but no role, fetching..."),s(!0);try{const _=f.access_token,b="https://top-live-tadpole.ngrok-free.app",p=b?b.replace(/\/$/,""):"/api",m=await fetch(`${p}/api/auth/me`,{headers:{Authorization:`Bearer ${_}`,"ngrok-skip-browser-warning":"true"}});if(m.ok){const y=await m.json(),w=(d=y==null?void 0:y.user)==null?void 0:d.role;w&&o&&l(w)}}catch(_){console.warn("[AuthProvider] init fetch failed",_)}finally{o&&s(!1)}}}else n(null)}catch(h){console.warn("[AuthProvider] getSession failed",h)}})();const{data:u}=Re.auth.onAuthStateChange(async(c,d)=>{var f;if(console.log("[AuthProvider] onAuthStateChange:",c,(d==null?void 0:d.user)??null),!(d!=null&&d.user)){n(null),l(null);return}n(d.user);const h=typeof window<"u"?localStorage.getItem("role"):null;if(h){console.log("[AuthProvider] using persisted role:",h),i(h),s(!1);return}console.log("[AuthProvider] no persisted role, fetching from backend..."),s(!0);try{const v=d.access_token,_="https://top-live-tadpole.ngrok-free.app",b=_?_.replace(/\/$/,""):"/api",p=await fetch(`${b}/api/auth/me`,{headers:{Authorization:`Bearer ${v}`,"ngrok-skip-browser-warning":"true"}});if(p.ok){const m=await p.json(),y=(f=m==null?void 0:m.user)==null?void 0:f.role;console.log("[AuthProvider] fetched role:",y),y&&l(y)}else console.warn("[AuthProvider] failed to fetch role:",p.status)}catch(v){console.error("[AuthProvider] error fetching role:",v)}finally{s(!1)}});return()=>{var c,d;o=!1;try{(d=(c=u==null?void 0:u.subscription)==null?void 0:c.unsubscribe)==null||d.call(c)}catch{}}},[]),g.jsx(ip.Provider,{value:{user:t,role:a,roleLoading:r,setRole:l},children:e})};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),C1=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,a)=>a?a.toUpperCase():n.toLowerCase()),Df=e=>{const t=C1(e);return t.charAt(0).toUpperCase()+t.slice(1)},rp=(...e)=>e.filter((t,n,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===n).join(" ").trim(),U1=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:i="",children:r,iconNode:s,...l},o)=>S.createElement("svg",{ref:o,...z1,width:t,height:t,stroke:e,strokeWidth:a?Number(n)*24/Number(t):n,className:rp("lucide",i),...!r&&!U1(l)&&{"aria-hidden":"true"},...l},[...s.map(([u,c])=>S.createElement(u,c)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(e,t)=>{const n=S.forwardRef(({className:a,...i},r)=>S.createElement(D1,{ref:r,iconNode:t,className:rp(`lucide-${N1(Df(e))}`,`lucide-${e}`,a),...i}));return n.displayName=Df(e),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],B1=fe("chart-no-axes-column",M1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],_d=fe("circle-alert",L1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],q1=fe("circle-check-big",$1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tc=fe("clock",H1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],V1=fe("eye",G1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Y1=fe("hash",K1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],J1=fe("info",Q1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],X1=fe("key",P1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Z1=fe("loader-circle",I1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],F1=fe("log-in",W1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wd=fe("log-out",eE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],nE=fe("moon",tE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],sp=fe("play",aE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rE=fe("plus",iE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],lp=fe("refresh-cw",sE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],oE=fe("send",lE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],op=fe("shield",uE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],dE=fe("square",cE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],fE=fe("sun",hE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Go=fe("trash-2",mE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],yE=fe("triangle-alert",gE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],vE=fe("user-plus",pE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_E=fe("user",bE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Mf=fe("users",wE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xE=fe("x",SE),ue=({className:e="",variant:t="primary",size:n="md",loading:a=!1,icon:i,children:r,disabled:s,...l})=>{const o="inline-flex items-center justify-center rounded-lg font-medium transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-95",u={primary:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500 shadow-lg shadow-indigo-500/30",secondary:"bg-slate-800 text-white hover:bg-slate-900 focus:ring-slate-500 shadow-lg shadow-slate-500/30 dark:bg-slate-700 dark:hover:bg-slate-600",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 shadow-lg shadow-red-500/30",ghost:"bg-transparent text-slate-600 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-800",outline:"bg-transparent border border-slate-300 text-slate-700 hover:bg-slate-50 focus:ring-slate-500 dark:border-slate-600 dark:text-slate-300 dark:hover:bg-slate-800"},c={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return g.jsxs("button",{className:`${o} ${u[t]} ${c[n]} ${e}`,disabled:s||a,...l,children:[a&&g.jsx(Z1,{className:"mr-2 h-4 w-4 animate-spin"}),!a&&i&&g.jsx("span",{className:"mr-2",children:i}),r]})},At=({label:e,error:t,className:n="",...a})=>g.jsxs("div",{className:"w-full",children:[e&&g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:e}),g.jsx("input",{className:`
          w-full rounded-lg border bg-white dark:bg-slate-800 px-3 py-2 text-sm 
          text-slate-900 dark:text-white placeholder:text-slate-400 
          transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent
          disabled:cursor-not-allowed disabled:opacity-50
          ${t?"border-red-500 focus:ring-red-500":"border-slate-300 dark:border-slate-600"}
          ${n}
        `,...a}),t&&g.jsx("p",{className:"mt-1 text-xs text-red-500",children:t})]}),up=()=>{const[e,t]=S.useState(""),[n,a]=S.useState(""),[i,r]=S.useState(null),[s,l]=S.useState(!1),o=Ri(),c=Qt().state||{},d=zi(),h="https://top-live-tadpole.ngrok-free.app",f=()=>h.replace(/\/$/,""),v=async _=>{var b,p,m;_.preventDefault(),l(!0),r(null),console.log(" [SignIn] Starting sign-in...");try{const{data:y,error:w}=await Re.auth.signInWithPassword({email:e,password:n});if(w){console.error(" [Supabase] Error:",w),r(w.message),l(!1);return}const T=(y==null?void 0:y.session)??null,A=(T==null?void 0:T.access_token)??null,j=`${f()}/api/auth/me`;try{const x=await fetch(j,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`,"ngrok-skip-browser-warning":"true"}}),k=await x.text();let M=null;try{M=k?JSON.parse(k):null}catch(Ce){console.error(" [Backend] JSON parse error:",Ce),r(`Invalid server response: ${k}`)}if(!x.ok){const Ce=(M==null?void 0:M.message)??`Status ${x.status}`;r(`Server error: ${Ce}`)}const ee=(b=M==null?void 0:M.user)==null?void 0:b.role;d.setRole(ee??null);const we=(p=c==null?void 0:c.from)==null?void 0:p.pathname;if(we){o(we),l(!1);return}o(ee==="student"?"/student":ee==="teacher"?"/teacher":"/dashboard")}catch(x){console.error(" [Backend] /api/auth/me request failed:",x),r("Signed in locally but failed to contact server for profile. Redirecting to dashboard.");const k=(m=c==null?void 0:c.from)==null?void 0:m.pathname;o(k||"/dashboard")}}catch(y){console.error(" [SignIn] Unexpected error:",y),r((y==null?void 0:y.message)??String(y))}finally{l(!1)}};return g.jsxs("div",{className:"w-full max-w-md mx-auto",children:[g.jsxs("div",{className:"mb-8 text-center",children:[g.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Welcome Back"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Sign in to access your dashboard"})]}),g.jsxs("form",{onSubmit:v,className:"space-y-6",children:[g.jsx(At,{label:"Email Address",type:"email",value:e,onChange:_=>t(_.target.value),placeholder:"you@example.com",required:!0}),g.jsx(At,{label:"Password",type:"password",value:n,onChange:_=>a(_.target.value),placeholder:"",required:!0}),i&&g.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 rounded-lg text-sm flex items-center gap-2",children:[g.jsx(_d,{className:"w-4 h-4"}),i]}),g.jsx(ue,{type:"submit",loading:s,className:"w-full",icon:g.jsx(F1,{className:"w-4 h-4"}),children:"Sign In"})]})]})};function cp({onAfterSignUp:e}){const[t,n]=S.useState(""),[a,i]=S.useState(""),[r,s]=S.useState(""),[l,o]=S.useState("student"),[u,c]=S.useState(""),[d,h]=S.useState(""),[f,v]=S.useState(!1),[_,b]=S.useState(null),p=Ri(),y="https://top-live-tadpole.ngrok-free.app".replace(/\/$/,""),w=()=>{n(""),i(""),s(""),c(""),h("")};async function T(A){if(A==null||A.preventDefault(),b(null),!t.trim()){b("Name is required.");return}if(!a.trim()){b("Email is required.");return}if(!r||r.length<6){b("Password must be at least 6 characters.");return}if(l==="student"&&!u.trim()){b("MIS is required for students.");return}if(l==="teacher"&&!d.trim()){b("Employee ID is required for teachers.");return}v(!0);try{const E={email:a,password:r,name:t,role:l};l==="student"?E.mis=u:E.employee_id=d;const j=await fetch(`${y}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)});if(!j.ok){let k="";try{const M=await j.json();k=(M==null?void 0:M.error)??JSON.stringify(M)}catch{k=await j.text()}b(`Registration failed: ${j.status} ${k}`),v(!1);return}const x=await j.json();b((x==null?void 0:x.message)??"Account created. Check email for verification if enabled."),w(),e?e():p("/signin")}catch(E){b("Network or server error while registering: "+((E==null?void 0:E.message)??String(E)))}finally{v(!1)}}return g.jsxs("div",{className:"w-full max-w-md mx-auto",children:[g.jsxs("div",{className:"mb-8 text-center",children:[g.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Create Account"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Join Scrutiny to start your journey"})]}),g.jsxs("form",{onSubmit:T,className:"space-y-4",children:[g.jsx(At,{label:"Full Name",value:t,onChange:A=>n(A.target.value),placeholder:"John Doe",required:!0,autoComplete:"name"}),g.jsx(At,{label:"Email Address",type:"email",value:a,onChange:A=>i(A.target.value),placeholder:"you@example.com",required:!0,autoComplete:"email"}),g.jsx(At,{label:"Password",type:"password",value:r,onChange:A=>s(A.target.value),placeholder:"Min. 6 characters",required:!0,autoComplete:"new-password"}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Role"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsx("button",{type:"button",onClick:()=>o("student"),className:`flex items-center justify-center px-4 py-2 border rounded-lg text-sm font-medium transition-all ${l==="student"?"border-indigo-600 bg-indigo-50 text-indigo-700 dark:bg-indigo-900/20 dark:text-indigo-400 dark:border-indigo-500":"border-slate-200 bg-white text-slate-600 hover:bg-slate-50 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-300 dark:hover:bg-slate-700"}`,children:"Student"}),g.jsx("button",{type:"button",onClick:()=>o("teacher"),className:`flex items-center justify-center px-4 py-2 border rounded-lg text-sm font-medium transition-all ${l==="teacher"?"border-indigo-600 bg-indigo-50 text-indigo-700 dark:bg-indigo-900/20 dark:text-indigo-400 dark:border-indigo-500":"border-slate-200 bg-white text-slate-600 hover:bg-slate-50 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-300 dark:hover:bg-slate-700"}`,children:"Teacher"})]})]}),l==="student"?g.jsx(At,{label:"MIS Number",value:u,onChange:A=>c(A.target.value),placeholder:"e.g. 112233144",required:!0,autoComplete:"off"}):g.jsx(At,{label:"Employee ID",value:d,onChange:A=>h(A.target.value),placeholder:"e.g. EMP-4567",required:!0,autoComplete:"off"}),_&&g.jsxs("div",{className:`p-3 rounded-lg text-sm flex items-center gap-2 ${_.includes("failed")||_.includes("error")?"bg-red-50 text-red-700 dark:bg-red-900/20 dark:text-red-400":"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400"}`,children:[g.jsx(_d,{className:"w-4 h-4"}),_]}),g.jsx(ue,{type:"submit",loading:f,className:"w-full",icon:g.jsx(vE,{className:"w-4 h-4"}),children:"Create Account"})]})]})}const Yn=({children:e,className:t="",title:n,description:a,footer:i})=>g.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden ${t}`,children:[(n||a)&&g.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-700/50",children:[n&&g.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:n}),a&&g.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:a})]}),g.jsx("div",{className:"p-6",children:e}),i&&g.jsx("div",{className:"px-6 py-4 bg-slate-50 dark:bg-slate-800/50 border-t border-slate-100 dark:border-slate-700/50",children:i})]}),Vl=()=>{const[e,t]=S.useState(()=>typeof window<"u"&&(localStorage.getItem("theme")==="dark"||!localStorage.getItem("theme")&&window.matchMedia("(prefers-color-scheme: dark)").matches)?"dark":"light");return S.useEffect(()=>{const n=window.document.documentElement;e==="dark"?n.classList.add("dark"):n.classList.remove("dark"),localStorage.setItem("theme",e)},[e]),g.jsx("button",{onClick:()=>t(e==="dark"?"light":"dark"),className:"p-2 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",title:"Toggle theme",children:e==="dark"?g.jsx(fE,{className:"h-5 w-5"}):g.jsx(nE,{className:"h-5 w-5"})})},nc=({isOpen:e,onClose:t,title:n,children:a,maxWidth:i="md"})=>{const[r,s]=S.useState(e);if(S.useEffect(()=>{e?s(!0):setTimeout(()=>s(!1),200)},[e]),!r&&!e)return null;const l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl"};return g.jsxs("div",{className:`fixed inset-0 z-50 flex items-center justify-center p-4 transition-opacity duration-200 ${e?"opacity-100":"opacity-0"}`,children:[g.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),g.jsxs("div",{className:`
          relative bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full ${l[i]} 
          transform transition-all duration-200 
          ${e?"scale-100 translate-y-0":"scale-95 translate-y-4"}
        `,children:[g.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100 dark:border-slate-700",children:[g.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:n}),g.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 transition-colors",children:g.jsx(xE,{className:"h-5 w-5"})})]}),g.jsx("div",{className:"p-6 max-h-[80vh] overflow-y-auto",children:a})]})]})};function EE({open:e,onClose:t,onJoined:n}){const[a,i]=S.useState(""),[r,s]=S.useState(!1),[l,o]=S.useState(null),c="https://top-live-tadpole.ngrok-free.app".replace(/\/$/,""),d=async()=>{var h,f,v,_;if(o(null),!a.trim()){o("Please enter a PIN.");return}s(!0);try{const b=await Re.auth.getSession(),p=((f=(h=b==null?void 0:b.data)==null?void 0:h.session)==null?void 0:f.access_token)??null;if(!p){o("No auth token. Please sign in."),s(!1);return}const m=await fetch(`${c}/api/sessions/join`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`,"ngrok-skip-browser-warning":"true"},body:JSON.stringify({pin:a.trim()})}),y=await m.text();let w=null;try{w=y?JSON.parse(y):null}catch{console.warn("[EnterPinModal] join returned non-JSON:",y.slice(0,400))}if(!m.ok){const E=(w==null?void 0:w.message)??y??`Status ${m.status}`;o(`Join failed: ${E}`),s(!1);return}const T=(w==null?void 0:w.sessionId)??((v=w==null?void 0:w.session)==null?void 0:v.id)??null,A=(w==null?void 0:w.quizId)??(w==null?void 0:w.quiz_id)??((_=w==null?void 0:w.quiz)==null?void 0:_.id)??null;console.log("[EnterPinModal] joined session",T,"quizId=",A),o("Joined lobby. Waiting for teacher to start the quiz."),n==null||n(String(T),A?String(A):null)}catch(b){console.error("[EnterPinModal] join error:",b),o("Network or server error: "+((b==null?void 0:b.message)??String(b)))}finally{s(!1)}};return g.jsx(nc,{isOpen:e,onClose:t,title:"Enter PIN",maxWidth:"sm",children:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Enter the PIN provided by your teacher to join the quiz session."}),g.jsx(At,{label:"PIN Code",value:a,onChange:h=>i(h.target.value),placeholder:"e.g. 961971",autoFocus:!0}),l&&g.jsx("div",{className:`text-sm p-2 rounded ${l.includes("Joined")?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":"bg-red-50 text-red-700 dark:bg-red-900/20 dark:text-red-400"}`,children:l}),g.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[g.jsx(ue,{variant:"ghost",onClick:t,children:"Cancel"}),g.jsx(ue,{onClick:d,loading:r,children:"Join Session"})]})]})})}function TE(e,t=2e3){const[n,a]=S.useState(null),[i,r]=S.useState(!!e),[s,l]=S.useState(null),o=S.useRef(!1);return S.useRef(null),S.useEffect(()=>{if(o.current=!1,!e){a(null),r(!1),l(null);return}const c="https://top-live-tadpole.ngrok-free.app".replace(/\/$/,"");let d=!1;const h=async()=>{var w,T;r(!0),l(null);let v=null;try{const A=await Re.auth.getSession();v=((T=(w=A==null?void 0:A.data)==null?void 0:w.session)==null?void 0:T.access_token)??null}catch{v=null}const _={"Content-Type":"application/json","ngrok-skip-browser-warning":"true"};v&&(_.Authorization=`Bearer ${v}`);const b=[`${c}/api/sessions/${encodeURIComponent(e)}/status`];let p=null,m=null;for(const A of b){if(d)break;try{const E=await fetch(A,{method:"GET",headers:_}),j=await E.text();if(j&&j.trim().startsWith("<")){if(m={url:A,status:E.status,raw:j},E.ok)continue;continue}let x=null;try{x=j?JSON.parse(j):null}catch(k){if(m={url:A,status:E.status,parseErr:k},!E.ok)continue;continue}if(!E.ok){m={url:A,status:E.status,payload:x??j};continue}p=x??null;break}catch(E){m=E;continue}}if(d)return;if(p===null){l(m?String((m==null?void 0:m.status)??m):"No session info"),r(!1);return}const y=p.session??p;a(y),r(!1)};h().catch(v=>{console.error("[useSessionPoll] initial fetch error:",v),l(String((v==null?void 0:v.message)??v)),r(!1)});const f=setInterval(()=>{o.current||d||h().catch(v=>{console.warn("[useSessionPoll] poll error:",v)})},t);return()=>{d=!0,o.current=!0,clearInterval(f)}},[e,t]),{session:n,loading:i,error:s,setSession:a}}function Da(e){var o,u,c,d,h,f,v,_,b,p,m;if(!e)return null;const t=e.id??e.sessionId??e.session_id??((o=e.session)==null?void 0:o.id)??null,n=e.quizId??e.quiz_id??((u=e.quiz)==null?void 0:u.id)??((c=e.quiz)==null?void 0:c.quizId)??((d=e.quiz)==null?void 0:d.quiz_id)??e.quiz??((h=e.session)==null?void 0:h.quizId)??((f=e.session)==null?void 0:f.quiz_id)??null,a=e.participants??e.users??e.participantList??[],i=(e.status??e.state??"").toString(),r=e.startsAt??e.startTime??e.start_time??e.starts_at??((v=e.session)==null?void 0:v.startsAt)??((_=e.session)==null?void 0:_.startTime)??null,s=e.endsAt??e.endTime??e.end_time??e.ends_at??((b=e.session)==null?void 0:b.endsAt)??((p=e.session)==null?void 0:p.endTime)??null,l=e.pin??e.pinCode??e.code??((m=e.session)==null?void 0:m.pin)??null;return{...e,id:t,quizId:n,participants:a,status:i,startsAt:r,endsAt:s,pin:l}}function dp({sessionId:e,role:t,onClose:n,onSessionStarted:a,onSessionUpdate:i}){const{session:r,error:s,setSession:l}=TE(e),[o,u]=S.useState(!1),[c,d]=S.useState(null),f="https://top-live-tadpole.ngrok-free.app".replace(/\/$/,"");S.useEffect(()=>{if(!r)return;const p=Da(r);try{p&&(i==null||i(p))}catch(m){console.warn("[LobbyView] onSessionUpdate threw",m)}},[r,i]),S.useEffect(()=>{if(!r)return;(r.status??r.state??"").toString().toLowerCase()==="active"&&(console.log("[LobbyView] detected active session from poll:",r),(async()=>{var m,y;try{const w=await Re.auth.getSession(),T=((y=(m=w==null?void 0:w.data)==null?void 0:m.session)==null?void 0:y.access_token)??null;if(!T){console.warn("[LobbyView] no access token when fetching session details - falling back to poll session");const x=Da(r);a==null||a(x);return}const A=`${f}/api/sessions/${encodeURIComponent(e)}/status`;console.log("[LobbyView] fetching full session details from (status endpoint):",A);try{const x=await fetch(A,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`,"ngrok-skip-browser-warning":"true"}}),k=await x.text();let M=null;try{M=k?JSON.parse(k):null}catch(Ce){console.warn("[LobbyView] could not parse status GET response:",Ce,"raw:",k),M=null}if(!x.ok)throw console.warn("[LobbyView] GET /status returned non-OK:",x.status,k),new Error(`status endpoint returned ${x.status}`);const ee=(M==null?void 0:M.session)??M??r,we=Da(ee);console.log("[LobbyView] fetched session via /status (normalized):",we),a==null||a(we);return}catch(x){console.warn("[LobbyView] status endpoint failed or missing, falling back. err:",x)}const E=[`${f}/api/sessions/${encodeURIComponent(e)}`,`${f}/api/session/${encodeURIComponent(e)}`,`${f}/api/sessions/${encodeURIComponent(e)}/detail`,`${f}/sessions/${encodeURIComponent(e)}`,`/api/sessions/${encodeURIComponent(e)}`];for(const x of E)try{console.log("[LobbyView] fallback fetching session from:",x);const k=await fetch(x,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`,"ngrok-skip-browser-warning":"true"}}),M=await k.text();let ee=null;try{ee=M?JSON.parse(M):null}catch{ee=null}if(!k.ok){console.warn("[LobbyView] fallback returned non-ok:",k.status,M);continue}const we=(ee==null?void 0:ee.session)??ee??r,Ce=Da(we);console.log("[LobbyView] fetched session via fallback (normalized):",Ce),a==null||a(Ce);return}catch(k){console.warn("[LobbyView] fallback fetch failed for",x,k);continue}const j=Da(r);console.warn("[LobbyView] could not fetch canonical session details, passing normalized poll session:",j),a==null||a(j)}catch(w){console.error("[LobbyView] error fetching full session details:",w);const T=Da(r);a==null||a(T)}})())},[r==null?void 0:r.status,f]);const v=S.useMemo(()=>(r==null?void 0:r.participants)??[],[r]),_=async()=>{var p,m;d(null),u(!0);try{const y=await Re.auth.getSession(),w=((m=(p=y==null?void 0:y.data)==null?void 0:p.session)==null?void 0:m.access_token)??null;if(!w){d("No access token."),u(!1);return}const T=`${f}/api/sessions/${encodeURIComponent(e)}/start`;console.log("[LobbyView] POST start session ->",T);const A=await fetch(T,{method:"POST",headers:{Authorization:`Bearer ${w}`,"ngrok-skip-browser-warning":"true"}}),E=await A.text();let j=null;try{j=E?JSON.parse(E):null}catch{j=null}if(!A.ok){d((j==null?void 0:j.message)??E??`Status ${A.status}`),u(!1);return}l(j??r),console.log("[LobbyView] started session:",j)}catch(y){console.error("[LobbyView] start error:",y),d(String((y==null?void 0:y.message)??y))}finally{u(!1)}},b=async()=>{var p,m;d(null),u(!0);try{const y=await Re.auth.getSession(),w=((m=(p=y==null?void 0:y.data)==null?void 0:p.session)==null?void 0:m.access_token)??null;if(!w){d("No access token."),u(!1);return}const T=`${f}/api/sessions/${encodeURIComponent(e)}/end`;console.log("[LobbyView] POST end session ->",T);const A=await fetch(T,{method:"POST",headers:{Authorization:`Bearer ${w}`,"ngrok-skip-browser-warning":"true"}}),E=await A.text();let j=null;try{j=E?JSON.parse(E):null}catch{j=null}if(!A.ok){d((j==null?void 0:j.message)??E??`Status ${A.status}`),u(!1);return}l(j??r),console.log("[LobbyView] ended session:",j)}catch(y){console.error("[LobbyView] end error:",y),d(String((y==null?void 0:y.message)??y))}finally{u(!1)}};return g.jsxs(Yn,{className:"max-w-3xl mx-auto",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-slate-100 dark:border-slate-700",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400",children:[g.jsx(Y1,{className:"w-4 h-4"}),"Session ID"]}),g.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white font-mono",children:(r==null?void 0:r.id)??e}),(r==null?void 0:r.pin)&&g.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 text-xs font-medium",children:["PIN: ",r.pin]})]}),g.jsxs("div",{className:"text-right space-y-1",children:[g.jsxs("div",{className:"flex items-center justify-end gap-2 text-sm text-slate-500 dark:text-slate-400",children:[g.jsx(J1,{className:"w-4 h-4"}),"Status"]}),g.jsx("div",{className:`font-medium px-3 py-1 rounded-full inline-block text-sm ${(r==null?void 0:r.status)==="active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300"}`,children:(r==null?void 0:r.status)??"unknown"}),(r==null?void 0:r.startsAt)&&g.jsxs("div",{className:"flex items-center justify-end gap-1 text-xs text-slate-400",children:[g.jsx(tc,{className:"w-3 h-3"}),new Date(r.startsAt).toLocaleTimeString()]})]})]}),s&&g.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 rounded text-sm",children:s}),c&&g.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 rounded text-sm",children:c}),g.jsxs("div",{className:"mb-6",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-900 dark:text-white mb-3",children:[g.jsx(Mf,{className:"w-4 h-4"}),"Participants (",v.length,")"]}),g.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-200 dark:border-slate-700 p-4 min-h-[100px] max-h-[300px] overflow-y-auto",children:v.length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 text-sm py-4",children:[g.jsx(Mf,{className:"w-8 h-8 mb-2 opacity-20"}),"Waiting for students to join..."]}):g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:v.map((p,m)=>g.jsx("div",{className:"flex items-center justify-between bg-white dark:bg-slate-800 p-2 rounded border border-slate-100 dark:border-slate-700 shadow-sm",children:g.jsxs("div",{className:"truncate",children:[g.jsx("div",{className:"font-medium text-sm text-slate-900 dark:text-white truncate",children:p.name??p.email??p.id}),p.email&&g.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:p.email})]})},p.id??m))})})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-100 dark:border-slate-700",children:[t==="teacher"&&g.jsxs(g.Fragment,{children:[g.jsx(ue,{onClick:_,disabled:o||(r==null?void 0:r.status)==="active",variant:"primary",loading:o,icon:g.jsx(sp,{className:"w-4 h-4"}),children:(r==null?void 0:r.status)==="active"?"Session Active":"Start Session"}),g.jsx(ue,{onClick:b,disabled:o||(r==null?void 0:r.status)!=="active",variant:"danger",icon:g.jsx(dE,{className:"w-4 h-4"}),children:"End Session"})]}),g.jsx(ue,{onClick:()=>n==null?void 0:n(),variant:"outline",children:"Close Lobby"})]})]})}function AE({quiz:e,sessionId:t,onComplete:n}){const[a,i]=S.useState({}),[r,s]=S.useState(!1),[l,o]=S.useState(null),c="https://top-live-tadpole.ngrok-free.app".replace(/\/$/,""),d=(v,_)=>{i(b=>({...b,[v]:_}))},h=async()=>{var _,b,p;if(!t){o("Missing session ID. Cannot submit.");return}const v=((_=e.questions)==null?void 0:_.length)||0;if(!(Object.keys(a).length<v&&!confirm("You haven't answered all questions. Submit anyway?"))){s(!0),o(null);try{const m=await Re.auth.getSession(),y=((p=(b=m==null?void 0:m.data)==null?void 0:b.session)==null?void 0:p.access_token)??null;if(!y){o("No access token. Please sign in again."),s(!1);return}const w={answers:Object.entries(a).map(([j,x])=>({questionIndex:Number(j),selectedOption:x}))},T=await fetch(`${c}/api/sessions/${encodeURIComponent(t)}/submit`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`,"ngrok-skip-browser-warning":"true"},body:JSON.stringify(w)}),A=await T.text();let E=null;try{E=A?JSON.parse(A):null}catch{}if(!T.ok){const j=(E==null?void 0:E.message)??A??`Status ${T.status}`;o(`Submission failed: ${j}`),s(!1);return}console.log("Submission successful:",E),alert(`Quiz submitted! Your score: ${E.score??"?"}/${E.totalQuestions??"?"}`),n&&e.id&&n(String(e.id))}catch(m){console.error("Submit error:",m),o("Network error: "+m.message),s(!1)}}};if(!e)return g.jsx("div",{className:"p-6 text-center text-slate-500",children:"Loading quiz..."});const f=e.questions||[];return g.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 pb-12",children:[g.jsx(Yn,{className:"border-l-4 border-l-indigo-500",children:g.jsxs("div",{className:"flex items-start justify-between",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:e.title}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:e.subject})]}),g.jsxs("div",{className:"text-right text-sm text-slate-500 dark:text-slate-400",children:[g.jsxs("div",{children:[f.length," Questions"]}),t&&g.jsxs("div",{className:"font-mono text-xs mt-1",children:["Session: ",t]})]})]})}),g.jsx("div",{className:"space-y-6",children:f.map((v,_)=>{var b;return g.jsxs(Yn,{className:"relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-slate-200 dark:bg-slate-700",children:a[_]!==void 0&&g.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-green-500"})}),g.jsxs("div",{className:"pl-4",children:[g.jsxs("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-4",children:[g.jsxs("span",{className:"text-slate-400 mr-2",children:[_+1,"."]}),v.questionText]}),g.jsx("div",{className:"space-y-3",children:(b=v.options)==null?void 0:b.map((p,m)=>{const y=a[_]===m;return g.jsxs("label",{className:`flex items-center p-3 rounded-lg border cursor-pointer transition-all ${y?"bg-indigo-50 border-indigo-500 dark:bg-indigo-900/20 dark:border-indigo-500 ring-1 ring-indigo-500":"bg-white border-slate-200 dark:bg-slate-800 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[g.jsx("input",{type:"radio",name:`q-${_}`,className:"w-4 h-4 text-indigo-600 border-gray-300 focus:ring-indigo-500",checked:y,onChange:()=>d(_,m)}),g.jsx("span",{className:`ml-3 ${y?"text-indigo-900 dark:text-indigo-100 font-medium":"text-slate-700 dark:text-slate-300"}`,children:p})]},m)})})]})]},_)})}),l&&g.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 rounded-lg flex items-center gap-2",children:[g.jsx(yE,{className:"w-5 h-5"}),l]}),g.jsx("div",{className:"flex justify-end pt-6 border-t border-slate-200 dark:border-slate-700",children:g.jsx(ue,{size:"lg",onClick:h,loading:r,icon:g.jsx(oE,{className:"w-5 h-5"}),children:"Submit Quiz"})})]})}const OE=e=>{if(!e)return"";try{return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch{return e}};function jE(){var j;const e=zi(),[t,n]=S.useState([]),[a,i]=S.useState(!1),[r,s]=S.useState(null),[l,o]=S.useState(!1),[u,c]=S.useState(null),[d,h]=S.useState(null),f=Qf.useRef(new Set);S.useEffect(()=>{try{const x=localStorage.getItem("submittedItems");x&&(f.current=new Set(JSON.parse(x)))}catch(x){console.warn("Failed to load submitted items",x)}},[]);const v=(x,k)=>{x&&f.current.add(`s:${x}`),k&&f.current.add(`q:${k}`);try{localStorage.setItem("submittedItems",JSON.stringify(Array.from(f.current)))}catch(M){console.warn("Failed to save submitted items",M)}},[_,b]=S.useState(null),m="https://top-live-tadpole.ngrok-free.app".replace(/\/$/,""),y=async()=>{var x;console.log("[StudentDashboard] fetchQuizzes start"),s(null),i(!0);try{const k=await Re.auth.getSession(),M=((x=k==null?void 0:k.data)==null?void 0:x.session)??null,ee=(M==null?void 0:M.access_token)??null;if(!ee){s("No access token available. Please sign in."),i(!1);return}const we=await fetch(`${m}/api/quizzes/history`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`,"ngrok-skip-browser-warning":"true"}}),Ce=await we.text();let Z=null;try{Z=Ce?JSON.parse(Ce):null}catch($){console.warn("[StudentDashboard] could not parse quizzes history response as JSON",$)}if(!we.ok){const $=(Z==null?void 0:Z.message)??Ce??`Status ${we.status}`;s(String($)),i(!1);return}const q=((Array.isArray(Z)?Z:(Z==null?void 0:Z.history)??(Z==null?void 0:Z.data)??[])||[]).filter(Boolean);n(q)}catch(k){console.error("[StudentDashboard] fetchQuizzes error:",k),s(String((k==null?void 0:k.message)??k))}finally{i(!1)}};S.useEffect(()=>{y().catch(x=>console.error(x))},[]);const w=(x,k)=>{console.log("[StudentDashboard] onPinJoined sessionId=",x,"quizId=",k),c(String(x)),k&&h(String(k)),o(!1)},T=async x=>{var ee,we,Ce;console.log("[StudentDashboard] onSessionStarted",x);const k=d??(x==null?void 0:x.quizId)??((ee=x==null?void 0:x.session)==null?void 0:ee.quizId)??null,M=(x==null?void 0:x.id)??(x==null?void 0:x.sessionId);if(M){const Z=`s:${M}`;if(f.current.has(Z)){console.log("[StudentDashboard] Ignoring session start for already submitted session:",Z);return}}if(k){const Z=`q:${k}`;if(f.current.has(Z)){console.log("[StudentDashboard] Ignoring session start for already submitted quiz:",Z);return}}if(!k){s("Quiz details not available yet  please wait for teacher.");return}try{const Z=await Re.auth.getSession(),N=((Ce=(we=Z==null?void 0:Z.data)==null?void 0:we.session)==null?void 0:Ce.access_token)??null;if(!N){s("No auth token available.");return}const q=await fetch(`${m}/api/quizzes/${encodeURIComponent(k)}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`,"ngrok-skip-browser-warning":"true"}}),$=await q.text();let ae=null;try{ae=$?JSON.parse($):null}catch{}if(!q.ok){s("Failed to load quiz details. Please contact your teacher.");return}b(ae)}catch(Z){console.error("[StudentDashboard] error fetching quiz:",Z),s("Network or server error while loading quiz.")}},A=x=>{console.log("[StudentDashboard] lobby update:",x)},E=async()=>{await Re.auth.signOut()};return g.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 transition-colors duration-200 flex flex-col",children:[g.jsx("nav",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4 sticky top-0 z-10 shrink-0",children:g.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:"Scrutiny"}),g.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Student Dashboard"})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-300 hidden md:block",children:((j=e.user)==null?void 0:j.email)??""}),g.jsx(Vl,{}),g.jsx(ue,{variant:"ghost",size:"sm",onClick:E,icon:g.jsx(wd,{className:"w-4 h-4"}),children:"Logout"})]})]})}),g.jsx("main",{className:"flex-1 overflow-auto p-6",children:g.jsx("div",{className:"max-w-5xl mx-auto space-y-8",children:_?g.jsx(AE,{quiz:_,sessionId:u,onComplete:x=>{console.log("[StudentDashboard] Quiz completed, returning to dashboard. qId:",x),v(u,x),b(null),y()}}):g.jsxs(g.Fragment,{children:[u&&g.jsxs(Yn,{className:"mb-8 border-indigo-200 dark:border-indigo-800 bg-indigo-50 dark:bg-indigo-900/20",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"text-lg font-semibold text-indigo-900 dark:text-indigo-300 flex items-center gap-2",children:[g.jsx(tc,{className:"w-5 h-5"}),"Waiting Room"]}),g.jsxs("span",{className:"text-sm font-mono bg-white dark:bg-slate-900 px-2 py-1 rounded border border-indigo-200 dark:border-indigo-800 text-indigo-600 dark:text-indigo-400",children:["Session: ",u]})]}),g.jsx(dp,{sessionId:u,role:"student",onSessionStarted:T,onSessionUpdate:A})]}),g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"My Quiz History"}),g.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:a?"Loading records...":`${t.length} past submissions`})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(ue,{variant:"primary",onClick:()=>o(!0),icon:g.jsx(X1,{className:"w-4 h-4"}),children:"Enter PIN to Join"}),g.jsx(ue,{variant:"outline",onClick:()=>y(),icon:g.jsx(lp,{className:"w-4 h-4"}),children:"Refresh"})]})]}),r&&g.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 rounded-lg flex items-center gap-2",children:[g.jsx(_d,{className:"w-5 h-5"}),r]}),!a&&t.length===0&&!r?g.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-700 mb-4",children:g.jsx(tc,{className:"w-6 h-6 text-slate-400"})}),g.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"No history yet"}),g.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-sm mx-auto mt-1",children:"You haven't taken any quizzes yet. Join a session with a PIN to get started."})]}):g.jsx("div",{className:"grid gap-4",children:t.map((x,k)=>{const M=x.submissionId??x.quizId??x.id??`h-${k}`;return g.jsx(Yn,{className:"hover:shadow-md transition-shadow",children:g.jsx("div",{className:"flex items-center justify-between",children:g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-start justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-lg text-slate-900 dark:text-white",children:x.title??"Untitled Quiz"}),g.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:x.subject??"No subject"})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wider font-medium",children:"Score"}),g.jsxs("div",{className:"font-bold text-2xl text-indigo-600 dark:text-indigo-400",children:[typeof x.score=="number"?`${x.score}`:x.score??"",g.jsxs("span",{className:"text-sm text-slate-400 font-normal ml-1",children:["/ ",x.totalQuestions??""]})]})]})]}),g.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-slate-700 flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400",children:[g.jsx(q1,{className:"w-3 h-3 text-green-500"}),"Submitted on ",x.submittedAt?OE(x.submittedAt):""]})]})})},String(M))})})]})})}),g.jsx(EE,{open:l,onClose:()=>o(!1),onJoined:(x,k)=>{w(x,k??null)}})]})}const kE="https://top-live-tadpole.ngrok-free.app",RE=kE.replace(/\/$/,"");function NE({quizId:e,onCreated:t,onClose:n}){const[a,i]=S.useState(15),[r,s]=S.useState(!1),[l,o]=S.useState(null),u=async()=>{var c,d,h,f;o(null),s(!0);try{const v=await Re.auth.getSession(),_=((d=(c=v==null?void 0:v.data)==null?void 0:c.session)==null?void 0:d.access_token)??null;if(!_){o("No access token. Please re-login."),s(!1);return}const b=await fetch(`${RE}/api/quizzes/${encodeURIComponent(e)}/start`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`,"ngrok-skip-browser-warning":"true"},body:JSON.stringify({duration:a})}),p=await b.text();let m=null;try{m=p?JSON.parse(p):null}catch{m=null}if(!b.ok){o((m==null?void 0:m.message)??p??`Status ${b.status}`),s(!1);return}const y=(m==null?void 0:m.sessionId)??(m==null?void 0:m.id)??(m==null?void 0:m.session_id)??null,w=(m==null?void 0:m.pin)??(m==null?void 0:m.pinCode)??null;console.log("[CreateLobbyModal] created:",m),y&&w?t==null||t(String(y),String(w)):(h=m==null?void 0:m.session)!=null&&h.id&&((f=m==null?void 0:m.session)!=null&&f.pin)?t==null||t(m.session.id,m.session.pin):o("Unexpected response: missing sessionId/pin")}catch(v){console.error("[CreateLobbyModal] error:",v),o(String((v==null?void 0:v.message)??v))}finally{s(!1)}};return g.jsxs("div",{className:"p-4",children:[g.jsx("h3",{className:"text-lg font-semibold",children:"Create Lobby"}),g.jsx("p",{className:"text-sm text-gray-600",children:"Enter duration (minutes) and create a lobby. Students will join with a PIN."}),g.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[g.jsx("input",{type:"number",min:1,value:a,onChange:c=>i(Number(c.target.value)),className:"w-24 rounded border px-2 py-1"}),g.jsx("div",{className:"text-sm text-gray-500",children:"minutes"})]}),l&&g.jsx("div",{className:"text-sm text-red-600 mt-2",children:l}),g.jsxs("div",{className:"mt-4 flex gap-2",children:[g.jsx("button",{onClick:u,className:"bg-blue-600 text-white px-3 py-1 rounded",disabled:r,children:r?"Creating...":"Create"}),g.jsx("button",{onClick:()=>n==null?void 0:n(),className:"px-3 py-1 border rounded",children:"Cancel"})]})]})}const Yi=()=>({questionText:"",options:["",""],correctAnswer:0}),CE=()=>{var Ed;const[e,t]=S.useState(""),[n,a]=S.useState(""),[i,r]=S.useState([Yi()]),[s,l]=S.useState(!1),[o,u]=S.useState(null),[c,d]=S.useState(null),[h,f]=S.useState([]),[v,_]=S.useState(!1),[b,p]=S.useState(null),[m,y]=S.useState(null),[w,T]=S.useState(!1),[A,E]=S.useState(!1),[j,x]=S.useState(null),[k,M]=S.useState(null),[ee,we]=S.useState(!1),[Ce,Z]=S.useState(null),[N,q]=S.useState(null),[$,ae]=S.useState(null),[Te,Xn]=S.useState(!1),[Ea,Ta]=S.useState(!1),[Jt,Bt]=S.useState(!1),[Sd,Di]=S.useState(null),[In,Kl]=S.useState(null),Aa=zi();Ri();const Mi="https://top-live-tadpole.ngrok-free.app".replace(/\/$/,""),fp=(R,C)=>{r(H=>H.map((D,Q)=>Q===R?{...D,...C}:D))},mp=(R,C)=>{fp(R,{questionText:C})},gp=R=>{r(C=>C.map((H,D)=>D===R?{...H,options:[...H.options,""]}:H))},yp=(R,C)=>{r(H=>H.map((D,Q)=>{if(Q!==R)return D;const pe=D.options.filter((re,Se)=>Se!==C);if(pe.length<2)return D;let ve=D.correctAnswer;return C<D.correctAnswer&&(ve=D.correctAnswer-1),ve>=pe.length&&(ve=pe.length-1),{...D,options:pe,correctAnswer:ve}}))},pp=(R,C,H)=>{r(D=>D.map((Q,pe)=>pe===R?{...Q,options:Q.options.map((ve,re)=>re===C?H:ve)}:Q))},vp=(R,C)=>{r(H=>H.map((D,Q)=>Q===R?{...D,correctAnswer:C}:D))},bp=()=>{r(R=>[...R,Yi()])},_p=R=>{r(C=>C.filter((H,D)=>D!==R)||[Yi()])},wp=()=>{if(!e.trim())return{ok:!1,error:"Title is required."};if(!n.trim())return{ok:!1,error:"Subject is required."};if(!i.length)return{ok:!1,error:"Add at least one question."};for(let R=0;R<i.length;R++){const C=i[R];if(!C.questionText.trim())return{ok:!1,error:`Question ${R+1} text is required.`};if(!Array.isArray(C.options)||C.options.length<2)return{ok:!1,error:`Question ${R+1} must have at least 2 options.`};for(let H=0;H<C.options.length;H++)if(!C.options[H].trim())return{ok:!1,error:`Question ${R+1} option ${H+1} cannot be empty.`};if(C.correctAnswer==null||C.correctAnswer<0||C.correctAnswer>=C.options.length)return{ok:!1,error:`Question ${R+1} has an invalid correct answer index.`}}return{ok:!0}},Pr=async()=>{var R,C,H,D,Q,pe,ve;p(null),_(!0);try{const re=await Re.auth.getSession(),Se=((R=re==null?void 0:re.data)==null?void 0:R.session)??null,Lt=(Se==null?void 0:Se.access_token)??null;if(!Lt){p("No access token available. Please sign in."),_(!1);return}const qe=await fetch(`${Mi}/api/quizzes`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Lt}`,"ngrok-skip-browser-warning":"true"}}),Oa=await qe.text();let Me=null;try{Me=Oa?JSON.parse(Oa):null}catch{}if(!qe.ok){const Je=(Me==null?void 0:Me.message)??Oa??`Status ${qe.status}`;p(Je),_(!1);return}const Yl=Array.isArray(Me)?Me:(Me==null?void 0:Me.quizzes)??(Me==null?void 0:Me.data)??[],Up=((C=Aa.user)==null?void 0:C.id)??((D=(H=Aa.user)==null?void 0:H.user)==null?void 0:D.id)??null,Td=((Q=Aa.user)==null?void 0:Q.email)??((ve=(pe=Aa.user)==null?void 0:pe.user)==null?void 0:ve.email)??null,zp=(Yl||[]).filter(Je=>{if(!Je)return!1;const Dp=[Je.teacherId,Je.createdBy,Je.creatorId,Je.ownerId,Je.userId,Je.instructorId,Je.teacher_id,Je.created_by,Je.creator_id,Je.owner_id];for(const Ql of Dp)if(Ql&&(String(Ql)===String(Up)||String(Ql)===String(Td)))return!0;return!!(Je.email&&String(Je.email)===String(Td))});f(zp)}catch(re){p(String((re==null?void 0:re.message)??re))}finally{_(!1)}},Sp=async R=>{var H,D;R==null||R.preventDefault(),u(null),d(null);const C=wp();if(!C.ok){u(C.error??"Validation failed.");return}l(!0);try{const Q=await Re.auth.getSession(),pe=((H=Q==null?void 0:Q.data)==null?void 0:H.session)??null,ve=(pe==null?void 0:pe.access_token)??null;if(!ve){u("No access token available. Please sign in again."),l(!1);return}const re={title:e.trim(),subject:n.trim(),questions:i.map(Me=>({questionText:Me.questionText.trim(),options:Me.options.map(Yl=>Yl.trim()),correctAnswer:Me.correctAnswer}))},Se=await fetch(`${Mi}/api/quizzes`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ve}`,"ngrok-skip-browser-warning":"true"},body:JSON.stringify(re)}),Lt=await Se.text();let qe=null;try{qe=Lt?JSON.parse(Lt):null}catch{}if(!Se.ok){const Me=(qe==null?void 0:qe.message)??Lt??`Status ${Se.status}`;u(`Create failed: ${Me}`),l(!1);return}u("Quiz created successfully.");const Oa=(qe==null?void 0:qe.id)??(qe==null?void 0:qe.quizId)??((D=qe==null?void 0:qe.quiz)==null?void 0:D.id)??null;Oa&&d(String(Oa)),t(""),a(""),r([Yi()]),await Pr()}catch(Q){u("Network or server error: "+((Q==null?void 0:Q.message)??String(Q)))}finally{l(!1)}},xp=async R=>{var C,H;if(confirm("Are you sure you want to delete this quiz? This action cannot be undone."))try{const D=await Re.auth.getSession(),Q=((H=(C=D==null?void 0:D.data)==null?void 0:C.session)==null?void 0:H.access_token)??null;if(!Q){alert("No access token available.");return}const pe=await fetch(`${Mi}/api/quizzes/${encodeURIComponent(R)}`,{method:"DELETE",headers:{Authorization:`Bearer ${Q}`,"ngrok-skip-browser-warning":"true"}});if(!pe.ok){const ve=await pe.text();alert(`Failed to delete: ${ve}`);return}await Pr()}catch(D){alert(`Error deleting quiz: ${D.message}`)}},Ep=async R=>{var C;x(null),E(!0),M(null);try{const H=await Re.auth.getSession(),D=((C=H==null?void 0:H.data)==null?void 0:C.session)??null,Q=(D==null?void 0:D.access_token)??null;if(!Q){x("No access token available. Please sign in."),E(!1);return}const pe=await fetch(`${Mi}/api/quizzes/${encodeURIComponent(R)}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`,"ngrok-skip-browser-warning":"true"}}),ve=await pe.text();let re=null;try{re=ve?JSON.parse(ve):null}catch{}if(!pe.ok){const Lt=(re==null?void 0:re.message)??ve??`Status ${pe.status}`;x(Lt),E(!1);return}const Se=(re==null?void 0:re.quiz)??re??null;M(Se)}catch(H){x(String((H==null?void 0:H.message)??H))}finally{E(!1)}},Tp=async R=>{y(R),T(!0),await Ep(R)},Ap=()=>{T(!1),y(null),M(null),x(null),E(!1)},Op=async()=>{try{await Re.auth.signOut()}catch(R){console.error("signOut threw:",R)}finally{try{Aa.setRole(null)}catch(R){console.warn("auth.setRole null failed:",R)}f([]),u(null),d(null)}},jp=R=>{Z(R),we(!0)},kp=(R,C)=>{we(!1),q(R),ae(C),Xn(!0)},xd=()=>{Xn(!1),q(null),ae(null)},Rp=async R=>{var C,H;Di(null),Kl(null),Bt(!0),Ta(!0);try{const D=await Re.auth.getSession(),Q=((H=(C=D==null?void 0:D.data)==null?void 0:C.session)==null?void 0:H.access_token)??null;if(!Q){Di("No access token. Please sign in."),Bt(!1);return}const pe=`${Mi}/api/quizzes/${encodeURIComponent(R)}/results`,ve=await fetch(pe,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`,"ngrok-skip-browser-warning":"true"}}),re=await ve.text();let Se=null;try{Se=re?JSON.parse(re):null}catch{Se=null}if(!ve.ok){const Lt=(Se==null?void 0:Se.error)??(Se==null?void 0:Se.message)??re??`Status ${ve.status}`;Di(String(Lt)),Bt(!1);return}Kl(Se)}catch(D){Di(String((D==null?void 0:D.message)??D))}finally{Bt(!1)}},Np=()=>{Ta(!1),Kl(null),Bt(!1),Di(null)};S.useEffect(()=>{Pr().catch(R=>console.error(R))},[]);const Cp=({q:R})=>{const C=R.id??R._id??R.quizId??R.id;return g.jsx(Yn,{className:"mb-3 hover:shadow-md transition-shadow",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-semibold text-lg text-slate-900 dark:text-white",children:R.title??"Untitled"}),g.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:R.subject??"No subject"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(ue,{size:"sm",variant:"outline",onClick:()=>Tp(String(C)),icon:g.jsx(V1,{className:"w-4 h-4"}),children:"View"}),g.jsx(ue,{size:"sm",variant:"primary",onClick:()=>jp(String(C)),icon:g.jsx(sp,{className:"w-4 h-4"}),children:"Lobby"}),g.jsx(ue,{size:"sm",variant:"secondary",onClick:()=>Rp(String(C)),icon:g.jsx(B1,{className:"w-4 h-4"}),children:"Results"}),g.jsx(ue,{size:"sm",variant:"danger",onClick:()=>xp(String(C)),icon:g.jsx(Go,{className:"w-4 h-4"}),children:"Delete"})]})]})})};return g.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 transition-colors duration-200",children:[g.jsx("nav",{className:"bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4 sticky top-0 z-10",children:g.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:"Scrutiny"}),g.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Teacher Dashboard"})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-300 hidden md:block",children:((Ed=Aa.user)==null?void 0:Ed.email)??""}),g.jsx(Vl,{}),g.jsx(ue,{variant:"ghost",size:"sm",onClick:Op,icon:g.jsx(wd,{className:"w-4 h-4"}),children:"Logout"})]})]})}),g.jsxs("div",{className:"max-w-7xl mx-auto p-6 grid grid-cols-1 lg:grid-cols-12 gap-8",children:[g.jsx("div",{className:"lg:col-span-7 xl:col-span-8",children:g.jsx(Yn,{title:"Create New Quiz",description:"Design a new quiz for your students.",children:g.jsxs("form",{onSubmit:Sp,className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(At,{label:"Quiz Title",placeholder:"E.g. Midterm Exam - Algebra",value:e,onChange:R=>t(R.target.value)}),g.jsx(At,{label:"Subject",placeholder:"E.g. Mathematics",value:n,onChange:R=>a(R.target.value)})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"Questions"}),g.jsx(ue,{type:"button",size:"sm",onClick:bp,icon:g.jsx(rE,{className:"w-4 h-4"}),children:"Add Question"})]}),i.map((R,C)=>g.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-lg p-4 space-y-4",children:g.jsxs("div",{className:"flex items-start gap-4",children:[g.jsxs("div",{className:"flex-1 space-y-4",children:[g.jsx(At,{label:`Question ${C+1}`,placeholder:"Enter question text",value:R.questionText,onChange:H=>mp(C,H.target.value)}),g.jsxs("div",{className:"space-y-3 pl-4 border-l-2 border-slate-200 dark:border-slate-700",children:[R.options.map((H,D)=>g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("input",{type:"radio",name:`correct-${C}`,checked:R.correctAnswer===D,onChange:()=>vp(C,D),className:"w-4 h-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),g.jsx(At,{placeholder:`Option ${D+1}`,value:H,onChange:Q=>pp(C,D,Q.target.value),className:"flex-1"}),g.jsx("button",{type:"button",onClick:()=>yp(C,D),className:"text-slate-400 hover:text-red-500 transition-colors",children:g.jsx(Go,{className:"w-4 h-4"})})]},D)),g.jsx(ue,{type:"button",size:"sm",variant:"ghost",onClick:()=>gp(C),className:"mt-2",children:"+ Add Option"})]})]}),g.jsx("button",{type:"button",onClick:()=>_p(C),className:"text-slate-400 hover:text-red-500 transition-colors p-1",title:"Remove Question",children:g.jsx(Go,{className:"w-5 h-5"})})]})},C))]}),g.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-100 dark:border-slate-700",children:[g.jsx(ue,{type:"button",variant:"ghost",onClick:()=>{t(""),a(""),r([Yi()]),u(null),d(null)},children:"Reset"}),g.jsx(ue,{type:"submit",loading:s,children:"Create Quiz"})]}),o&&g.jsxs("div",{className:`p-3 rounded-lg text-sm ${o.includes("success")?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":"bg-red-50 text-red-700 dark:bg-red-900/20 dark:text-red-400"}`,children:[o,c&&g.jsxs("span",{className:"block mt-1 font-mono text-xs opacity-80",children:["ID: ",c]})]})]})})}),g.jsxs("div",{className:"lg:col-span-5 xl:col-span-4 space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:"My Quizzes"}),g.jsx(ue,{size:"sm",variant:"ghost",onClick:()=>Pr(),icon:g.jsx(lp,{className:"w-4 h-4"}),children:"Refresh"})]}),v?g.jsx("div",{className:"flex justify-center py-8",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):b?g.jsx("div",{className:"p-4 bg-red-50 text-red-700 rounded-lg text-sm",children:b}):h.length===0?g.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[g.jsx("p",{children:"No quizzes found."}),g.jsx("p",{className:"text-sm mt-1",children:"Create your first quiz to get started."})]}):g.jsx("div",{className:"space-y-4 max-h-[calc(100vh-200px)] overflow-y-auto pr-2 custom-scrollbar",children:h.map(R=>g.jsx(Cp,{q:R},R.id??R._id))})]})]}),g.jsx(nc,{isOpen:w,onClose:Ap,title:(k==null?void 0:k.title)??"Quiz Details",maxWidth:"lg",children:A?g.jsx("div",{className:"flex justify-center py-8",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):j?g.jsx("div",{className:"text-red-600",children:j}):k?g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-500 dark:text-slate-400",children:[g.jsxs("span",{children:["Subject: ",k.subject]}),g.jsxs("span",{className:"font-mono text-xs",children:["ID: ",k.id]})]}),g.jsx("div",{className:"space-y-4",children:(k.questions??[]).map((R,C)=>g.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 rounded-lg p-4",children:[g.jsxs("div",{className:"font-medium mb-3 text-slate-900 dark:text-white",children:[C+1,". ",R.questionText]}),g.jsx("div",{className:"space-y-2",children:R.options.map((H,D)=>{const Q=D===R.correctAnswer;return g.jsxs("div",{className:`flex items-center gap-3 px-3 py-2 rounded-md text-sm ${Q?"bg-green-50 text-green-700 border border-green-200 dark:bg-green-900/20 dark:text-green-400 dark:border-green-900/30":"text-slate-600 dark:text-slate-300"}`,children:[g.jsxs("span",{className:`font-mono font-bold w-6 ${Q?"text-green-600 dark:text-green-400":"text-slate-400"}`,children:[String.fromCharCode(65+D),"."]}),g.jsx("span",{children:H}),Q&&g.jsx("span",{className:"ml-auto text-xs font-medium bg-green-100 dark:bg-green-900/40 px-2 py-0.5 rounded text-green-700 dark:text-green-400",children:"Correct"})]},D)})})]},C))})]}):g.jsx("div",{className:"text-slate-500",children:"No data available."})}),g.jsx(NE,{quizId:Ce,onClose:()=>we(!1),onCreated:kp}),Te&&N&&g.jsx("div",{className:"fixed inset-0 z-50 bg-white dark:bg-slate-900 overflow-auto",children:g.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[g.jsx("div",{className:"mb-6",children:g.jsx(ue,{variant:"outline",onClick:xd,children:" Back to Dashboard"})}),g.jsx(dp,{sessionId:N,role:"teacher",onClose:xd})]})}),g.jsx(nc,{isOpen:Ea,onClose:Np,title:"Quiz Results",maxWidth:"2xl",children:Jt?g.jsx("div",{className:"flex justify-center py-8",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):Sd?g.jsx("div",{className:"text-red-600",children:Sd}):In?g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[g.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 p-4 rounded-lg text-center",children:[g.jsx("div",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:In.totalSubmissions??0}),g.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Submissions"})]}),g.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 p-4 rounded-lg text-center",children:[g.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:In.averageScore?Number(In.averageScore).toFixed(1):""}),g.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Avg Score"})]}),g.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 p-4 rounded-lg text-center",children:[g.jsx("div",{className:"text-2xl font-bold text-amber-600 dark:text-amber-400",children:In.passRate?`${Number(In.passRate).toFixed(0)}%`:""}),g.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Pass Rate"})]})]}),g.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-200 dark:border-slate-700",children:g.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[g.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Student"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Score"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Submitted"})]})}),g.jsx("tbody",{className:"bg-white dark:bg-slate-900 divide-y divide-slate-200 dark:divide-slate-700",children:(In.submissions??[]).map((R,C)=>g.jsxs("tr",{children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-white",children:R.studentName??R.studentEmail??"Anonymous"}),g.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:[R.score," / ",R.totalQuestions]}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-slate-400",children:new Date(R.submittedAt).toLocaleDateString()})]},C))})]})})]}):g.jsx("div",{className:"text-slate-500",children:"No results found."})})]})};function Vo({children:e,allowedRoles:t}){const{user:n,role:a,roleLoading:i}=zi(),r=Qt();return i?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-slate-900",children:g.jsxs("div",{className:"flex flex-col items-center gap-4",children:[g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),g.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Checking permissions..."})]})}):n?t&&t.length>0&&(!a||!t.includes(a))?a==="student"?g.jsx(Zi,{to:"/student",replace:!0}):a==="teacher"?g.jsx(Zi,{to:"/teacher",replace:!0}):g.jsx(Zi,{to:"/",replace:!0}):e:g.jsx(Zi,{to:"/",replace:!0,state:{from:r}})}function hp(){var n;const{user:e,setRole:t}=zi();return Ri(),g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-slate-900 p-6 transition-colors duration-200",children:g.jsxs(Yn,{className:"max-w-md w-full",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsxs("div",{className:"flex items-center gap-2 text-indigo-600 dark:text-indigo-400",children:[g.jsx(op,{className:"w-6 h-6"}),g.jsx("span",{className:"font-bold text-lg",children:"Scrutiny"})]}),g.jsx(Vl,{})]}),g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"w-16 h-16 bg-indigo-100 dark:bg-indigo-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(_E,{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400"})}),g.jsx("h1",{className:"text-2xl font-semibold text-slate-900 dark:text-white",children:"Welcome Back"}),g.jsx("p",{className:"mt-2 text-slate-600 dark:text-slate-400 text-sm",children:((n=e==null?void 0:e.user_metadata)==null?void 0:n.full_name)||(e==null?void 0:e.email)})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx(ml,{to:"/student",className:"block",children:g.jsx(ue,{className:"w-full",variant:"primary",children:"Go to Student Dashboard"})}),g.jsx(ml,{to:"/teacher",className:"block",children:g.jsx(ue,{className:"w-full",variant:"secondary",children:"Go to Teacher Dashboard"})}),g.jsx("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-700 mt-4",children:g.jsx(ue,{variant:"danger",className:"w-full",icon:g.jsx(wd,{className:"w-4 h-4"}),onClick:async()=>{const{supabase:a}=await L_(async()=>{const{supabase:i}=await Promise.resolve().then(()=>k1);return{supabase:i}},[]);await a.auth.signOut(),t(null)},children:"Sign out"})})]})]})})}function UE(){const{user:e,roleLoading:t}=zi(),[n,a]=S.useState("sign-in");return t?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-slate-900",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):e?g.jsx(hp,{}):g.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 flex items-center justify-center p-6 transition-colors duration-200",children:g.jsxs("div",{className:"w-full max-w-4xl bg-white dark:bg-slate-800 rounded-2xl shadow-xl grid grid-cols-1 md:grid-cols-2 overflow-hidden border border-slate-200 dark:border-slate-700",children:[g.jsxs("div",{className:"p-8 md:p-12 bg-gradient-to-br from-indigo-600 to-violet-700 text-white flex flex-col justify-center relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"}),g.jsxs("div",{className:"relative z-10",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[g.jsx(op,{className:"w-8 h-8 text-indigo-200"}),g.jsx("span",{className:"text-2xl font-bold",children:"Scrutiny"})]}),g.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Secure Assessment Platform"}),g.jsx("p",{className:"text-indigo-100 mb-8 leading-relaxed",children:"The modern platform for teachers and students. Create quizzes, manage sessions, and track progress in real-time."}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:()=>a("sign-in"),className:`px-6 py-2.5 rounded-lg text-sm font-medium transition-all ${n==="sign-in"?"bg-white text-indigo-600 shadow-lg":"bg-indigo-800/40 text-white hover:bg-indigo-800/60 backdrop-blur-sm"}`,children:"Sign in"}),g.jsx("button",{onClick:()=>a("sign-up"),className:`px-6 py-2.5 rounded-lg text-sm font-medium transition-all ${n==="sign-up"?"bg-white text-indigo-600 shadow-lg":"bg-indigo-800/40 text-white hover:bg-indigo-800/60 backdrop-blur-sm"}`,children:"Create account"})]}),g.jsx("div",{className:"mt-12 pt-8 border-t border-indigo-500/30 text-xs text-indigo-200",children:g.jsx("p",{children:"Built for secure and reliable testing environments."})})]})]}),g.jsxs("div",{className:"p-8 md:p-12 flex flex-col justify-center relative bg-white dark:bg-slate-800",children:[g.jsx("div",{className:"absolute top-6 right-6",children:g.jsx(Vl,{})}),n==="sign-in"?g.jsxs(g.Fragment,{children:[g.jsx(up,{}),g.jsxs("div",{className:"mt-6 text-center text-sm text-slate-500 dark:text-slate-400",children:["Don't have an account?"," ",g.jsx("button",{className:"text-indigo-600 dark:text-indigo-400 font-medium hover:underline",onClick:()=>a("sign-up"),children:"Create account"})]})]}):g.jsxs(g.Fragment,{children:[g.jsx(cp,{onAfterSignUp:()=>a("sign-in")}),g.jsxs("div",{className:"mt-6 text-center text-sm text-slate-500 dark:text-slate-400",children:["Already have an account?"," ",g.jsx("button",{className:"text-indigo-600 dark:text-indigo-400 font-medium hover:underline",onClick:()=>a("sign-in"),children:"Sign in"})]})]})]})]})})}function zE(){return g.jsx(R1,{children:g.jsx(Ww,{children:g.jsxs(kw,{children:[g.jsx(bn,{path:"/",element:g.jsx(UE,{})}),g.jsx(bn,{path:"/signin",element:g.jsx(up,{})}),g.jsx(bn,{path:"/signup",element:g.jsx(cp,{onAfterSignUp:()=>{}})}),g.jsx(bn,{path:"/student",element:g.jsx(Vo,{allowedRoles:["student"],children:g.jsx(jE,{})})}),g.jsx(bn,{path:"/teacher",element:g.jsx(Vo,{allowedRoles:["teacher"],children:g.jsx(CE,{})})}),g.jsx(bn,{path:"/dashboard",element:g.jsx(Vo,{children:g.jsx(hp,{})})}),g.jsx(bn,{path:"*",element:g.jsx(Zi,{to:"/",replace:!0})})]})})})}const DE=D_.createRoot(document.getElementById("root"));DE.render(g.jsx(Qf.StrictMode,{children:g.jsx(zE,{})}));
